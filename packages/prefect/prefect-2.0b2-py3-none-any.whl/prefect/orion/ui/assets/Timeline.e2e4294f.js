import{e as v,aV as w,f as s,aA as y,o as u,g as _,w as h,i as k,r as g,d as b,u as o,h as B}from"./vendor.20f3e3c2.js";import{T as C}from"./Timeline.42bcbc63.js";import{_ as R,A as a,E as c}from"./index.fdb75d7c.js";const q={class:"timeline-content py-2 px-2 d-flex flex-grow-1"},A=v({async setup(T){let t,r;const i=k(),n=([t,r]=w(()=>a.query({endpoint:c.flow_run,body:{id:i.params.id},options:{pollInterval:5e3}}).fetch()),t=await t,r(),t),d=s(()=>({flow_runs:{id:{any_:[i.params.id]}}})),p={task_runs:a.query({endpoint:c.task_runs,body:d,options:{pollInterval:1e4}})},m=s(()=>{var e;return((e=n.response)==null?void 0:e.value)||{}}),f=s(()=>m.value.end_time),l=s(()=>{var e;return((e=p.task_runs.response)==null?void 0:e.value)||[]});return y(()=>{n.stopPolling(),a.queries.delete(n.id)}),(e,I)=>{const x=g("m-card");return u(),_(x,{class:"timeline d-flex flex-column",width:"auto",shadow:"sm"},{default:h(()=>[b("div",q,[o(l).length?(u(),_(C,{key:0,items:o(l),"max-end-time":o(f),"axis-position":"top","background-color":"blue-5"},null,8,["items","max-end-time"])):B("",!0)])]),_:1})}}});var F=R(A,[["__scopeId","data-v-568b1c60"]]);export{F as default};

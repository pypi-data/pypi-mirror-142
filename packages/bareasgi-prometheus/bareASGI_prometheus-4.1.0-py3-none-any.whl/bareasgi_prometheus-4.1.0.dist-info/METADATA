Metadata-Version: 2.1
Name: bareasgi-prometheus
Version: 4.1.0
Summary: Prometheus metrics for bareASGI
Home-page: https://github.com/rob-blackbourn/bareASGI-prometheus
License: Apache-2.0
Author: Rob Blackbourn
Author-email: rob.blackbourn@gmail.com
Requires-Python: >=3.8,<4.0
Classifier: License :: OSI Approved :: Apache Software License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Requires-Dist: bareASGI (>=4.0.0,<5.0.0)
Requires-Dist: jetblack-metrics (>=1,<2)
Requires-Dist: prometheus_client (>=0.11,<0.12)
Project-URL: Repository, https://github.com/rob-blackbourn/bareASGI-prometheus
Description-Content-Type: text/markdown

# bareASGI-prometheus

[Prometheus](https://prometheus.io/) metrics for bareASGI (read the [docs](https://rob-blackbourn.github.io/bareASGI-prometheus/)).

## Installation

Install from the pie store

```bash
$ pip install bareASGI-prometheus
```

## Usage

The middleware can either be configured manually or with a helper.

### Manual Configuration

```python
from bareasgi import Application
from bareasgi_prometheus import PrometheusMiddleware, prometheus_view

...

prometheus_middleware = PrometheusMiddleware()
app = Application(middlewares=[prometheus_middleware])
app.http_router.add({'GET'}, '/metrics', prometheus_view)
```


### Helper Configuration

```python
from bareasgi import Application
from bareasgi_prometheus import add_prometheus_middleware

...

app = Application()
add_prometheus_middleware(app)
```


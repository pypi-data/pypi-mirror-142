(window.webpackJsonp=window.webpackJsonp||[]).push([[66,94],{724:function(e,t,n){var content=n(786);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(93).default)("3f833adf",content,!0,{sourceMap:!1})},753:function(e,t,n){var content=n(849);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(93).default)("e969bf3c",content,!0,{sourceMap:!1})},757:function(e,t,n){"use strict";n.r(t);n(44),n(37),n(36),n(54),n(28),n(55);var r=n(72),o=n(18),c=(n(784),n(45),n(177),n(15),n(63),n(401),n(94));function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var l={props:{entities:{type:Array},dataset:{type:Object,required:!0},record:{type:Object,required:!0},origin:{type:String,required:!0}},data:function(){return{selectionStart:void 0,selectionEnd:void 0,suggestedLabel:void 0}},computed:{textSpans:function(){for(var e=0,t=[],n=function(e,t){var n=function(e,t){var n=t.findIndex((function(t){return t.start<=e&&e<t.end}));return n>=0?n:void 0};return e.map((function(e){var r=n(e.start,t),o=n(e.end-1,t);return e.start_token&&e.end_token?e:h(h({},e),{},{start_token:r,end_token:o+1})}))}(this.entities,this.record.visualTokens);e<this.record.visualTokens.length;){var r=n.find((function(t){return t.start_token<=e&&e<t.end_token}));if(r)t.push({entity:r,tokens:this.record.visualTokens.slice(r.start_token,r.end_token),start:r.start,end:r.end,origin:this.origin}),e=r.end_token;else{var o=this.record.visualTokens[e];t.push({entity:void 0,tokens:[o],start:o.start,end:o.end,origin:this.origin}),e++}}return t}},methods:h(h({},Object(c.b)({updateRecords:"entities/datasets/updateDatasetRecords"})),{},{updateAnnotatedEntities:function(e){this.updateRecords({dataset:this.dataset,records:[h(h({},this.record),{},{selected:!0,status:"Edited",annotatedEntities:e})]})},reset:function(e){e.target===this.$refs.list&&this.onReset()},onReset:function(){this.selectionStart=void 0,this.selectionEnd=void 0,this.suggestedLabel=void 0},onStartSelection:function(e){this.suggestedLabel=void 0,this.selectionStart=e},onEndSelection:function(e){this.selectionEnd=e},onSelectEntity:function(e){var t=Math.min(this.selectionStart,this.selectionEnd),n=Math.max(this.selectionStart,this.selectionEnd),o=this.textSpans[t].tokens[0],c=this.textSpans[n].tokens.reverse()[0],d=Object(r.a)(this.entities);d.push({start:o.start,end:c.end,label:e}),this.updateAnnotatedEntities(d),this.onReset()},onChangeEntityLabel:function(e,t){var n=this.entities.map((function(n){return n.start===e.start&&n.end===e.end&&n.label===e.label?h(h({},n),{},{label:t}):n}));this.updateAnnotatedEntities(n),this.onReset()},onRemoveEntity:function(e){var t=this.entities.findIndex((function(t){return t.start===e.start&&t.end===e.end&&t.label===e.label})),n=Object(r.a)(this.entities);n.splice(t,1),this.updateAnnotatedEntities(n),this.onReset()},isSelected:function(i){var e=Math.min(this.selectionStart,this.selectionEnd),t=Math.max(this.selectionStart,this.selectionEnd);return this.suggestEntity(),i>=e&&i<=t},isLastSelected:function(i){return i===Math.max(this.selectionStart,this.selectionEnd)},suggestEntity:function(){var e=Math.min(this.selectionStart,this.selectionEnd),t=Math.max(this.selectionStart,this.selectionEnd),n=this.textSpans[e]&&this.textSpans[e].tokens[0],r=this.textSpans[t]&&this.textSpans[t].tokens.reverse()[0],o=this.record.prediction&&this.record.prediction.entities.find((function(e){return e.start===(n&&n.start)&&e.end===(r&&r.end)}));o&&(this.suggestedLabel=o.label)}})},f=(n(785),n(49)),component=Object(f.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.textSpans.length?n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.onReset,expression:"onReset"}],ref:"list",staticClass:"content__input",on:{mouseup:function(t){return e.reset(t)}}},e._l(e.textSpans,(function(t,i){return n("TextSpan",{key:i,class:[e.isSelected(i)?"selected":"",e.isLastSelected(i)?"last-selected":""],attrs:{record:e.record,"span-id":i,spans:e.textSpans,dataset:e.dataset,suggestedLabel:e.suggestedLabel},on:{startSelection:e.onStartSelection,endSelection:e.onEndSelection,selectEntity:e.onSelectEntity,changeEntityLabel:e.onChangeEntityLabel,removeEntity:e.onRemoveEntity,updateRecordEntities:function(t){return e.$emit("updateRecordEntities")}}})})),1):e._e()])}),[],!1,null,"117a56c9",null);t.default=component.exports;installComponents(component,{TextSpan:n(867).default})},784:function(e,t,n){"use strict";var r=n(5),o=n(95).findIndex,c=n(114),d="findIndex",h=!0;d in[]&&Array(1).findIndex((function(){h=!1})),r({target:"Array",proto:!0,forced:h},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),c(d)},785:function(e,t,n){"use strict";n(724)},786:function(e,t,n){var r=n(92)(!1);r.push([e.i,'/*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */.content__input[data-v-117a56c9]{padding-right:200px}.content__actions-buttons[data-v-117a56c9]{margin-right:0;margin-left:auto;display:flex;min-width:20%}.content__actions-buttons .re-button[data-v-117a56c9]{min-height:32px;line-height:32px;display:block;margin:1.5em auto 0 0}.content__actions-buttons .re-button+.re-button[data-v-117a56c9]{margin-left:1em}',""]),e.exports=r},848:function(e,t,n){"use strict";n(753)},849:function(e,t,n){var r=n(92)(!1);r.push([e.i,'/*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */.origins>div[data-v-78f66fe6]:nth-child(2){position:absolute;top:0;left:0;right:0;bottom:0}.origins>div[data-v-78f66fe6]:nth-child(2)  .span__text{opacity:0}.prediction[data-v-78f66fe6]{pointer-events:none}.prediction[data-v-78f66fe6]  .highlight__content{pointer-events:all}.annotation[data-v-78f66fe6]{pointer-events:none}.annotation[data-v-78f66fe6]  .highlight__content{pointer-events:all}[data-v-78f66fe6] .highlight__tooltip__container{pointer-events:all;cursor:default}[data-v-78f66fe6] .highlight__tooltip{cursor:default}',""]),e.exports=r},868:function(e,t,n){"use strict";n.r(t);n(44),n(37),n(36),n(15),n(54),n(28),n(55);var r=n(18);n(45);function o(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function c(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var d={props:{dataset:{type:Object,required:!0},record:{type:Object,required:!0}},data:function(){return{entitiesOrigin:["prediction","annotation"]}},methods:{getEntitiesByOrigin:function(e){return this.record[e]?this.record[e].entities.map((function(t){return c(c({},t),{},{origin:e})})):[]}}},h=(n(848),n(49)),component=Object(h.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"origins"},e._l(e.entitiesOrigin,(function(t){return n("text-spans",{key:t,class:t,attrs:{dataset:e.dataset,record:e.record,origin:t,entities:e.getEntitiesByOrigin(t)}})})),1)}),[],!1,null,"78f66fe6",null);t.default=component.exports;installComponents(component,{TextSpans:n(757).default})}}]);
(self["webpackChunkunmanic_frontend"]=self["webpackChunkunmanic_frontend"]||[]).push([[911],{4911:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>q});var a=n(3673),i=n(2323);const r={class:"iframe-container"},s={key:1},o={class:"full-width row flex-center text-negative q-gutter-sm"},l={class:"full-width row flex-center text-negative absolute-center"};function u(e,t,n,u,d,c){const m=(0,a.up)("q-icon"),g=(0,a.up)("q-item-label"),p=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)("div",r,[null!==d.iframeSrc?((0,a.wg)(),(0,a.j4)("iframe",{key:0,id:"data-panel-iframe",src:d.iframeSrc},"\n        Your browser is not supported. Sorry.\n      ",8,["src"])):((0,a.wg)(),(0,a.j4)("div",s,[(0,a.Wm)("div",o,[(0,a.Wm)(m,{size:"2em",name:"sentiment_dissatisfied"}),(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e.$t("components.dataPanels.noDataPanelsEnabled")),1)])),_:1}),(0,a.Wm)(m,{size:"2em",name:"priority_high"})]),(0,a.Wm)("div",l,[(0,a.Wm)(m,{size:"512px",name:"warning_amber"})])]))])])),_:1})}var d=n(1959),c=n(52),m=n.n(c),g=n(7689),p=n(589);const f={data(){const e=(0,d.iH)(null);return{page:"",iframeSrc:e,iframeHeight:"0px"}},created(){console.debug("Component has been created!"),"undefined"!==typeof this.$route.query&&"undefined"!==typeof this.$route.query.pluginId?(console.debug("Initial update using query in uri - "+this.$route.query.pluginId),this.setPageFromParams(this.$route.query.pluginId)):(console.debug("Fetching enabled panel plugins list and setting the first result as current window"),this.setPageAsFirstEnabledPanel())},methods:{setPageFromParams(e){if("undefined"!==typeof e){let t=p.Z.getItem("theme");console.debug('setting iframe url to "/unmanic/panel/'+e+"/?theme="+t+'"'),this.iframeSrc="/unmanic/panel/"+e+"/?theme="+t}},setPageAsFirstEnabledPanel(){m()({method:"get",url:(0,g.J4)("v2","plugins/panels/enabled")}).then((e=>{if(e.data.results.length>0){let t=e.data.results[0];this.setPageFromParams(t.plugin_id)}})).catch((()=>{this.$q.notify({color:"negative",position:"top",message:this.$t("notifications.failedToFetchEnabledDataPanelPlugins"),icon:"report_problem",actions:[{icon:"close",color:"white"}]})}))}},watch:{$route(e,t){"undefined"!==typeof e.query&&(console.debug("Detected change in route with query in uri - "+e.query.pluginId),this.setPageFromParams(e.query.pluginId))}}};var h=n(4379),b=n(4554),w=n(2350),y=n(7518),P=n.n(y);f.render=u;const q=f;P()(f,"components",{QPage:h.Z,QIcon:b.Z,QItemLabel:w.Z})}}]);
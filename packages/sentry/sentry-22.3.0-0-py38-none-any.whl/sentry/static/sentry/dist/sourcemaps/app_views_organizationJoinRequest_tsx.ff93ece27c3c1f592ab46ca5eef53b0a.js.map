{"version":3,"file":"chunks/app_views_organizationJoinRequest_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/components/narrowLayout.tsx","webpack:///./app/views/organizationJoinRequest.tsx"],"sourcesContent":["import {Component} from 'react';\nimport styled from '@emotion/styled';\n\nimport {logout} from 'sentry/actionCreators/account';\nimport {Client} from 'sentry/api';\nimport {IconSentry} from 'sentry/icons';\nimport {t} from 'sentry/locale';\n\ntype Props = {\n  maxWidth?: string;\n  showLogout?: boolean;\n};\n\nclass NarrowLayout extends Component<Props> {\n  UNSAFE_componentWillMount() {\n    document.body.classList.add('narrow');\n  }\n\n  componentWillUnmount() {\n    this.api.clear();\n    document.body.classList.remove('narrow');\n  }\n\n  private api = new Client();\n\n  handleLogout = () => {\n    logout(this.api).then(() => window.location.assign('/auth/login'));\n  };\n\n  render() {\n    return (\n      <div className=\"app\">\n        <div className=\"pattern-bg\" />\n        <div className=\"container\" style={{maxWidth: this.props.maxWidth}}>\n          <div className=\"box box-modal\">\n            <div className=\"box-header\">\n              <a href=\"/\">\n                <IconSentry size=\"lg\" />\n              </a>\n              {this.props.showLogout && (\n                <a className=\"logout pull-right\" onClick={this.handleLogout}>\n                  <Logout>{t('Sign out')}</Logout>\n                </a>\n              )}\n            </div>\n            <div className=\"box-content with-padding\">{this.props.children}</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst Logout = styled('span')`\n  font-size: 16px;\n`;\n\nexport default NarrowLayout;\n","import {Component} from 'react';\nimport {RouteComponentProps} from 'react-router';\nimport styled from '@emotion/styled';\n\nimport {addErrorMessage} from 'sentry/actionCreators/indicator';\nimport EmailField from 'sentry/components/forms/emailField';\nimport Form from 'sentry/components/forms/form';\nimport NarrowLayout from 'sentry/components/narrowLayout';\nimport {IconMegaphone} from 'sentry/icons';\nimport {t, tct} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {trackAdhocEvent} from 'sentry/utils/analytics';\n\ntype Props = RouteComponentProps<{orgId: string}, {}>;\n\ntype State = {\n  submitSuccess: boolean | null;\n};\n\nclass OrganizationJoinRequest extends Component<Props, State> {\n  state: State = {\n    submitSuccess: null,\n  };\n\n  componentDidMount() {\n    const {orgId} = this.props.params;\n\n    trackAdhocEvent({\n      eventKey: 'join_request.viewed',\n      org_slug: orgId,\n    });\n  }\n\n  handleSubmitSuccess = () => {\n    this.setState({submitSuccess: true});\n  };\n\n  handleSubmitError() {\n    addErrorMessage(t('Request to join failed'));\n  }\n\n  handleCancel = e => {\n    e.preventDefault();\n\n    const {orgId} = this.props.params;\n    window.location.assign(`/auth/login/${orgId}/`);\n  };\n\n  render() {\n    const {orgId} = this.props.params;\n    const {submitSuccess} = this.state;\n\n    if (submitSuccess) {\n      return (\n        <NarrowLayout maxWidth=\"550px\">\n          <SuccessModal>\n            <StyledIconMegaphone size=\"5em\" />\n            <StyledHeader>{t('Request Sent')}</StyledHeader>\n            <StyledText>{t('Your request to join has been sent.')}</StyledText>\n            <ReceiveEmailMessage>\n              {tct('You will receive an email when your request is approved.', {orgId})}\n            </ReceiveEmailMessage>\n          </SuccessModal>\n        </NarrowLayout>\n      );\n    }\n\n    return (\n      <NarrowLayout maxWidth=\"650px\">\n        <StyledIconMegaphone size=\"5em\" />\n        <StyledHeader>{t('Request to Join')}</StyledHeader>\n        <StyledText>\n          {tct('Ask the admins if you can join the [orgId] organization.', {\n            orgId,\n          })}\n        </StyledText>\n        <Form\n          requireChanges\n          apiEndpoint={`/organizations/${orgId}/join-request/`}\n          apiMethod=\"POST\"\n          submitLabel={t('Request to Join')}\n          onSubmitSuccess={this.handleSubmitSuccess}\n          onSubmitError={this.handleSubmitError}\n          onCancel={this.handleCancel}\n        >\n          <StyledEmailField\n            name=\"email\"\n            inline={false}\n            label={t('Email Address')}\n            placeholder=\"name@example.com\"\n          />\n        </Form>\n      </NarrowLayout>\n    );\n  }\n}\n\nconst SuccessModal = styled('div')`\n  display: grid;\n  justify-items: center;\n  text-align: center;\n  padding-top: 10px;\n  padding-bottom: ${space(4)};\n`;\n\nconst StyledIconMegaphone = styled(IconMegaphone)`\n  padding-bottom: ${space(3)};\n`;\n\nconst StyledHeader = styled('h3')`\n  margin-bottom: ${space(1)};\n`;\n\nconst StyledText = styled('p')`\n  margin-bottom: 0;\n`;\n\nconst ReceiveEmailMessage = styled(StyledText)`\n  max-width: 250px;\n`;\n\nconst StyledEmailField = styled(EmailField)`\n  padding-top: ${space(2)};\n  padding-left: 0;\n`;\n\nexport default OrganizationJoinRequest;\n"],"names":["NarrowLayout","Component","Client","logout","this","api","then","window","location","assign","UNSAFE_componentWillMount","document","body","classList","add","componentWillUnmount","clear","remove","render","className","style","maxWidth","props","href","size","showLogout","onClick","handleLogout","Logout","t","children","OrganizationJoinRequest","submitSuccess","setState","e","preventDefault","orgId","params","componentDidMount","trackAdhocEvent","eventKey","org_slug","handleSubmitError","addErrorMessage","state","SuccessModal","StyledIconMegaphone","StyledHeader","StyledText","ReceiveEmailMessage","tct","requireChanges","apiEndpoint","apiMethod","submitLabel","onSubmitSuccess","handleSubmitSuccess","onSubmitError","onCancel","handleCancel","StyledEmailField","name","inline","label","placeholder","space","IconMegaphone","EmailField"],"sourceRoot":""}
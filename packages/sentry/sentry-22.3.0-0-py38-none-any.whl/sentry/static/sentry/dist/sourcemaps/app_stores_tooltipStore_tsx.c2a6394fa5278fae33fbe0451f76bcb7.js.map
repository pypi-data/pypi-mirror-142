{"version":3,"file":"chunks/app_stores_tooltipStore_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"kLAUA,MAgEA,EA9D4C,CAC1CA,SAAU,GAEVC,4BACE,OAAOC,KAAKF,SAASG,QAAOC,IAE1B,MAAMC,EACHD,EAAgBE,qBAAwBF,EAAgBG,gBAC3D,OACIH,EAAQI,MAAcC,WACvBJ,EAAWK,MACVN,EAAQI,MAAcG,yBAQ9BC,kBACE,MAAMZ,EAAWE,KAAKD,4BACtB,SAAKD,EAASa,QAAUb,EAASa,OAvBR,MA2BzBb,EAASc,SAAQV,IACfA,EAAQW,SAAS,CACfC,QAAQ,EACRC,kBAAkB,OAGf,KAMTC,mBACmBhB,KAAKD,4BACba,SAAQV,IACfA,EAAQW,SAAS,CACfC,QAAQ,EACRC,kBAAkB,QAKxBE,OAGE,OAFAC,OAAOC,kBAAoBnB,KAAKU,gBAAgBU,KAAKpB,MACrDkB,OAAOG,mBAAqBrB,KAAKgB,iBAAiBI,KAAKpB,MAChDA,MAGTsB,WAAWpB,GACTF,KAAKF,SAASyB,KAAKrB,IAGrBsB,cAActB,GACZF,KAAKF,SAAWE,KAAKF,SAASG,QAAOwB,GAAKA,IAAMvB,MAIxBe","sources":["webpack:///./app/stores/tooltipStore.tsx"],"sourcesContent":["type TooltipStoreInterface = {\n  addTooltip(tooltip: React.Component): void;\n  closeAllTooltips(): void;\n  getOpenableSingleTooltips(): React.Component[];\n  init(): TooltipStoreInterface;\n  openAllTooltips(): boolean;\n  removeTooltip(tooltip: React.Component): void;\n  tooltips: React.Component[];\n};\n\nconst MAX_TOOLTIPS_TO_OPEN = 100;\n\nconst TooltipStore: TooltipStoreInterface = {\n  tooltips: [],\n\n  getOpenableSingleTooltips() {\n    return this.tooltips.filter(tooltip => {\n      // Filtering out disabled tooltips and lists of tooltips (which cause rendering issues for snapshots) using the internal 'key'\n      const _internals =\n        (tooltip as any)._reactInternalFiber || (tooltip as any)._reactInternals;\n      return (\n        !(tooltip.props as any).disabled &&\n        !_internals.key &&\n        !(tooltip.props as any).disableForVisualTest\n      );\n    });\n  },\n\n  /**\n   * Called via window.__openAllTooltips in selenium tests to check tooltip snapshots\n   */\n  openAllTooltips() {\n    const tooltips = this.getOpenableSingleTooltips();\n    if (!tooltips.length || tooltips.length > MAX_TOOLTIPS_TO_OPEN) {\n      // Pages with too many tooltip components will take too long to render and it isn't likely helpful anyway.\n      return false;\n    }\n    tooltips.forEach(tooltip => {\n      tooltip.setState({\n        isOpen: true,\n        usesGlobalPortal: false,\n      });\n    });\n    return true;\n  },\n\n  /**\n   * Called via window.__closeAllTooltips in selenium tests to cleanup tooltips after taking a snapshot\n   */\n  closeAllTooltips() {\n    const tooltips = this.getOpenableSingleTooltips();\n    tooltips.forEach(tooltip => {\n      tooltip.setState({\n        isOpen: false,\n        usesGlobalPortal: true,\n      });\n    });\n  },\n\n  init(): TooltipStoreInterface {\n    window.__openAllTooltips = this.openAllTooltips.bind(this);\n    window.__closeAllTooltips = this.closeAllTooltips.bind(this);\n    return this;\n  },\n\n  addTooltip(tooltip: React.Component) {\n    this.tooltips.push(tooltip);\n  },\n\n  removeTooltip(tooltip: React.Component) {\n    this.tooltips = this.tooltips.filter(t => t !== tooltip);\n  },\n};\n\nexport default TooltipStore.init();\n"],"names":["tooltips","getOpenableSingleTooltips","this","filter","tooltip","_internals","_reactInternalFiber","_reactInternals","props","disabled","key","disableForVisualTest","openAllTooltips","length","forEach","setState","isOpen","usesGlobalPortal","closeAllTooltips","init","window","__openAllTooltips","bind","__closeAllTooltips","addTooltip","push","removeTooltip","t"],"sourceRoot":""}
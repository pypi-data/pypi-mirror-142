{"version":3,"file":"chunks/SetupWizard.xxxxxxxxxxxxxxxxxxxx.js","mappings":"6iBAYA,SAASA,EAAT,GAA4C,IAAvB,KAACC,GAAO,GAAe,EAC1C,MAAMC,GAAMC,EAAAA,EAAAA,MACLC,EAAUC,IAAeC,EAAAA,EAAAA,WAAS,GAEzCC,eAAeC,IACb,UACQN,EAAIO,eAAgB,WAAUR,MACpC,MACAI,GAAY,GACZK,OAAOC,YAAW,IAAMD,OAAOE,SAAS,MAU5C,OANAC,EAAAA,EAAAA,YAAU,KACR,MAAMC,EAASJ,OAAOK,YAAYP,EAAe,KAEjD,MAAO,IAAME,OAAOM,aAAaF,KAChC,KAGD,QAAC,IAAD,WACE,eAAKG,UAAU,YAAf,SACIb,GAOA,eAAKa,UAAU,MAAf,WACE,wBAAKC,EAAAA,EAAAA,GAAE,qDACP,wBAAKA,EAAAA,EAAAA,GAAE,6CACP,QAAC,KAAD,CAAQC,QAAS,IAAMT,OAAOE,QAA9B,UAAwCM,EAAAA,EAAAA,GAAE,2BAT5C,QAAC,IAAD,CAAkBE,MAAO,CAACC,OAAQ,YAAlC,UACE,eAAKJ,UAAU,MAAf,UACE,wBAAKC,EAAAA,EAAAA,GAAE,2CAzBZlB,EAAAA,YAAAA,cAwCT","sources":["webpack:///./app/views/setupWizard/index.tsx"],"sourcesContent":["import {useEffect, useState} from 'react';\n\nimport Button from 'sentry/components/button';\nimport LoadingIndicator from 'sentry/components/loadingIndicator';\nimport ThemeAndStyleProvider from 'sentry/components/themeAndStyleProvider';\nimport {t} from 'sentry/locale';\nimport useApi from 'sentry/utils/useApi';\n\ntype Props = {\n  hash?: boolean | string;\n};\n\nfunction SetupWizard({hash = false}: Props) {\n  const api = useApi();\n  const [finished, setFinished] = useState(false);\n\n  async function checkFinished() {\n    try {\n      await api.requestPromise(`/wizard/${hash}/`);\n    } catch {\n      setFinished(true);\n      window.setTimeout(() => window.close(), 10000);\n    }\n  }\n\n  useEffect(() => {\n    const poller = window.setInterval(checkFinished, 1000);\n\n    return () => window.clearTimeout(poller);\n  }, []);\n\n  return (\n    <ThemeAndStyleProvider>\n      <div className=\"container\">\n        {!finished ? (\n          <LoadingIndicator style={{margin: '2em auto'}}>\n            <div className=\"row\">\n              <h5>{t('Waiting for wizard to connect')}</h5>\n            </div>\n          </LoadingIndicator>\n        ) : (\n          <div className=\"row\">\n            <h5>{t('Return to your terminal to complete your setup')}</h5>\n            <h5>{t('(This window will close in 10 seconds)')}</h5>\n            <Button onClick={() => window.close()}>{t('Close browser tab')}</Button>\n          </div>\n        )}\n      </div>\n    </ThemeAndStyleProvider>\n  );\n}\n\nexport default SetupWizard;\n"],"names":["SetupWizard","hash","api","useApi","finished","setFinished","useState","async","checkFinished","requestPromise","window","setTimeout","close","useEffect","poller","setInterval","clearTimeout","className","t","onClick","style","margin"],"sourceRoot":""}
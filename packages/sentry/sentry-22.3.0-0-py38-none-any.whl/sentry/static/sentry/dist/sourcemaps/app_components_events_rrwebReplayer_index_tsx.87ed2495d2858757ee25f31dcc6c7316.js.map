{"version":3,"file":"chunks/app_components_events_rrwebReplayer_index_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"goBAWA,MAAMA,EAAoB,IAA6B,IAA5B,IAACC,EAAD,UAAMC,GAAsB,EACrD,MAAOC,EAAUC,IAAeC,EAAAA,EAAAA,UAAgC,OACzDC,EAAQC,IAAaF,EAAAA,EAAAA,YAiC5B,OApBAG,EAAAA,EAAAA,YAAU,KAXSC,WACjB,IACE,MAAMC,QAAaC,MAAMV,GACnBW,QAAaF,EAAKG,OAExBN,EAAUK,EAAKN,QACf,MAAOQ,GACPC,EAAAA,GAAwBD,KAIPE,KAAc,CAACf,KAkBpCO,EAAAA,EAAAA,YAAU,UAfOS,IAAXX,GAIa,OAAbH,GAKJ,IAAIe,EAAAA,EAAY,CACdC,OAAQhB,EACRiB,MAAO,CAACd,OAAAA,EAAQe,UAAU,OAIK,CAACf,EAAQH,KAErC,eAAKmB,IAAKC,GAAMnB,EAAYmB,GAAKrB,UAAWA,KAnC/CF,EAAAA,YAAAA,oBAsCN,UC8OA,GAzRsB,OAAOA,EAAP,sBAAH,w2BAgBDwB,GAAKA,EAAEC,MAAMC,WAhBZ,0aAmCCF,GAAKA,EAAEC,MAAME,WAnCd,qoBAkFKH,GAAKA,EAAEC,MAAMG,QAlFlB,sYA6GJJ,GAAKA,EAAEC,MAAMI,OAAOC,SA7GhB,sDAmHJC,EAAAA,EAAAA,GAAM,GAnHF,kBAoHDP,GAAKA,EAAEC,MAAMO,YApHZ,gDAsHKR,GAAKA,EAAEC,MAAMG,QAtHlB,6CAyHNJ,GAAKA,EAAEC,MAAMQ,WAzHP,8IAqINT,GAAKA,EAAEC,MAAMQ,WArIP,0GAgJCT,GAAKA,EAAEC,MAAMS,aAhJd,iOAqKDV,GAAKA,EAAEC,MAAME,WArKZ,0IA+KDH,GAAKA,EAAEC,MAAMC,WA/KZ,gGAsLRK,EAAAA,EAAAA,GAAM,KAtLE,yDAyLFP,GAAKA,EAAEC,MAAMU,eAzLX,wCA6LNX,GAAKA,EAAEC,MAAMQ,WA7LP,qMA2MLT,GAAKA,EAAEC,MAAMQ,WA3MR,qDAgNDT,GAAKA,EAAEC,MAAMS,aAhNZ,+CAoNNV,GAAKA,EAAEC,MAAMW,OApNP,gBAqNDZ,GAAKA,EAAEC,MAAMY,QArNZ,sfAqQKb,GAAKA,EAAEC,MAAMG,QArQlB,sIA+QDJ,GAAKA,EAAEC,MAAMG,QA/QZ,8EAoRDJ,GAAKA,EAAEC,MAAMY,QApRZ","sources":["webpack:///./app/components/events/rrwebReplayer/rrWebReplayer.tsx","webpack:///./app/components/events/rrwebReplayer/index.tsx"],"sourcesContent":["import {useEffect, useState} from 'react';\nimport * as Sentry from '@sentry/react';\nimport RRWebPlayer from 'rrweb-player';\n\ntype Props = {\n  url: string;\n  className?: string;\n};\n\ntype RRwebEvents = ConstructorParameters<typeof RRWebPlayer>[0]['props']['events'];\n\nconst BaseRRWebReplayer = ({url, className}: Props) => {\n  const [playerEl, setPlayerEl] = useState<HTMLDivElement | null>(null);\n  const [events, setEvents] = useState<RRwebEvents>();\n\n  const loadEvents = async () => {\n    try {\n      const resp = await fetch(url);\n      const data = await resp.json();\n\n      setEvents(data.events);\n    } catch (err) {\n      Sentry.captureException(err);\n    }\n  };\n\n  useEffect(() => void loadEvents(), [url]);\n\n  const initPlayer = () => {\n    if (events === undefined) {\n      return;\n    }\n\n    if (playerEl === null) {\n      return;\n    }\n\n    // eslint-disable-next-line no-new\n    new RRWebPlayer({\n      target: playerEl,\n      props: {events, autoPlay: false},\n    });\n  };\n\n  useEffect(() => void initPlayer(), [events, playerEl]);\n\n  return <div ref={el => setPlayerEl(el)} className={className} />;\n};\n\nexport default BaseRRWebReplayer;\n","import styled from '@emotion/styled';\n\nimport space from 'sentry/styles/space';\n\nimport BaseRRWebReplayer from './rrWebReplayer';\n\nconst RRWebReplayer = styled(BaseRRWebReplayer)`\n  .replayer-mouse {\n    position: absolute;\n    width: 32px;\n    height: 32px;\n    transition: left 0.05s linear, top 0.05s linear;\n    background-size: contain;\n    background-repeat: no-repeat;\n    background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTkiIHZpZXdCb3g9IjAgMCAxMiAxOSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTAgMTZWMEwxMS42IDExLjZINC44TDQuNCAxMS43TDAgMTZaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNOS4xIDE2LjdMNS41IDE4LjJMMC43OTk5OTkgNy4xTDQuNSA1LjZMOS4xIDE2LjdaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNC42NzQ1MSA4LjYxODUxTDIuODMwMzEgOS4zOTI3MUw1LjkyNzExIDE2Ljc2OTVMNy43NzEzMSAxNS45OTUzTDQuNjc0NTEgOC42MTg1MVoiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0xIDIuNFYxMy42TDQgMTAuN0w0LjQgMTAuNkg5LjJMMSAyLjRaIiBmaWxsPSJibGFjayIvPgo8L3N2Zz4K');\n    border-color: transparent;\n  }\n  .replayer-mouse:after {\n    content: '';\n    display: inline-block;\n    width: 32px;\n    height: 32px;\n    background: ${p => p.theme.purple300};\n    border-radius: 100%;\n    transform: translate(-50%, -50%);\n    opacity: 0.3;\n  }\n  .replayer-mouse.active:after {\n    animation: click 0.2s ease-in-out 1;\n  }\n  .replayer-mouse.touch-device {\n    background-image: none;\n    width: 70px;\n    height: 70px;\n    border-radius: 100%;\n    margin-left: -37px;\n    margin-top: -37px;\n    border: 4px solid rgba(73, 80, 246, 0);\n    transition: left 0s linear, top 0s linear, border-color 0.2s ease-in-out;\n  }\n  .replayer-mouse.touch-device.touch-active {\n    border-color: ${p => p.theme.purple200};\n    transition: left 0.25s linear, top 0.25s linear, border-color 0.2s ease-in-out;\n  }\n  .replayer-mouse.touch-device:after {\n    opacity: 0;\n  }\n  .replayer-mouse.touch-device.active:after {\n    animation: touch-click 0.2s ease-in-out 1;\n  }\n  .replayer-mouse-tail {\n    position: absolute;\n    pointer-events: none;\n  }\n  @keyframes click {\n    0% {\n      opacity: 0.3;\n      width: 20px;\n      height: 20px;\n    }\n    50% {\n      opacity: 0.5;\n      width: 10px;\n      height: 10px;\n    }\n  }\n  @keyframes touch-click {\n    0% {\n      opacity: 0;\n      width: 20px;\n      height: 20px;\n    }\n    50% {\n      opacity: 0.5;\n      width: 10px;\n      height: 10px;\n    }\n  }\n  .replayer-wrapper > iframe {\n    border: none;\n  }\n  .rr-player {\n    width: auto !important;\n    height: auto !important;\n  }\n  .rr-player__frame {\n    width: 100% !important;\n    border-radius: 3px 3px 0 0;\n    border: 1px solid ${p => p.theme.border};\n    overflow: hidden;\n  }\n\n  .rr-player iframe {\n    width: 100% !important;\n    height: 100% !important;\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    border: 0;\n  }\n\n  .replayer-wrapper {\n    transform: scale(0.6) translate(0, 0) !important;\n    transform-origin: top left;\n    width: 166.66%;\n    height: 166.66%;\n    overflow: hidden;\n    position: relative;\n    box-shadow: inset 0 -1px 3px rgba(0, 0, 0, 0.08);\n  }\n\n  .replayer-mouse,\n  .replayer-mouse:after {\n    z-index: ${p => p.theme.zIndex.tooltip};\n  }\n\n  .rr-controller {\n    width: 100%;\n    display: block;\n    padding: ${space(2)} 0;\n    background: ${p => p.theme.background};\n    border-radius: 0 0 3px 3px;\n    border: 1px solid ${p => p.theme.border};\n    border-top: none;\n    position: relative;\n    color: ${p => p.theme.textColor};\n  }\n\n  .rr-timeline {\n    width: 100%;\n    display: grid;\n    grid-template-columns: 90px 1fr 90px;\n    align-items: center;\n  }\n\n  .rr-timeline__time {\n    text-align: center;\n    color: ${p => p.theme.textColor};\n  }\n\n  .rr-progress {\n    width: 100%;\n    height: 12px;\n    position: relative;\n    cursor: pointer;\n\n    &:before {\n      content: '';\n      background: ${p => p.theme.innerBorder};\n      border-radius: 3px;\n      display: block;\n      height: 6px;\n      position: absolute;\n      left: 0;\n      right: 0;\n      top: 3px;\n    }\n  }\n\n  .rr-progress.disabled {\n    cursor: not-allowed;\n  }\n\n  .rr-progress__step {\n    height: 6px;\n    position: absolute;\n    left: 0;\n    top: 3px;\n    border-radius: 3px;\n    background: ${p => p.theme.purple200};\n  }\n\n  .rr-progress__handler {\n    width: 20px;\n    height: 20px;\n    border-radius: 50%;\n    position: absolute;\n    top: 6px;\n    transform: translate(-50%, -50%);\n    background: ${p => p.theme.purple300};\n  }\n\n  .rr-controller__btns {\n    display: grid;\n    grid-auto-flow: column;\n    grid-auto-columns: max-content;\n    gap: ${space(0.75)};\n    align-items: center;\n    justify-content: center;\n    font-size: ${p => p.theme.fontSizeSmall};\n  }\n\n  .rr-controller__btns button {\n    color: ${p => p.theme.textColor};\n    width: 28px;\n    height: 28px;\n    display: flex;\n    padding: 0;\n    align-items: center;\n    justify-content: center;\n    background: none;\n    border: none;\n    border-radius: 50%;\n    cursor: pointer;\n    transition: background 200ms ease;\n\n    > svg {\n      fill: ${p => p.theme.textColor};\n    }\n  }\n\n  .rr-controller__btns button:active {\n    background: ${p => p.theme.innerBorder};\n  }\n\n  .rr-controller__btns button.active {\n    color: ${p => p.theme.white};\n    background: ${p => p.theme.active};\n  }\n\n  .rr-controller__btns button:disabled {\n    cursor: not-allowed;\n  }\n\n  .switch {\n    height: 1em;\n    display: flex;\n    align-items: center;\n  }\n\n  .switch.disabled {\n    opacity: 0.5;\n  }\n\n  .label {\n    margin: 0 8px;\n  }\n\n  .switch input[type='checkbox'] {\n    position: absolute;\n    visibility: hidden;\n  }\n\n  .switch label {\n    width: 32px;\n    height: 16px;\n    position: relative;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    margin: 0;\n    padding: 2px 3px;\n  }\n\n  .switch.disabled label {\n    cursor: not-allowed;\n  }\n\n  .switch label:before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    border: 1px solid ${p => p.theme.border};\n    border-radius: 16px;\n  }\n\n  .switch label:after {\n    content: '';\n    width: 10px;\n    height: 10px;\n    border-radius: 50%;\n    transition: all 200ms ease;\n    background: ${p => p.theme.border};\n    z-index: 2;\n  }\n\n  .switch input[type='checkbox']:checked + label:after {\n    background: ${p => p.theme.active};\n    transform: translateX(16px);\n  }\n`;\n\nexport default RRWebReplayer;\n"],"names":["BaseRRWebReplayer","url","className","playerEl","setPlayerEl","useState","events","setEvents","useEffect","async","resp","fetch","data","json","err","Sentry","loadEvents","undefined","RRWebPlayer","target","props","autoPlay","ref","el","p","theme","purple300","purple200","border","zIndex","tooltip","space","background","textColor","innerBorder","fontSizeSmall","white","active"],"sourceRoot":""}
{"version":3,"file":"chunks/app_views_newsletterConsent_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"woBAaA,MAAMA,UAAqBC,EAAAA,UAAiB,qDAU5B,IAAIC,EAAAA,KAVwB,4BAY3B,MACbC,EAAAA,EAAAA,IAAOC,KAAKC,KAAKC,MAAK,IAAMC,OAAOC,SAASC,OAAO,oBAZrDC,4BACEC,SAASC,KAAKC,UAAUC,IAAI,UAG9BC,uBACEX,KAAKC,IAAIW,QACTL,SAASC,KAAKC,UAAUI,OAAO,UASjCC,SACE,OACE,eAAKC,UAAU,MAAf,WACE,eAAKA,UAAU,gBACf,eAAKA,UAAU,YAAYC,MAAO,CAACC,SAAUjB,KAAKkB,MAAMD,UAAxD,UACE,eAAKF,UAAU,gBAAf,WACE,eAAKA,UAAU,aAAf,WACE,aAAGI,KAAK,IAAR,UACE,QAAC,KAAD,CAAYC,KAAK,SAElBpB,KAAKkB,MAAMG,aACV,aAAGN,UAAU,oBAAoBO,QAAStB,KAAKuB,aAA/C,UACE,QAACC,EAAD,WAASC,EAAAA,EAAAA,GAAE,oBAIjB,eAAKV,UAAU,2BAAf,SAA2Cf,KAAKkB,MAAMQ,oBAhC5D9B,EAAAA,YAAAA,eAwCN,MAAM4B,GAAS,OAAO,OAAP,qBAAH,0CAIZ,K,2dC5CA,SAASG,EAAT,GAAqD,IAA1B,gBAACC,GAAyB,EAQnD,OAPAC,EAAAA,EAAAA,YAAU,KACRtB,SAASC,KAAKC,UAAUC,IAAI,QAErB,IAAMH,SAASC,KAAKC,UAAUI,OAAO,UAC3C,KAID,QAAC,IAAD,WACE,QAAC,KAAD,CACEiB,UAAU,OACVC,YAAY,2BACZH,gBAAiBA,EACjBI,aAAaP,EAAAA,EAAAA,GAAE,YAJjB,WAME,QAAC,IAAD,CAAcQ,SAAS,EAAOC,iBAAiB,EAA/C,UACGT,EAAAA,EAAAA,GAAE,4EAEL,QAAC,KAAD,CACEU,KAAK,aAELC,OAAOX,EAAAA,EAAAA,GAAE,iBACTY,UAAQ,EACRC,QAAQ,EACRC,MAAMC,EAAAA,EAAAA,IACH,8UAKD,CAACC,MAAM,QAAC,IAAD,CAActB,KAAK,iCAE5BuB,MAAOC,IACL,QAAC,IAAD,IACMA,EACJP,OAAOX,EAAAA,EAAAA,GAAE,iBACTmB,UAAUnB,EAAAA,EAAAA,GAAE,kDACZoB,SAASpB,EAAAA,EAAAA,GAAE,kDAjBX,mBArBLE,EAAAA,YAAAA,oBA+CT","sources":["webpack:///./app/components/narrowLayout.tsx","webpack:///./app/views/newsletterConsent.tsx"],"sourcesContent":["import {Component} from 'react';\nimport styled from '@emotion/styled';\n\nimport {logout} from 'sentry/actionCreators/account';\nimport {Client} from 'sentry/api';\nimport {IconSentry} from 'sentry/icons';\nimport {t} from 'sentry/locale';\n\ntype Props = {\n  maxWidth?: string;\n  showLogout?: boolean;\n};\n\nclass NarrowLayout extends Component<Props> {\n  UNSAFE_componentWillMount() {\n    document.body.classList.add('narrow');\n  }\n\n  componentWillUnmount() {\n    this.api.clear();\n    document.body.classList.remove('narrow');\n  }\n\n  private api = new Client();\n\n  handleLogout = () => {\n    logout(this.api).then(() => window.location.assign('/auth/login'));\n  };\n\n  render() {\n    return (\n      <div className=\"app\">\n        <div className=\"pattern-bg\" />\n        <div className=\"container\" style={{maxWidth: this.props.maxWidth}}>\n          <div className=\"box box-modal\">\n            <div className=\"box-header\">\n              <a href=\"/\">\n                <IconSentry size=\"lg\" />\n              </a>\n              {this.props.showLogout && (\n                <a className=\"logout pull-right\" onClick={this.handleLogout}>\n                  <Logout>{t('Sign out')}</Logout>\n                </a>\n              )}\n            </div>\n            <div className=\"box-content with-padding\">{this.props.children}</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst Logout = styled('span')`\n  font-size: 16px;\n`;\n\nexport default NarrowLayout;\n","import {useEffect} from 'react';\n\nimport {ApiForm, InputField} from 'sentry/components/forms';\nimport RadioBoolean from 'sentry/components/forms/controls/radioBoolean';\nimport FieldWrapper from 'sentry/components/forms/field/fieldWrapper';\nimport ExternalLink from 'sentry/components/links/externalLink';\nimport NarrowLayout from 'sentry/components/narrowLayout';\nimport {t, tct} from 'sentry/locale';\n\ntype Props = {\n  onSubmitSuccess?: () => void;\n};\n\nfunction NewsletterConsent({onSubmitSuccess}: Props) {\n  useEffect(() => {\n    document.body.classList.add('auth');\n\n    return () => document.body.classList.remove('auth');\n  }, []);\n\n  // NOTE: the text here is duplicated within ``RegisterForm`` on the backend\n  return (\n    <NarrowLayout>\n      <ApiForm\n        apiMethod=\"POST\"\n        apiEndpoint=\"/users/me/subscriptions/\"\n        onSubmitSuccess={onSubmitSuccess}\n        submitLabel={t('Continue')}\n      >\n        <FieldWrapper stacked={false} hasControlState={false}>\n          {t('Pardon the interruption, we just need to get a quick answer from you.')}\n        </FieldWrapper>\n        <InputField\n          name=\"subscribed\"\n          key=\"subscribed\"\n          label={t('Email Updates')}\n          required\n          inline={false}\n          help={tct(\n            `We'd love to keep you updated via email with product and feature\n               announcements, promotions, educational materials, and events. Our updates\n               focus on relevant information, and we'll never sell your data to third\n               parties. See our [link:Privacy Policy] for more details.\n               `,\n            {link: <ExternalLink href=\"https://sentry.io/privacy/\" />}\n          )}\n          field={fieldProps => (\n            <RadioBoolean\n              {...fieldProps}\n              label={t('Email Updates')}\n              yesLabel={t('Yes, I would like to receive updates via email')}\n              noLabel={t(\"No, I'd prefer not to receive these updates\")}\n            />\n          )}\n        />\n      </ApiForm>\n    </NarrowLayout>\n  );\n}\n\nexport default NewsletterConsent;\n"],"names":["NarrowLayout","Component","Client","logout","this","api","then","window","location","assign","UNSAFE_componentWillMount","document","body","classList","add","componentWillUnmount","clear","remove","render","className","style","maxWidth","props","href","size","showLogout","onClick","handleLogout","Logout","t","children","NewsletterConsent","onSubmitSuccess","useEffect","apiMethod","apiEndpoint","submitLabel","stacked","hasControlState","name","label","required","inline","help","tct","link","field","fieldProps","yesLabel","noLabel"],"sourceRoot":""}
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_organizationGroupDetails_groupEventDetails_index_tsx"],{"./app/components/externalIssues/abstractExternalIssueForm.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>g});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),r=s("../node_modules/lodash/debounce.js"),o=s.n(r),a=s("../node_modules/query-string/index.js"),l=s("./app/components/asyncComponent.tsx"),c=s("./app/components/forms/fieldFromConfig.tsx"),d=s("./app/components/forms/form.tsx"),p=s("./app/components/forms/model.tsx"),u=s("./app/components/questionTooltip.tsx"),h=s("./app/locale.tsx"),m=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class g extends l.Z{constructor(){super(...arguments),(0,n.Z)(this,"shouldRenderBadRequests",!0),(0,n.Z)(this,"model",new p.Z),(0,n.Z)(this,"refetchConfig",(()=>{const{action:e,dynamicFieldValues:t}=this.state,s={action:e,...t},n=this.getEndPointString();this.api.request(n,{method:"GET",query:s,success:(e,t,s)=>{this.handleRequestSuccess({stateKey:"integrationDetails",data:e,resp:s},!0)},error:e=>{this.handleError(e,["integrationDetails",n,null,null])}})})),(0,n.Z)(this,"getConfigName",(()=>{const{action:e}=this.state;switch(e){case"create":return"createIssueConfig";case"link":return"linkIssueConfig";default:throw new Error("illegal action")}})),(0,n.Z)(this,"getDynamicFields",(e=>{const{integrationDetails:t}=this.state,s=(e||t||{})[this.getConfigName()];return Object.fromEntries((s||[]).filter((e=>e.updatesForm)).map((e=>[e.name,e.default||null])))})),(0,n.Z)(this,"onRequestSuccess",(e=>{let{stateKey:t,data:s}=e;"integrationDetails"===t&&(this.handleReceiveIntegrationDetails(s),this.setState({dynamicFieldValues:this.getDynamicFields(s)}))})),(0,n.Z)(this,"onFieldChange",((e,t)=>{const{dynamicFieldValues:s}=this.state;this.getDynamicFields().hasOwnProperty(e)&&s&&(s[e]=t,this.setState({dynamicFieldValues:s,reloading:!0,error:!1,remainingRequests:1},this.refetchConfig))})),(0,n.Z)(this,"updateFetchedFieldOptionsCache",((e,t)=>{const{fetchedFieldOptionsCache:s}=this.state;this.setState({fetchedFieldOptionsCache:{...s,[e.name]:t.map((e=>[e.value,e.label]))}})})),(0,n.Z)(this,"ensureCurrentOption",((e,t)=>{const s=this.getDefaultOptions(e).find((t=>t.value===this.model.getValue(e.name)));if(!s)return t;"string"==typeof s.label&&(s.label=(0,m.BX)(i.Fragment,{children:[(0,m.tZ)(u.Z,{title:(0,h._N)("This is your current [label].",{label:e.label}),size:"xs"})," ",s.label]}));const n=t.findIndex((e=>e.value===(null==s?void 0:s.value)));if(n>=0){const e=t;return e[n]=s,e}return[...t,s]})),(0,n.Z)(this,"getOptions",((e,t)=>new Promise(((s,n)=>t?this.debouncedOptionLoad(e,t,((t,i)=>{t?n(t):(i=this.ensureCurrentOption(e,i),this.updateFetchedFieldOptionsCache(e,i),s(i))})):s(this.getDefaultOptions(e)))))),(0,n.Z)(this,"debouncedOptionLoad",o()((async(e,t,s)=>{const{dynamicFieldValues:n}=this.state,i=a.stringify({...n,field:e.name,query:t}),r=e.url||"",o=r.includes("?")?"&":"?";try{const e=await fetch(r+o+i);s(null,e.ok?await e.json():[])}catch(e){s(e)}}),200,{trailing:!0})),(0,n.Z)(this,"getDefaultOptions",(e=>(e.choices||[]).map((e=>{let[t,s]=e;return{value:t,label:s}})))),(0,n.Z)(this,"getFieldProps",(e=>e.url?{async:!0,autoload:!0,cache:!1,loadOptions:t=>this.getOptions(e,t),defaultOptions:this.getDefaultOptions(e),onBlurResetsInput:!1,onCloseResetsInput:!1,onSelectResetsInput:!1}:{})),(0,n.Z)(this,"handleReceiveIntegrationDetails",(e=>{})),(0,n.Z)(this,"renderNavTabs",(()=>null)),(0,n.Z)(this,"renderBodyText",(()=>null)),(0,n.Z)(this,"getTitle",(()=>(0,h._N)("Issue Link Settings",{}))),(0,n.Z)(this,"getFormProps",(()=>{throw new Error("Method 'getFormProps()' must be implemented.")})),(0,n.Z)(this,"getDefaultFormProps",(()=>({footerClass:"modal-footer",onFieldChange:this.onFieldChange,submitDisabled:this.state.reloading,model:this.model}))),(0,n.Z)(this,"getCleanedFields",(()=>{const{fetchedFieldOptionsCache:e,integrationDetails:t}=this.state;return((t||{})[this.getConfigName()]||[]).map((t=>{const s={...t};return null!=e&&e.hasOwnProperty(t.name)&&(s.choices=e[t.name]),s}))})),(0,n.Z)(this,"renderForm",(e=>{const t=(e||[]).reduce(((e,t)=>(e[t.name]=t.multiple&&t.default===[]?"":t.default,e)),{}),{Header:s,Body:n}=this.props;return(0,m.BX)(i.Fragment,{children:[(0,m.tZ)(s,{closeButton:!0,children:this.getTitle()}),this.renderNavTabs(),(0,m.tZ)(n,{children:this.shouldRenderLoading?this.renderLoading():(0,m.BX)(i.Fragment,{children:[this.renderBodyText(),(0,m.tZ)(d.Z,{initialData:t,...this.getFormProps(),children:(e||[]).filter((e=>e.hasOwnProperty("name"))).map((e=>({...e,noOptionsMessage:()=>"No options. Type to search."}))).map((e=>(0,m.tZ)(c.Z,{disabled:this.state.reloading,field:e,flexibleControlStateSize:!0,inline:!1,stacked:!0,...this.getFieldProps(e)},`${e.name}-${e.default}-${e.required}`)))})]})})]})}))}getDefaultState(){return{...super.getDefaultState(),action:"create",dynamicFieldValues:null,fetchedFieldOptionsCache:{},integrationDetails:null}}getEndPointString(){throw new Error("Method 'getEndPointString()' must be implemented.")}renderComponent(){return this.state.error?this.renderError(new Error("Unable to load all required endpoints")):this.renderBody()}}},"./app/components/globalAppStoreConnectUpdateAlert/index.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>g});var n=s("./app/components/projects/appStoreConnectContext.tsx"),i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("../node_modules/react/index.js"),o=s("./app/components/alert.tsx"),a=s("./app/icons/index.tsx"),l=s("./app/styles/space.tsx"),c=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const d=function(e){let{Wrapper:t,project:s,className:i}=e;const o=(0,r.useContext)(n.Z);if(!s||!o||!Object.keys(o).some((e=>!!o[e].updateAlertMessage)))return null;const l=(0,c.tZ)(p,{className:i,children:Object.keys(o).map((e=>{const{updateAlertMessage:t}=o[e];return t?(0,c.tZ)(u,{type:"warning",icon:(0,c.tZ)(a.tr,{}),children:(0,c.tZ)(h,{children:t})},e):null}))});return t?(0,c.tZ)(t,{children:l}):l},p=(0,i.Z)("div",{target:"e16hnbbm2"})("display:grid;gap:",(0,l.Z)(2),";margin-bottom:",(0,l.Z)(3),";"),u=(0,i.Z)(o.Z,{target:"e16hnbbm1"})({name:"1ykowef",styles:"margin-bottom:0"}),h=(0,i.Z)("div",{target:"e16hnbbm0"})("display:grid;grid-template-columns:1fr max-content;gap:",(0,l.Z)(1),";");function m(e){let{project:t,organization:s,...i}=e;return(0,c.tZ)(n.z,{project:t,organization:s,children:(0,c.tZ)(d,{project:t,organization:s,...i})})}m.displayName="GlobalAppStoreConnectUpdateAlert";const g=m},"./app/components/navigationButtonGroup.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var n=s("./app/components/button.tsx"),i=s("./app/components/buttonBar.tsx"),r=s("./app/icons/index.tsx"),o=s("./app/locale.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=e=>{let{links:t,hasNext:s=!1,hasPrevious:l=!1,className:c,size:d,onOldestClick:p,onOlderClick:u,onNewerClick:h,onNewestClick:m}=e;return(0,a.BX)(i.ZP,{className:c,merged:!0,children:[(0,a.tZ)(n.ZP,{size:d,to:t[0],disabled:!l,"aria-label":(0,o.t)("Oldest"),icon:(0,a.tZ)(r.sm,{size:"xs"}),onClick:p}),(0,a.tZ)(n.ZP,{size:d,to:t[1],disabled:!l,onClick:u,children:(0,o.t)("Older")}),(0,a.tZ)(n.ZP,{size:d,to:t[2],disabled:!s,onClick:h,children:(0,o.t)("Newer")}),(0,a.tZ)(n.ZP,{size:d,to:t[3],disabled:!s,"aria-label":(0,o.t)("Newest"),icon:(0,a.tZ)(r.pi,{size:"xs"}),onClick:m})]})};l.displayName="NavigationButtonGroup";const c=l},"./app/components/projects/appStoreConnectContext.tsx":(e,t,s)=>{"use strict";s.d(t,{z:()=>l,Z:()=>c}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("../node_modules/react/index.js"),i=s("./app/utils/appStoreValidationErrorMessage.tsx"),r=s("./app/utils/useApi.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=(0,n.createContext)(void 0),l=e=>{let{children:t,project:s,organization:l}=e;const c=(0,r.Z)(),[d,p]=(0,n.useState)(),[u,h]=(0,n.useState)(void 0),m=l.slug,g=(null!=d&&d.symbolSources?JSON.parse(d.symbolSources):[]).reduce(((e,t)=>{let{type:s,id:n,...i}=t;return"appstoreconnect"===s.toLowerCase()&&(e[n]={type:s,...i}),e}),{});function Z(e,t){if("valid"!==(null==t?void 0:t.status))return(0,i.e)(t,e)}return(0,n.useEffect)((()=>{!async function(){if(s&&!d)if(s.symbolSources)p(s);else try{const e=await c.requestPromise(`/projects/${m}/${s.slug}/`);p(e)}catch{}}()}),[s]),(0,n.useEffect)((()=>{!async function(){if(d&&Object.keys(g).length)try{const e=await c.requestPromise(`/projects/${m}/${d.slug}/appstoreconnect/status/`);h(e)}catch{}}()}),[d]),(0,o.tZ)(a.Provider,{value:u&&s?Object.keys(u).reduce(((e,t)=>{const n=u[t];return{...e,[t]:{...n,updateAlertMessage:Z({name:g[t].name,link:`/settings/${l.slug}/projects/${s.slug}/debug-symbols/?customRepository=${t}`},n.credentials)}}}),{}):void 0,children:t})};l.displayName="Provider";const c=a},"./app/components/quickTrace/index.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>w});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),r=s("./app/components/dropdownLink.tsx"),o=s("./app/components/idBadge/projectBadge.tsx"),a=s("./app/components/quickTrace/utils.tsx"),l=s("./app/components/tooltip.tsx"),c=s("./app/data/platformCategories.tsx"),d=s("./app/icons/index.tsx"),p=s("./app/locale.tsx"),u=s("./app/utils/analytics.tsx"),h=s("./app/utils/docs.tsx"),m=s("./app/utils/formatters.tsx"),g=s("./app/utils/localStorage.tsx"),Z=s("./app/utils/performance/quickTrace/utils.tsx"),v=s("./app/utils/projects.tsx"),f=s("./app/components/quickTrace/styles.tsx"),y=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const x=[...c.tQ,...c.ai],b=[...c.y3,...c.Wp],k={root:"root",ancestors:"ancestor",parent:"parent",current:"",children:"child",descendants:"descendant"};function w(e){let t,{event:s,quickTrace:n,location:r,organization:o,anchor:a,errorDest:l,transactionDest:c}=e;try{t=(0,Z.R8)(n,s,o)}catch(e){return(0,y.tZ)(i.Fragment,{children:"â€”"})}const d=n.trace&&n.trace.length,{root:u,ancestors:h,parent:m,children:g,descendants:k,current:w}=t,S=[];u&&(S.push((0,y.tZ)(_,{location:r,organization:o,events:[u],currentEvent:s,text:(0,p.t)("Root"),anchor:a,nodeKey:"root",errorDest:l,transactionDest:c},"root-node")),S.push((0,y.tZ)(f.c_,{},"root-connector"))),null!=h&&h.length&&(S.push((0,y.tZ)(_,{location:r,organization:o,events:h,currentEvent:s,text:(0,p.tn)("%s Ancestor","%s Ancestors",h.length),anchor:a,nodeKey:"ancestors",errorDest:l,transactionDest:c},"ancestors-node")),S.push((0,y.tZ)(f.c_,{},"ancestors-connector"))),m&&(S.push((0,y.tZ)(_,{location:r,organization:o,events:[m],currentEvent:s,text:(0,p.t)("Parent"),anchor:a,nodeKey:"parent",errorDest:l,transactionDest:c},"parent-node")),S.push((0,y.tZ)(f.c_,{},"parent-connector")));const C=(0,y.tZ)(_,{location:r,organization:o,text:(0,p.t)("This Event"),events:[w],currentEvent:s,anchor:a,nodeKey:"current",errorDest:l,transactionDest:c},"current-node");return 1===d?S.push((0,y.tZ)(v.Z,{orgId:o.slug,slugs:[w.project_slug],children:e=>{let{projects:t}=e;const s=t.find((e=>e.slug===w.project_slug));if(null!=s&&s.platform){if(b.includes(s.platform))return(0,y.BX)(i.Fragment,{children:[(0,y.tZ)(z,{anchor:a,organization:o,platform:s.platform,connectorSide:"right"}),C]});if(x.includes(s.platform))return(0,y.BX)(i.Fragment,{children:[C,(0,y.tZ)(z,{anchor:a,organization:o,platform:s.platform,connectorSide:"left"})]})}return C}},"missing-services")):S.push(C),g.length&&(S.push((0,y.tZ)(f.c_,{},"children-connector")),S.push((0,y.tZ)(_,{location:r,organization:o,events:g,currentEvent:s,text:(0,p.tn)("%s Child","%s Children",g.length),anchor:a,nodeKey:"children",errorDest:l,transactionDest:c},"children-node"))),null!=k&&k.length&&(S.push((0,y.tZ)(f.c_,{},"descendants-connector")),S.push((0,y.tZ)(_,{location:r,organization:o,events:k,currentEvent:s,text:(0,p.tn)("%s Descendant","%s Descendants",k.length),anchor:a,nodeKey:"descendants",errorDest:l,transactionDest:c},"descendants-node"))),(0,y.tZ)(f.mg,{children:S})}function S(e,t,s){(0,u.ec)({eventKey:"quick_trace.dropdown.clicked"+(s?"_extra":""),eventName:"Quick Trace: Dropdown clicked",organization_id:parseInt(t.id,10),node_key:e})}function _(e){let{location:t,organization:s,events:n=[],text:i,currentEvent:o,nodeKey:l,anchor:c,errorDest:h,transactionDest:g,numEvents:Z=5}=e,v=n.flatMap((e=>{var t;return null!==(t=e.errors)&&void 0!==t?t:[]})),x="current"===l?"black":"white";const b=v.length>0;if(b&&(x="current"===l?"error":"warning",i=(0,y.BX)(f.Gs,{children:[(0,y.tZ)(d.zC,{size:"xs"}),i]})),n=n.filter((e=>e.event_id!==o.id)),v=v.filter((e=>e.event_id!==o.id)),n.length+v.length===0)return(0,y.tZ)(f.Wf,{type:x,children:i});if(n.length+v.length===1){const e=v.length?(0,p.t)("View the error for this Transaction"):(0,y.tZ)(f.VS,{event:n[0]}),r=v.length?(0,a.Tn)(v[0],s,t,h):(0,a.MV)(n[0],s,t,g);return(0,y.tZ)(j,{text:i,hoverText:e,to:r,onClick:()=>function(e,t){(0,u.ec)({eventKey:"quick_trace.node.clicked",eventName:"Quick Trace: Node clicked",organization_id:parseInt(t.id,10),node_key:e})}(l,s),type:x,shouldOffset:b})}const w=(0,p._N)("View [eventPrefix] [eventType]",{eventPrefix:k[l],eventType:v.length&&n.length?"events":n.length?"transactions":"errors"});return(0,y.tZ)(f.DZ,{children:(0,y.BX)(r.Z,{caret:!1,title:(0,y.tZ)(j,{text:i,hoverText:w,type:x,shouldOffset:b}),anchorRight:"right"===c,children:[v.length>0&&(0,y.tZ)(f.rZ,{first:!0,children:(0,p.tn)("Related Error","Related Errors",v.length)}),v.slice(0,Z).map((e=>{const n=(0,a.Tn)(e,s,t,h);return(0,y.tZ)(C,{event:e,to:n,allowDefaultEvent:!0,onSelect:()=>S(l,s,!1),organization:s,anchor:c},e.event_id)})),n.length>0&&(0,y.tZ)(f.rZ,{first:0===v.length,children:(0,p.tn)("Transaction","Transactions",n.length)}),n.slice(0,Z).map((e=>{const n=(0,a.MV)(e,s,t,g);return(0,y.tZ)(C,{event:e,to:n,onSelect:()=>S(l,s,!1),allowDefaultEvent:!0,organization:s,subtext:(0,m.g9)(e["transaction.duration"]/1e3,e["transaction.duration"]<1e3?0:2,!0),anchor:c},e.event_id)})),(v.length>Z||n.length>Z)&&(0,y.tZ)(f.hP,{to:(0,a.aV)(o,s),allowDefaultEvent:!0,onSelect:()=>S(l,s,!0),children:(0,p.t)("View all events")})]})})}function C(e){let{event:t,onSelect:s,to:n,allowDefaultEvent:i,organization:r,subtext:l,anchor:c}=e;return(0,y.BX)(f.hP,{to:n,onSelect:s,allowDefaultEvent:i,children:[(0,y.BX)(f.I4,{children:[(0,y.tZ)(v.Z,{orgId:r.slug,slugs:[t.project_slug],children:e=>{let{projects:s}=e;const n=s.find((e=>e.slug===t.project_slug));return(0,y.tZ)(o.Z,{disableLink:!0,hideName:!0,project:n||{slug:t.project_slug},avatarSize:16})}}),(0,a.t_)(t)?(0,y.tZ)(f.PI,{value:t.transaction,expandDirection:"left"===c?"right":"left",maxLength:35,leftTrim:!0,trimRegex:/\.|\//g}):(0,y.tZ)(f.PI,{value:t.title,expandDirection:"left"===c?"right":"left",maxLength:45})]}),l&&(0,y.tZ)(f.df,{children:l})]})}function j(e){let{text:t,hoverText:s,to:n,onClick:i,type:r="white",shouldOffset:o=!1}=e;return(0,y.tZ)(l.Z,{position:"top",containerDisplayMode:"inline-flex",title:s,children:(0,y.tZ)(f.Wf,{type:r,icon:null,to:n,onClick:i,shouldOffset:o,children:t})})}w.displayName="QuickTrace",_.displayName="EventNodeSelector",C.displayName="DropdownNodeItem",j.displayName="StyledEventNode";const I="quick-trace:hide-missing-services";function E(){const e=g.Z.getItem(I);return null!==e&&parseInt(e,10)>(new Date).getTime()}class z extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{hideMissing:E()}),(0,n.Z)(this,"dismissMissingService",(()=>{const{organization:e,platform:t}=this.props,s=(new Date).getTime();g.Z.setItem(I,(s+2592e6).toString()),this.setState({hideMissing:!0}),(0,u.ec)({eventKey:"quick_trace.missing_service.dismiss",eventName:"Quick Trace: Missing Service Dismissed",organization_id:parseInt(e.id,10),platform:t})})),(0,n.Z)(this,"trackExternalLink",(()=>{const{organization:e,platform:t}=this.props;(0,u.ec)({eventKey:"quick_trace.missing_service.docs",eventName:"Quick Trace: Missing Service Clicked",organization_id:parseInt(e.id,10),platform:t})}))}render(){const{hideMissing:e}=this.state,{anchor:t,connectorSide:s,platform:n}=this.props;if(e)return null;const o=(0,h.Q)(n,!0),a=null===o||"javascript"===o?"https://docs.sentry.io/platforms/javascript/performance/connect-services/":`https://docs.sentry.io/platforms/${o}/performance#connecting-services`;return(0,y.BX)(i.Fragment,{children:["left"===s&&(0,y.tZ)(f.c_,{}),(0,y.tZ)(f.DZ,{children:(0,y.BX)(r.Z,{caret:!1,title:(0,y.tZ)(j,{type:"white",hoverText:(0,p.t)("No services connected"),text:"???"}),anchorRight:"right"===t,children:[(0,y.tZ)(f.hP,{width:"small",children:(0,y.tZ)(f.AX,{href:a,onClick:this.trackExternalLink,children:(0,p.t)("Connect to a service")})}),(0,y.tZ)(f.hP,{onSelect:this.dismissMissingService,width:"small",children:(0,p.t)("Dismiss")})]})}),"right"===s&&(0,y.tZ)(f.c_,{})]})}}z.displayName="MissingServiceNode"},"./app/components/reprocessedBox.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),o=s("./app/components/events/styles.tsx"),a=s("./app/components/links/link.tsx"),l=s("./app/icons/index.tsx"),c=s("./app/locale.tsx"),d=s("./app/styles/space.tsx"),p=s("./app/utils/localStorage.tsx"),u=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class h extends r.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{isBannerHidden:"true"===p.Z.getItem(this.getBannerUniqueId())}),(0,n.Z)(this,"handleBannerDismiss",(()=>{p.Z.setItem(this.getBannerUniqueId(),"true"),this.setState({isBannerHidden:!0})}))}getBannerUniqueId(){const{reprocessActivity:e}=this.props,{id:t}=e;return`reprocessed-activity-${t}-banner-dismissed`}renderMessage(){const{orgSlug:e,reprocessActivity:t,groupCount:s,groupId:n}=this.props,{data:i}=t,{eventCount:r,oldGroupId:o,newGroupId:l}=i,d=`/organizations/${e}/issues/?query=reprocessing.original_issue_id:${o}`;return 0===s?(0,c._N)("All events in this issue were moved during reprocessing. [link]",{link:(0,u.tZ)(a.Z,{to:d,children:(0,c.tn)("See %s new event","See %s new events",r)})}):(0,c._N)("Events in this issue were successfully reprocessed. [link]",{link:(0,u.tZ)(a.Z,{to:d,children:l===Number(n)?(0,c.tn)("See %s reprocessed event","See %s reprocessed events",r):(0,c.tn)("See %s new event","See %s new events",r)})})}render(){const{isBannerHidden:e}=this.state;if(e)return null;const{className:t}=this.props;return(0,u.tZ)(o.UP,{priority:"success",className:t,children:(0,u.BX)(g,{children:[(0,u.tZ)(l.DL,{color:"green300",isCircled:!0}),(0,u.tZ)("span",{children:this.renderMessage()}),(0,u.tZ)(Z,{color:"green300","aria-label":(0,c.t)("Dismiss"),isCircled:!0,onClick:this.handleBannerDismiss})]})})}}h.displayName="ReprocessedBox";const m=h,g=(0,i.Z)(o._B,{target:"e17keqf51"})("&>svg:last-child{margin-right:0;margin-left:",(0,d.Z)(1),";}"),Z=(0,i.Z)(l.bM,{target:"e17keqf50"})({name:"e0dnmk",styles:"cursor:pointer"})},"./app/utils/appStoreValidationErrorMessage.tsx":(e,t,s)=>{"use strict";s.d(t,{O:()=>a,e:()=>l});var n=s("../node_modules/@sentry/minimal/esm/index.js"),i=s("./app/components/links/link.tsx"),r=s("./app/locale.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=(0,r.t)("An unexpected error occurred while configuring the App Store Connect integration");function l(e,t){switch(e.code){case"app-connect-authentication-error":return t?(0,r._N)("App Store Connect credentials are invalid or missing. [linkToCustomRepository]",{linkToCustomRepository:(0,o.tZ)(i.Z,{to:t.link,children:(0,r._N)("Make sure the credentials of the '[customRepositoryName]' repository are correct and exist.",{customRepositoryName:t.name})})}):(0,r.t)("The supplied App Store Connect credentials are invalid or missing.");case"app-connect-forbidden-error":return(0,r.t)("The supplied API key does not have sufficient permissions.");case"app-connect-multiple-sources-error":return(0,r.t)("Only one App Store Connect application is allowed in this project.");default:return n.Tb(new Error("Unknown app store connect error.")),a}}},"./app/utils/discover/genericDiscoverQuery.tsx":(e,t,s)=>{"use strict";s.d(t,{AA:()=>u,ZP:()=>h});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),r=s("./app/locale.tsx"),o=s("./app/utils/discover/eventView.tsx"),a=s("./app/utils/performance/contexts/performanceEventViewContext.tsx"),l=s("./app/utils/useOrganization.tsx"),c=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class d extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{isLoading:!0,tableFetchID:void 0,error:null,tableData:null,pageLinks:null}),(0,n.Z)(this,"_shouldRefetchData",(e=>{const t=this.getPayload(this.props),s=this.getPayload(e);return!(0,o.ze)(t,s)||e.limit!==this.props.limit||e.route!==this.props.route||e.cursor!==this.props.cursor})),(0,n.Z)(this,"fetchData",(async()=>{const{api:e,beforeFetch:t,afterFetch:s,didFetch:n,eventView:i,orgSlug:o,route:a,setError:l}=this.props;if(!i.isValid())return;const c=`/organizations/${o}/${a}/`,d=Symbol("tableFetchID"),p=this.getPayload(this.props);this.setState({isLoading:!0,tableFetchID:d}),null==l||l(void 0),null==t||t(e),e.clear();try{const[t,,i]=await u(e,c,p);if(this.state.tableFetchID!==d)return;const r=s?s(t,this.props):t;null==n||n(r),this.setState((e=>{var t;return{isLoading:!1,tableFetchID:void 0,error:null,pageLinks:null!==(t=null==i?void 0:i.getResponseHeader("Link"))&&void 0!==t?t:e.pageLinks,tableData:r}}))}catch(e){var h;const t=(null==e||null===(h=e.responseJSON)||void 0===h?void 0:h.detail)||(0,r.t)("An unknown error occurred.");this.setState({isLoading:!1,tableFetchID:void 0,error:t,tableData:null}),l&&l(t)}}))}componentDidMount(){this.fetchData()}componentDidUpdate(e){const t=this._shouldRefetchData(e),s=!1===e.eventView.isValid()&&this.props.eventView.isValid(),n=!!this.props.shouldRefetchData&&this.props.shouldRefetchData(e,this.props);(t||s||n)&&this.fetchData()}getPayload(e){var t;const{cursor:s,limit:n,noPagination:i,referrer:r}=e,o=this.props.getRequestPayload?this.props.getRequestPayload(e):e.eventView.getEventsAPIPayload(e.location);return s&&(o.cursor=s),n&&(o.per_page=n),i&&(o.noPagination=i),r&&(o.referrer=r),Object.assign(o,null!==(t=e.queryExtras)&&void 0!==t?t:{}),o}render(){const{isLoading:e,error:t,tableData:s,pageLinks:n}=this.state,i={isLoading:e,error:t,tableData:s,pageLinks:n},r=this.props.children;return null==r?void 0:r(i)}}function p(e){var t,s;const n=null!==(t=e.orgSlug)&&void 0!==t?t:(0,l.Z)().slug,i=null!==(s=e.eventView)&&void 0!==s?s:(0,a.wj)(),r={...e,orgSlug:n,eventView:i};return(0,c.tZ)(d,{...r})}async function u(e,t,s){return e.requestPromise(t,{method:"GET",includeAllArgs:!0,query:{...s}})}d.displayName="_GenericDiscoverQuery",p.displayName="GenericDiscoverQuery";const h=p},"./app/utils/docs.tsx":(e,t,s)=>{"use strict";s.d(t,{Q:()=>r,_:()=>o});const n=["dotnet","android","apple","dart","elixir","flutter","go","java","javascript","native","node","perl","php","python","react-native","ruby","rust","unity"],i=["dotnet","android","apple","go","java","javascript","node","php","python","react-native","ruby"];function r(e,t){if("react-native"===e)return"react-native";const s=e.indexOf("-"),r=s>=0?e.substring(0,s):e;if(function(e){return n.includes(e)}(r)){const e=i.includes(r);if(t&&e||!t)return r}return null}function o(e){var t;const s=null!==(t=null==e?void 0:e.platform)&&void 0!==t?t:null,n=s?r(s,!0):null;return null===n?null:`https://docs.sentry.io/platforms/${n}/performance/`}},"./app/utils/environment.tsx":(e,t,s)=>{"use strict";function n(e){return e.name?encodeURIComponent(e.name):e.displayName?encodeURIComponent(e.displayName):"none"}function i(e){return e.name||e.displayName||"(No Environment)"}s.d(t,{z:()=>n,G:()=>i})},"./app/utils/getStacktraceBody.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./app/components/events/interfaces/crashContent/stackTrace/rawContent.tsx");function i(e){if(!e||!e.entries)return[];const t=e.entries.find((e=>{let{type:t}=e;return"exception"===t}));if(!t){var s;const t=e.entries.find((e=>{let{type:t}=e;return"message"===t}));return t?(null==t||null===(s=t.data)||void 0===s?void 0:s.formatted)&&[t.data.formatted]:[]}return t.data?t.data.values.filter((e=>!!e.stacktrace)).map((t=>(0,n.ZP)(t.stacktrace,e.platform,t))).reduce(((e,t)=>e.concat(t)),[]):[]}},"./app/utils/performance/contexts/performanceEventViewContext.tsx":(e,t,s)=>{"use strict";s.d(t,{bq:()=>i,wj:()=>o}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./app/utils/performance/contexts/utils.tsx");const[i,r]=(0,n.n)({name:"PerformanceEventViewContext"});function o(){return r().eventView}},"./app/utils/performance/contexts/utils.tsx":(e,t,s)=>{"use strict";s.d(t,{n:()=>i});var n=s("../node_modules/react/index.js");function i(e){const{strict:t=!0,errorMessage:s=`useContext for "${e.name}" must be inside a Provider with a value`,name:i}=e,r=n.createContext(void 0);return r.displayName=i,[r.Provider,function(){const e=n.useContext(r);if(!e&&t)throw new Error(s);return e},r]}},"./app/utils/performance/quickTrace/quickTraceQuery.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>h}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("../node_modules/react/index.js"),i=s("./app/utils/performance/quickTrace/traceFullQuery.tsx"),r=s("./app/utils/discover/genericDiscoverQuery.tsx"),o=s("./app/utils/performance/quickTrace/utils.tsx"),a=s("./app/utils/withApi.tsx"),l=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e){let{eventId:t,...s}=e;const n=(0,o.eF)(s);return Object.assign({event_id:t},n)}function d(e){let{children:t}=e;return(0,l.tZ)(n.Fragment,{children:t({isLoading:!1,error:null,trace:null,type:"partial"})})}function p(e){let{traceId:t,start:s,end:n,statsPeriod:i,children:a,...p}=e;if(!t)return(0,l.tZ)(d,{children:a});const u=(0,o._Z)({start:s,end:n,statsPeriod:i});return(0,l.tZ)(r.ZP,{route:`events-trace-light/${t}`,getRequestPayload:c,eventView:u,...p,children:e=>{let{tableData:t,...s}=e;return a({trace:t||null,type:"partial",...s})}})}d.displayName="EmptyTrace",p.displayName="TraceLiteQuery";const u=(0,a.Z)(p);function h(e){var t,s;let{children:r,event:a,...c}=e;const d=null===(t=a.contexts)||void 0===t||null===(s=t.trace)||void 0===s?void 0:s.trace_id;if(!d)return(0,l.tZ)(n.Fragment,{children:r({isLoading:!1,error:null,trace:[],type:"empty",currentEvent:null})});const{start:p,end:h}=(0,o.$J)(a);return(0,l.tZ)(u,{eventId:a.id,traceId:d,start:p,end:h,...c,children:e=>(0,l.tZ)(i.g,{eventId:a.id,traceId:d,start:p,end:h,...c,children:t=>{var s;if(!t.isLoading&&null===t.error&&null!==t.traces)for(const e of t.traces)try{var n;const s=(0,o.eW)(a,e);return r({...t,trace:s,currentEvent:null!==(n=s.find((e=>(0,o.q2)(e,a))))&&void 0!==n?n:null})}catch{}if(!e.isLoading&&null===e.error&&null!==e.trace){var i;const{trace:t}=e;return r({...e,currentEvent:null!==(i=t.find((e=>(0,o.q2)(e,a))))&&void 0!==i?i:null})}return r({isLoading:e.error?t.isLoading:e.isLoading||t.isLoading,error:t.error,trace:[],type:null!==(s=t.traces)&&void 0!==s&&s.length?"missing":"empty",currentEvent:null})}})})}h.displayName="QuickTraceQuery"},"./app/utils/performance/quickTrace/traceFullQuery.tsx":(e,t,s)=>{"use strict";s.d(t,{g:()=>p,H:()=>u});var n=s("../node_modules/react/index.js"),i=s("./app/utils/discover/genericDiscoverQuery.tsx"),r=s("./app/utils/performance/quickTrace/utils.tsx"),o=s("./app/utils/withApi.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l(e){let{detailed:t,eventId:s,...n}=e;const i=(0,r.eF)(n);return i.detailed=t?"1":"0",s&&(i.event_id=s),i}function c(e){let{children:t}=e;return(0,a.tZ)(n.Fragment,{children:t({isLoading:!1,error:null,traces:null,type:"full"})})}function d(e){let{traceId:t,start:s,end:n,statsPeriod:o,children:d,...p}=e;if(!t)return(0,a.tZ)(c,{children:d});const u=(0,r._Z)({start:s,end:n,statsPeriod:o});return(0,a.tZ)(i.ZP,{route:`events-trace/${t}`,getRequestPayload:l,eventView:u,...p,children:e=>{let{tableData:t,...s}=e;return d({traces:t||null,type:"full",...s})}})}c.displayName="EmptyTrace",d.displayName="GenericTraceFullQuery";const p=(0,o.Z)((e=>(0,a.tZ)(d,{...e,detailed:!1}))),u=(0,o.Z)((e=>(0,a.tZ)(d,{...e,detailed:!0})))},"./app/utils/replaceAtArrayIndex.tsx":(e,t,s)=>{"use strict";function n(e,t,s){const n=[...e];return n.splice(t,1,s),n}s.d(t,{m:()=>n}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js")},"./app/views/organizationGroupDetails/groupEventDetails/index.tsx":(e,t,s)=>{"use strict";s.r(t),s.d(t,{GroupEventDetailsContainer:()=>ai,default:()=>li});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),r=s("../node_modules/reflux/src/index.js"),o=s.n(r);const a=o().createActions(["fetchEnvironments","fetchEnvironmentsError","fetchEnvironmentsSuccess"]);var l=s("./app/components/loadingError.tsx"),c=s("./app/components/loadingIndicator.tsx"),d=s("./app/locale.tsx"),p=s("./app/utils/environment.tsx");const u={state:{environments:null,error:null},init(){this.state={environments:null,error:null},this.listenTo(a.fetchEnvironments,this.onFetchEnvironments),this.listenTo(a.fetchEnvironmentsSuccess,this.onFetchEnvironmentsSuccess),this.listenTo(a.fetchEnvironmentsError,this.onFetchEnvironmentsError)},makeEnvironment:e=>({id:e.id,name:e.name,get displayName(){return(0,p.G)(e)},get urlRoutingName(){return(0,p.z)(e)}}),onFetchEnvironments(){this.state={environments:null,error:null},this.trigger(this.state)},onFetchEnvironmentsSuccess(e){this.state={error:null,environments:e.map(this.makeEnvironment)},this.trigger(this.state)},onFetchEnvironmentsError(e){this.state={error:e,environments:null},this.trigger(this.state)},get(){return this.state}},h=o().createStore(u);var m=s("./app/utils/withApi.tsx"),g=s("./app/utils/withOrganization.tsx"),Z=s("./app/utils/withPageFilters.tsx"),v=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),f=(s("../node_modules/core-js/modules/es.string.replace.js"),s("../node_modules/react-router/es/index.js")),y=s("../node_modules/@sentry/minimal/esm/index.js"),x=s("../node_modules/lodash/isEqual.js"),b=s.n(x),k=s("./app/actions/sentryAppComponentActions.tsx"),w=s("./app/components/errorBoundary.tsx"),S=s("./app/components/errors/detailedError.tsx"),_=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const C=e=>{let{onRetry:t,environments:s}=e;const n=[(0,d.t)("The events are still processing and are on their way"),(0,d.t)("The events have been deleted"),(0,d.t)("There is an internal systems error or active issue")];let i;return i=0===s.length?(0,_.BX)("div",{children:[(0,_.tZ)("p",{children:(0,d.t)("This could be due to a handful of reasons:")}),(0,_.tZ)("ol",{className:"detailed-error-list",children:n.map(((e,t)=>(0,_.tZ)("li",{children:e},t)))})]}):(0,_.tZ)("div",{children:(0,d.t)("No events were found for the currently selected environments")}),(0,_.tZ)(S.Z,{className:"group-event-details-error",onRetry:0===s.length?t:void 0,heading:(0,d.t)("Sorry, the events for this issue could not be found."),message:i})};C.displayName="GroupEventDetailsLoadingError";const j=C;var I=s("./app/components/events/eventEntries.tsx"),E=s("./app/components/events/meta/metaProxy.tsx"),z=s("../node_modules/lodash/isObject.js"),D=s.n(z),T=s("../node_modules/lodash/keyBy.js"),N=s.n(T),A=s("../node_modules/lodash/pickBy.js"),P=s.n(A),B=s("./app/components/assistant/guideAnchor.tsx"),q=s("./app/components/alertLink.tsx"),F=s("./app/components/asyncComponent.tsx"),R=s("./app/actionCreators/indicator.tsx"),L=s("./app/actionCreators/modal.tsx"),O=s("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),M=s("../node_modules/lodash/capitalize.js"),$=s.n(M),X=s("./app/components/hovercard.tsx"),V=s("./app/icons/index.tsx"),U=s("./app/styles/space.tsx"),G=s("./app/utils/callIfFunction.tsx"),H=s("./app/utils/integrationUtil.tsx");class Q extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"handleDelete",(()=>{(0,G.g)(this.props.onClose,this.props.externalIssueId)})),(0,n.Z)(this,"handleIconClick",(()=>{this.isLinked()?this.handleDelete():this.props.onOpen&&this.props.onOpen()}))}isLinked(){return!(!this.props.externalIssueLink||!this.props.externalIssueId)}getIcon(){return(0,H.Y6)(this.props.integrationType)}getPrettyName(){const e=this.props.integrationType;switch(e){case"gitlab":return"GitLab";case"github":return"GitHub";case"github_enterprise":return"GitHub Enterprise";case"vsts":return"Azure DevOps";case"jira_server":return"Jira Server";default:return $()(e)}}getLink(){return(0,_.tZ)(W,{href:this.props.externalIssueLink||void 0,onClick:this.isLinked()?void 0:this.props.onOpen,children:this.getText()})}getText(){return this.props.children?this.props.children:this.props.externalIssueDisplayName?this.props.externalIssueDisplayName:this.props.externalIssueKey?this.props.externalIssueKey:`Link ${this.getPrettyName()} Issue`}render(){return(0,_.BX)(K,{children:[(0,_.tZ)(O.ms,{children:e=>{let{css:t}=e;return(0,_.BX)(X.uI,{containerClassName:t`
                display: flex;
                align-items: center;
                min-width: 0; /* flex-box overflow workaround */
              `,header:this.props.hoverCardHeader,body:this.props.hoverCardBody,bodyClassName:"issue-list-body",show:this.props.showHoverCard,children:[this.getIcon(),this.getLink()]})}}),(this.props.onClose||this.props.onOpen)&&(0,_.tZ)(Y,{onClick:this.handleIconClick,children:this.isLinked()?(0,_.tZ)(V.bM,{}):this.props.onOpen?(0,_.tZ)(V.N_,{}):null})]})}}Q.displayName="IssueSyncListElement";const K=(0,v.Z)("div",{target:"ea4nvig2"})("line-height:0;display:flex;align-items:center;justify-content:space-between;&:not(:last-child){margin-bottom:",(0,U.Z)(2),";}"),W=(0,v.Z)("a",{target:"ea4nvig1"})("text-decoration:none;padding-bottom:",(0,U.Z)(.25),";margin-left:",(0,U.Z)(1),";color:",(e=>e.theme.textColor),";border-bottom:1px solid ",(e=>e.theme.textColor),";cursor:pointer;line-height:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;&,&:hover{border-bottom:1px solid ",(e=>e.theme.blue300),";}"),Y=(0,v.Z)("span",{target:"ea4nvig0"})("color:",(e=>e.theme.textColor),";cursor:pointer;"),J=Q;var ee=s("./app/styles/overflowEllipsis.tsx"),te=s("./app/views/organizationIntegrations/integrationItem.tsx"),se=s("../node_modules/@sentry/hub/esm/hub.js"),ne=s("./app/components/externalIssues/abstractExternalIssueForm.tsx"),ie=s("./app/components/navTabs.tsx");const re={link:(0,d.t)("Successfully linked issue."),create:(0,d.t)("Successfully created issue.")},oe={link:(0,d.t)("Link Issue"),create:(0,d.t)("Create Issue")};class ae extends ne.Z{constructor(e){super(e,{}),(0,n.Z)(this,"loadTransaction",void 0),(0,n.Z)(this,"submitTransaction",void 0),(0,n.Z)(this,"handleClick",(e=>{this.setState({action:e},(()=>this.reloadData()))})),(0,n.Z)(this,"startTransaction",(e=>{const{group:t,integration:s}=this.props,{action:n}=this.state,i=y.Yr({name:`externalIssueForm.${e}`});return se.Gd().configureScope((e=>e.setSpan(i))),i.setTag("issueAction",n),i.setTag("groupID",t.id),i.setTag("projectID",t.project.id),i.setTag("integrationSlug",s.provider.slug),i.setTag("integrationType","firstParty"),i})),(0,n.Z)(this,"handlePreSubmit",(()=>{this.submitTransaction=this.startTransaction("submit")})),(0,n.Z)(this,"onSubmitSuccess",(e=>{var t;const{onChange:s,closeModal:n}=this.props,{action:i}=this.state;s((()=>(0,R.S9)(re[i]))),n(),null===(t=this.submitTransaction)||void 0===t||t.finish()})),(0,n.Z)(this,"handleSubmitError",(()=>{var e;null===(e=this.submitTransaction)||void 0===e||e.finish()})),(0,n.Z)(this,"onLoadAllEndpointsSuccess",(()=>{var e;null===(e=this.loadTransaction)||void 0===e||e.finish()})),(0,n.Z)(this,"onRequestError",(()=>{var e;null===(e=this.loadTransaction)||void 0===e||e.finish()})),(0,n.Z)(this,"getTitle",(()=>{const{integration:e}=this.props;return(0,d._N)("[integration] Issue",{integration:e.provider.name})})),(0,n.Z)(this,"getFormProps",(()=>{const{action:e}=this.state;return{...this.getDefaultFormProps(),submitLabel:oe[e],apiEndpoint:this.getEndPointString(),apiMethod:"create"===e?"POST":"PUT",onPreSubmit:this.handlePreSubmit,onSubmitError:this.handleSubmitError,onSubmitSuccess:this.onSubmitSuccess}})),(0,n.Z)(this,"renderNavTabs",(()=>{const{action:e}=this.state;return(0,_.BX)(ie.Z,{underlined:!0,children:[(0,_.tZ)("li",{className:"create"===e?"active":"",children:(0,_.tZ)("a",{onClick:()=>this.handleClick("create"),children:(0,d.t)("Create")})}),(0,_.tZ)("li",{className:"link"===e?"active":"",children:(0,_.tZ)("a",{onClick:()=>this.handleClick("link"),children:(0,d.t)("Link")})})]})})),this.loadTransaction=this.startTransaction("load")}getEndpoints(){var e;const t={};return null!==(e=this.state)&&void 0!==e&&e.hasOwnProperty("action")&&(t.action=this.state.action),[["integrationDetails",this.getEndPointString(),{query:t}]]}getEndPointString(){const{group:e,integration:t}=this.props;return`/groups/${e.id}/integrations/${t.id}/`}renderBody(){return this.renderForm(this.getCleanedFields())}}const le=e=>{let{configurations:t,group:s,onChange:n,api:r}=e;const{linked:o,unlinked:a}=t.sort(((e,t)=>e.name.toLowerCase().localeCompare(t.name.toLowerCase()))).reduce(((e,t)=>(t.externalIssues.length?e.linked.push(t):e.unlinked.push(t),e)),{linked:[],unlinked:[]}),l=e=>(0,L.openModal)((t=>(0,_.tZ)(ae,{...t,group:s,onChange:n,integration:e})),{allowClickClose:!1});return(0,_.BX)(i.Fragment,{children:[o.map((e=>{const{provider:t,externalIssues:i}=e,o=i[0];return(0,_.tZ)(J,{externalIssueLink:o.url,externalIssueId:o.id,externalIssueKey:o.key,externalIssueDisplayName:o.displayName,onClose:()=>(e=>{const{externalIssues:t}=e,i=t[0],{id:o}=i,a=`/groups/${s.id}/integrations/${e.id}/?externalIssue=${o}`;r.request(a,{method:"DELETE",success:()=>{n((()=>(0,R.S9)((0,d.t)("Successfully unlinked issue."))),(()=>(0,R.Iw)((0,d.t)("Unable to unlink issue."))))},error:()=>{(0,R.Iw)((0,d.t)("Unable to unlink issue."))}})})(e),integrationType:t.key,hoverCardHeader:(0,d.t)("Linked %s Integration",t.name),hoverCardBody:(0,_.BX)("div",{children:[(0,_.tZ)(ce,{children:o.title}),o.description&&(0,_.tZ)(de,{children:o.description})]})},o.id)})),a.length>0&&(0,_.tZ)(J,{integrationType:a[0].provider.key,hoverCardHeader:(0,d.t)("Linked %s Integration",a[0].provider.name),hoverCardBody:(0,_.tZ)(ue,{children:a.map((e=>(0,_.tZ)(pe,{onClick:()=>l(e),children:(0,_.tZ)(te.Z,{integration:e})},e.id)))}),onOpen:1===a.length?()=>l(a[0]):void 0})]})};le.displayName="ExternalIssueActions";const ce=(0,v.Z)("div",{target:"ekb3y1q3"})("font-size:1.1em;font-weight:600;",ee.Z,";"),de=(0,v.Z)("div",{target:"ekb3y1q2"})("margin-top:",(0,U.Z)(1),";",ee.Z,";"),pe=(0,v.Z)("div",{target:"ekb3y1q1"})("margin-bottom:",(0,U.Z)(2),";cursor:pointer;"),ue=(0,v.Z)("div",{target:"ekb3y1q0"})("&>div:last-child{margin-bottom:",(0,U.Z)(1),";}"),he=(0,m.Z)(le);var me=s("./app/plugins/index.tsx");class ge extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{issue:null,pluginLoading:!1}),(0,n.Z)(this,"deleteIssue",(()=>{const e={...this.props.plugin,issue:null},t=`/issues/${this.props.group.id}/plugins/${e.slug}/unlink/`;this.props.api.request(t,{success:()=>{this.loadPlugin(e),(0,R.S9)((0,d.t)("Successfully unlinked issue."))},error:()=>{(0,R.Iw)((0,d.t)("Unable to unlink issue"))}})})),(0,n.Z)(this,"loadPlugin",(e=>{this.setState({pluginLoading:!0},(()=>{me.ZP.load(e,(()=>{const t=e.issue||null;this.setState({pluginLoading:!1,issue:t})}))}))})),(0,n.Z)(this,"handleModalClose",(e=>this.setState({issue:null!=e&&e.id&&null!=e&&e.link?{issue_id:e.id,url:e.link,label:e.label}:null}))),(0,n.Z)(this,"openModal",(()=>{const{issue:e}=this.state,{project:t,group:s,organization:n}=this.props,i={...this.props.plugin,issue:e};(0,L.openModal)((e=>(0,_.tZ)(Ze,{...e,project:t,group:s,organization:n,plugin:i,onSuccess:this.handleModalClose})),{onClose:this.handleModalClose})}))}componentDidMount(){this.loadPlugin(this.props.plugin)}UNSAFE_componentWillReceiveProps(e){this.props.plugin.id!==e.plugin.id&&this.loadPlugin(e.plugin)}render(){const{issue:e}=this.state,t={...this.props.plugin,issue:e};return(0,_.tZ)(J,{onOpen:this.openModal,externalIssueDisplayName:e?e.label:null,externalIssueId:e?e.issue_id:null,externalIssueLink:e?e.url:null,onClose:this.deleteIssue,integrationType:t.id})}}ge.displayName="PluginActions";class Ze extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{actionType:"create"})}render(){const{Header:e,Body:t,group:s,project:n,organization:r,plugin:o,onSuccess:a}=this.props,{actionType:l}=this.state;return(0,_.BX)(i.Fragment,{children:[(0,_.tZ)(e,{closeButton:!0,children:(0,d._N)("[name] Issue",{name:o.name||o.title})}),(0,_.BX)(ie.Z,{underlined:!0,children:[(0,_.tZ)("li",{className:"create"===l?"active":"",children:(0,_.tZ)("a",{onClick:()=>this.setState({actionType:"create"}),children:(0,d.t)("Create")})}),(0,_.tZ)("li",{className:"link"===l?"active":"",children:(0,_.tZ)("a",{onClick:()=>this.setState({actionType:"link"}),children:(0,d.t)("Link")})})]}),l&&(0,_.tZ)(t,{children:me.ZP.get(o).renderGroupActions({plugin:o,group:s,project:n,organization:r,actionType:l,onSuccess:a})},l)]})}}Ze.displayName="PluginActionsModal";const ve=(0,m.Z)((0,g.Z)(ge)),fe=o().createActions(["delete","deleteSuccess","deleteError"]);var ye=s("./app/components/sentryAppComponentIcon.tsx"),xe=s("./app/utils/recordSentryAppInteraction.tsx");const be={init(){this.items=[]},getInitialState(){return this.items},load(e){this.items=e,this.trigger(e)},get(e){return this.items.find((t=>t.id===e))},getAll(){return this.items},add(e){this.items.some((t=>t.id===e.id))||(this.items=this.items.concat([e]),this.trigger(this.items))}},ke=o().createStore(be);var we=s("./app/utils/getStacktraceBody.tsx"),Se=s("./app/utils/queryString.tsx"),_e=s("./app/views/organizationIntegrations/sentryAppExternalForm.tsx");class Ce extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"onSubmitSuccess",(e=>{ke.add(e),this.props.onSubmitSuccess(e)}))}getStacktrace(){const e=this.props.event,t=(0,we.Z)(e);return t&&t.length>0?"\n\n```\n"+t[0]+"\n```":""}getFieldDefault(e){const{group:t,appName:s}=this.props;switch("textarea"===e.type&&(e.maxRows=10,e.autosize=!0),e.default){case"issue.title":return t.title;case"issue.description":const e=this.getStacktrace(),n={referrer:s},i=(0,Se.Yi)(t.permalink,n),r=t.shortId;return(0,d.t)("Sentry Issue: [%s](%s)%s",r,i,e);default:return""}}render(){return(0,_.tZ)(_e.Z,{sentryAppInstallationUuid:this.props.sentryAppInstallation.uuid,appName:this.props.appName,config:this.props.config,action:this.props.action,element:"issue-link",extraFields:{groupId:this.props.group.id},extraRequestBody:{projectId:this.props.group.project.id},onSubmitSuccess:this.onSubmitSuccess,getFieldDefault:e=>this.getFieldDefault(e)})}}Ce.displayName="SentryAppExternalIssueForm";const je=Ce;class Ie extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{action:"create"}),(0,n.Z)(this,"showLink",(()=>{this.setState({action:"link"})})),(0,n.Z)(this,"showCreate",(()=>{this.setState({action:"create"})})),(0,n.Z)(this,"onSubmitSuccess",(e=>{this.props.onSubmitSuccess(e),this.props.closeModal()}))}render(){const{Header:e,Body:t,sentryAppComponent:s,sentryAppInstallation:n,group:r}=this.props,{action:o}=this.state,a=s.sentryApp.name,l=s.schema[o];return(0,_.BX)(i.Fragment,{children:[(0,_.tZ)(e,{closeButton:!0,children:(0,d._N)("[name] Issue",{name:a})}),(0,_.BX)(ie.Z,{underlined:!0,children:[(0,_.tZ)("li",{className:"create"===o?"active create":"create",children:(0,_.tZ)("a",{onClick:this.showCreate,children:(0,d.t)("Create")})}),(0,_.tZ)("li",{className:"link"===o?"active link":"link",children:(0,_.tZ)("a",{onClick:this.showLink,children:(0,d.t)("Link")})})]}),(0,_.tZ)(t,{children:(0,_.tZ)(je,{group:r,sentryAppInstallation:n,appName:a,config:l,action:o,onSubmitSuccess:this.onSubmitSuccess,event:this.props.event})})]})}}Ie.displayName="SentryAppExternalIssueModal";const Ee=(0,m.Z)(Ie);class ze extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{action:"create",externalIssue:this.props.externalIssue}),(0,n.Z)(this,"doOpenModal",(e=>{if(this.state.externalIssue)return;const{group:t,event:s,sentryAppComponent:n,sentryAppInstallation:i}=this.props;(0,xe.E)(n.sentryApp.slug,"sentry_app_component_interacted",{componentType:"issue-link"}),null==e||e.preventDefault(),(0,L.openModal)((e=>(0,_.tZ)(Ee,{...e,group:t,event:s,sentryAppComponent:n,sentryAppInstallation:i,onSubmitSuccess:this.onSubmitSuccess})),{allowClickClose:!1})})),(0,n.Z)(this,"deleteIssue",(()=>{const{api:e,group:t}=this.props,{externalIssue:s}=this.state;s&&async function(e,t,s){fe.delete(t,s);try{const n=await e.requestPromise(`/issues/${t}/external-issues/${s}/`,{method:"DELETE"});return fe.deleteSuccess(n),n}catch(e){throw fe.deleteError(e),e}}(e,t.id,s.id).then((e=>{this.setState({externalIssue:void 0}),(0,R.S9)((0,d.t)("Successfully unlinked issue."))})).catch((e=>{(0,R.Iw)((0,d.t)("Unable to unlink issue."))}))})),(0,n.Z)(this,"onAddRemoveClick",(()=>{const{externalIssue:e}=this.state;e?this.deleteIssue():this.doOpenModal()})),(0,n.Z)(this,"onSubmitSuccess",(e=>{this.setState({externalIssue:e})}))}componentDidUpdate(e){this.props.externalIssue!==e.externalIssue&&this.updateExternalIssue(this.props.externalIssue)}updateExternalIssue(e){this.setState({externalIssue:e})}render(){const{sentryAppComponent:e}=this.props,{externalIssue:t}=this.state,s=e.sentryApp.name;let n="#",i=(0,d._N)("Link [name] Issue",{name:s});return t&&(n=t.webUrl,i=t.displayName),(0,_.BX)(Ne,{children:[(0,_.BX)(Te,{children:[(0,_.tZ)(De,{sentryAppComponent:e}),(0,_.tZ)(W,{onClick:this.doOpenModal,href:n,children:i})]}),(0,_.tZ)(Ae,{onClick:this.onAddRemoveClick,children:t?(0,_.tZ)(V.bM,{}):(0,_.tZ)(V.N_,{})})]})}}ze.displayName="SentryAppExternalIssueActions";const De=(0,v.Z)(ye.Z,{target:"e1txsdtz3"})("color:",(e=>e.theme.textColor),";width:",(0,U.Z)(3),";height:",(0,U.Z)(3),";cursor:pointer;flex-shrink:0;"),Te=(0,v.Z)("div",{target:"e1txsdtz2"})({name:"p2fe58",styles:"display:flex;align-items:center;min-width:0"}),Ne=(0,v.Z)("div",{target:"e1txsdtz1"})({name:"1ctrpvd",styles:"line-height:0;display:flex;align-items:center;justify-content:space-between;margin-bottom:16px"}),Ae=(0,v.Z)("span",{target:"e1txsdtz0"})("color:",(e=>e.theme.textColor),";cursor:pointer;"),Pe=(0,m.Z)(ze);var Be=s("./app/components/placeholder.tsx"),qe=s("./app/stores/sentryAppComponentsStore.tsx");const Fe={init(){this.items=[]},getInitialState(){return this.items},load(e){this.items=e,this.trigger(e)},get(e){return this.items.find((t=>t.uuid===e))},getAll(){return this.items}},Re=o().createStore(Fe),Le=(0,v.Z)("h5",{target:"e1skh4nt2"})("display:flex;align-items:center;margin-bottom:",(0,U.Z)(2),";font-size:",(e=>e.theme.fontSizeMedium),";line-height:1;&:after{flex:1;display:block;content:'';border-top:1px solid ",(e=>e.theme.innerBorder),";margin-left:",(0,U.Z)(1),";}"),Oe=(0,v.Z)("h6",{target:"e1skh4nt1"})("color:",(e=>e.theme.gray300),";display:flex;font-size:",(e=>e.theme.fontSizeExtraSmall),";text-transform:uppercase;margin-bottom:",(0,U.Z)(1),";");function Me(e){let{title:t,children:s,secondary:n,...r}=e;const o=n?Oe:Le;return(0,_.BX)(i.Fragment,{children:[(0,_.tZ)(o,{...r,children:t}),(0,_.tZ)($e,{secondary:n,children:s})]})}Me.displayName="SidebarSection";const $e=(0,v.Z)("div",{target:"e1skh4nt0"})("margin-bottom:",(e=>e.secondary?(0,U.Z)(2):(0,U.Z)(3)),";"),Xe=Me;class Ve extends F.Z{getEndpoints(){const{group:e}=this.props;return[["integrations",`/groups/${e.id}/integrations/`]]}constructor(e){super(e,{}),(0,n.Z)(this,"unsubscribables",[]),(0,n.Z)(this,"onSentryAppInstallationChange",(e=>{this.setState({sentryAppInstallations:e})})),(0,n.Z)(this,"onExternalIssueChange",(e=>{this.setState({externalIssues:e})})),(0,n.Z)(this,"onSentryAppComponentsChange",(e=>{const t=e.filter((e=>"issue-link"===e.type));this.setState({components:t})})),this.state=Object.assign({},this.state,{components:qe.Z.getInitialState(),sentryAppInstallations:Re.getInitialState(),externalIssues:ke.getInitialState()})}UNSAFE_componentWillMount(){super.UNSAFE_componentWillMount(),this.unsubscribables=[Re.listen(this.onSentryAppInstallationChange,this),ke.listen(this.onExternalIssueChange,this),qe.Z.listen(this.onSentryAppComponentsChange,this)],this.fetchSentryAppData()}componentWillUnmount(){super.componentWillUnmount(),this.unsubscribables.forEach((e=>e()))}fetchSentryAppData(){const{group:e,project:t,organization:s}=this.props;t&&t.id&&s&&this.api.requestPromise(`/groups/${e.id}/external-issues/`).then((e=>{ke.load(e),this.setState({externalIssues:e})})).catch((e=>{}))}async updateIntegrations(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};try{const{group:t}=this.props,s=await this.api.requestPromise(`/groups/${t.id}/integrations/`);this.setState({integrations:s},(()=>e()))}catch(e){t()}}renderIntegrationIssues(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const{group:t}=this.props,s=e.filter((e=>"active"===e.status)),n=s.reduce(((e,t)=>{const s=e.get(t.provider.key);return s?e.set(t.provider.key,[...s,t]):e.set(t.provider.key,[t]),e}),new Map);return s.length?[...n.entries()].map((e=>{let[s,n]=e;return(0,_.tZ)(he,{configurations:n,group:t,onChange:this.updateIntegrations.bind(this)},s)})):null}renderSentryAppIssues(){const{externalIssues:e,sentryAppInstallations:t,components:s}=this.state,{group:n}=this.props;return 0===s.length?null:s.map((s=>{const{sentryApp:i}=s,r=t.find((e=>e.app.uuid===i.uuid));if(!r)return null;const o=(e||[]).find((e=>e.serviceType===i.slug));return(0,_.tZ)(w.Z,{mini:!0,children:(0,_.tZ)(Pe,{group:n,event:this.props.event,sentryAppComponent:s,sentryAppInstallation:r,externalIssue:o},i.slug)},i.slug)}))}renderPluginIssues(){const{group:e,project:t}=this.props;return e.pluginIssues&&e.pluginIssues.length?e.pluginIssues.map(((s,n)=>(0,_.tZ)(ve,{group:e,project:t,plugin:s},n))):null}renderPluginActions(){const{group:e}=this.props;return e.pluginActions&&e.pluginActions.length?e.pluginActions.map(((e,t)=>(0,_.tZ)(J,{externalIssueLink:e[1],children:e[0]},t))):null}renderLoading(){return(0,_.tZ)(Xe,{"data-test-id":"linked-issues",title:(0,d.t)("Linked Issues"),children:(0,_.tZ)(Be.Z,{height:"120px"})})}renderBody(){const e=this.renderSentryAppIssues(),t=this.renderIntegrationIssues(this.state.integrations),s=this.renderPluginIssues(),n=this.renderPluginActions(),i=!(e||t||s||n);return(0,_.BX)(Xe,{"data-test-id":"linked-issues",title:(0,d.t)("Linked Issues"),children:[i&&(0,_.tZ)(q.Z,{icon:(0,_.tZ)(V.RM,{}),priority:"muted",size:"small",to:`/settings/${this.props.organization.slug}/integrations`,children:(0,d.t)("Set up Issue Tracking")}),e&&(0,_.tZ)(Ue,{children:e}),t&&(0,_.tZ)(Ue,{children:t}),s&&(0,_.tZ)(Ue,{children:s}),n&&(0,_.tZ)(Ue,{children:n})]})}}const Ue=(0,v.Z)("div",{target:"e5jfgsv0"})("margin-bottom:",(0,U.Z)(2),";"),Ge=(0,g.Z)(Ve);var He=s("./app/components/avatar/userAvatar.tsx");const Qe=e=>{let{participants:t}=e;return(0,_.tZ)(Xe,{title:(0,d.tn)("%s Participant","%s Participants",t.length),children:(0,_.tZ)(We,{children:t.map((e=>(0,_.tZ)(Ye,{children:(0,_.tZ)(He.Z,{size:28,user:e,hasTooltip:!0})},e.username)))})})};Qe.displayName="GroupParticipants";const Ke=Qe,We=(0,v.Z)("div",{target:"e18aeel01"})({name:"5kov97",styles:"display:flex;flex-wrap:wrap"}),Ye=(0,v.Z)("div",{target:"e18aeel00"})("margin-right:",(0,U.Z)(.5),";margin-bottom:",(0,U.Z)(.5),";");var Je=s("./app/components/charts/miniBarChart.tsx"),et=s("./app/utils/formatters.tsx"),tt=s("./app/utils/theme.tsx");function st(e){const{className:t,group:s,lastSeen:n,firstSeen:i,statsPeriod:r,release:o,releaseStats:a,environment:l,environmentStats:c,title:p}=e,u=s.stats[r];if(!u||!u.length)return null;const h=[];h.push({seriesName:(0,d.t)("Events"),data:u.map((e=>({name:1e3*e[0],value:e[1]})))});const m=h[0].data[0].value;l&&c&&h.push({seriesName:(0,d.t)("Events in %s",l),data:c[r].map((e=>({name:1e3*e[0],value:e[1]})))}),o&&a&&h.push({seriesName:(0,d.t)("Events in release %s",(0,et.ko)(o.version)),data:a[r].map((e=>({name:1e3*e[0],value:e[1]})))});const g=[];if(i){const e=new Date(i).getTime();e>=m&&g.push({name:(0,d.t)("First seen"),value:e,color:tt.ZP.pink300})}if(n){const e=new Date(n).getTime();e>=m&&g.push({name:(0,d.t)("Last seen"),value:e,color:tt.ZP.green300})}return(0,_.tZ)(Xe,{secondary:!0,title:p,className:t,children:(0,_.tZ)(Je.Z,{isGroupedByDate:!0,showTimeInTooltip:!0,height:42,series:h,markers:g})})}st.displayName="GroupReleaseChart";const nt=st;var it=s("./app/components/dateTime.tsx"),rt=s("./app/components/timeSince.tsx"),ot=s("./app/components/version.tsx"),at=s("./app/components/versionHoverCard.tsx"),lt=s("./app/utils.tsx");class ct extends i.Component{shouldComponentUpdate(e){var t;const{date:s,release:n}=this.props;return(null==n?void 0:n.version)!==(null===(t=e.release)||void 0===t?void 0:t.version)||s!==e.date}getReleaseTrackingUrl(){const{organization:e,projectSlug:t}=this.props;return`/settings/${e.slug}/projects/${t}/release-tracking/`}render(){const{date:e,dateGlobal:t,environment:s,release:n,organization:r,projectSlug:o,projectId:a}=this.props;return(0,_.BX)(pt,{children:[(0,_.tZ)(yt,{header:(0,_.BX)("div",{children:[(0,_.BX)(vt,{children:[(0,d.t)("Any Environment"),(0,_.tZ)(rt.Z,{date:t,disabledAbsoluteTooltip:!0})]}),s&&(0,_.BX)(vt,{children:[(0,lt.LF)(s),e?(0,_.tZ)(rt.Z,{date:e,disabledAbsoluteTooltip:!0}):(0,_.tZ)("span",{children:(0,d.t)("N/A")})]})]}),body:e?(0,_.tZ)(ht,{date:e}):(0,_.tZ)(mt,{children:(0,d.t)(`N/A for ${s}`)}),position:"top",tipColor:tt.ZP.gray500,children:(0,_.tZ)(ut,{children:e?(0,_.tZ)(Zt,{children:(0,_.tZ)(ft,{date:e,disabledAbsoluteTooltip:!0})}):t&&""===s?(0,_.BX)(i.Fragment,{children:[(0,_.tZ)(rt.Z,{date:t,disabledAbsoluteTooltip:!0}),(0,_.tZ)(ft,{date:t,disabledAbsoluteTooltip:!0})]}):(0,_.tZ)(gt,{children:(0,d.t)("N/A")})})}),(0,_.tZ)(ut,{children:(0,lt.ri)(n)?(0,_.BX)(i.Fragment,{children:[(0,d.t)("in release "),(0,_.tZ)(at.Z,{organization:r,projectSlug:o,releaseVersion:n.version,children:(0,_.tZ)("span",{children:(0,_.tZ)(ot.Z,{version:n.version,projectId:a})})})]}):null})]})}}ct.displayName="SeenInfo";const dt=e=>(0,O.iv)("color:",e.theme.gray300,";font-size:",e.theme.fontSizeMedium,";display:flex;justify-content:center;",""),pt=(0,v.Z)("div",{target:"e1rgwh4r8"})({name:"zjik7",styles:"display:flex"}),ut=(0,v.Z)("div",{target:"e1rgwh4r7"})("margin-bottom:",(0,U.Z)(2),";",ee.Z,";"),ht=(0,v.Z)(it.Z,{target:"e1rgwh4r6"})(dt,";"),mt=(0,v.Z)("div",{target:"e1rgwh4r5"})(dt,";"),gt=(0,v.Z)("span",{target:"e1rgwh4r4"})("margin-right:",(0,U.Z)(.5),";"),Zt=(0,v.Z)("span",{target:"e1rgwh4r3"})("margin-right:",(0,U.Z)(.25),";svg{margin-right:",(0,U.Z)(.5),";position:relative;top:1px;}"),vt=(0,v.Z)("div",{target:"e1rgwh4r2"})("font-size:",(e=>e.theme.fontSizeSmall),";margin-bottom:",(0,U.Z)(.5),";display:flex;justify-content:space-between;"),ft=(0,v.Z)(rt.Z,{target:"e1rgwh4r1"})("font-size:",(e=>e.theme.fontSizeMedium),";"),yt=(0,v.Z)(X.uI,{target:"e1rgwh4r0"})("width:250px;font-weight:normal;border:1px solid ",(e=>e.theme.gray500),";background:",(e=>e.theme.gray500),";",X.h4,"{font-weight:normal;color:",(e=>e.theme.white),";background:",(e=>e.theme.gray500),";border-bottom:1px solid ",(e=>e.theme.gray400),";}",X.uT,"{padding:",(0,U.Z)(1.5),";}"),xt=ct;var bt=s("./app/components/tooltip.tsx"),kt=s("./app/utils/getDynamicText.tsx");const wt=e=>{let{organization:t,project:s,environments:n,allEnvironments:r,group:o,currentRelease:a}=e;const l=n.length>0?n.map((e=>e.displayName)).join(", "):(0,d.t)("All Environments"),c=n.length>1?(0,d.t)("selected environments"):1===n.length?n[0].displayName:void 0,p=s.id,u=s.slug,h=new Set(s.features).has("releases"),m=`/settings/${t.slug}/projects/${s.slug}/release-tracking/`;return(0,_.tZ)(Xe,{title:(0,_.tZ)("span",{"data-test-id":"env-label",children:l}),children:o&&r?(0,_.BX)(i.Fragment,{children:[(0,_.tZ)(nt,{group:r,environment:l,environmentStats:o.stats,release:null==a?void 0:a.release,releaseStats:null==a?void 0:a.stats,statsPeriod:"24h",title:(0,d.t)("Last 24 Hours"),firstSeen:o.firstSeen,lastSeen:o.lastSeen}),(0,_.tZ)(nt,{group:r,environment:l,environmentStats:o.stats,release:null==a?void 0:a.release,releaseStats:null==a?void 0:a.stats,statsPeriod:"30d",title:(0,d.t)("Last 30 Days"),className:"bar-chart-small",firstSeen:o.firstSeen,lastSeen:o.lastSeen}),(0,_.tZ)(Xe,{secondary:!0,title:(0,_.BX)(i.Fragment,{children:[(0,d.t)("Last seen"),(0,_.tZ)(_t,{children:(0,_.tZ)(bt.Z,{title:(0,d.t)("When the most recent event in this issue was captured."),disableForVisualTest:!0,children:(0,_.tZ)(V.BS,{size:"xs",color:"gray200"})})})]}),children:(0,_.tZ)(xt,{organization:t,projectId:p,projectSlug:u,date:(0,kt.Z)({value:o.lastSeen,fixed:"2016-01-13T03:08:25Z"}),dateGlobal:r.lastSeen,hasRelease:h,environment:c,release:o.lastRelease||null,title:(0,d.t)("Last seen")})}),(0,_.tZ)(Xe,{secondary:!0,title:(0,_.BX)(i.Fragment,{children:[(0,d.t)("First seen"),(0,_.tZ)(_t,{children:(0,_.tZ)(bt.Z,{title:(0,d.t)("When the first event in this issue was captured."),disableForVisualTest:!0,children:(0,_.tZ)(V.BS,{size:"xs",color:"gray200"})})})]}),children:(0,_.tZ)(xt,{organization:t,projectId:p,projectSlug:u,date:(0,kt.Z)({value:o.firstSeen,fixed:"2015-08-13T03:08:25Z"}),dateGlobal:r.firstSeen,hasRelease:h,environment:c,release:o.firstRelease||null,title:(0,d.t)("First seen")})}),h?null:(0,_.BX)(Xe,{secondary:!0,title:(0,d.t)("Releases not configured"),children:[(0,_.tZ)("a",{href:m,children:(0,d.t)("Setup Releases")})," ",(0,d.t)(" to make issues easier to fix.")]})]}):(0,_.tZ)(Be.Z,{height:"288px"})})};wt.displayName="GroupReleaseStats";const St=(0,i.memo)(wt),_t=(0,v.Z)("span",{target:"e1ey6wx70"})("margin-left:",(0,U.Z)(.5),";");var Ct=s("./app/actionCreators/group.tsx"),jt=s("./app/actionCreators/prompts.tsx"),It=s("./app/utils/promptIsDismissed.tsx"),Et=s("./app/utils/withCommitters.tsx");function zt(e,t){if(!e)return;const s=e=>{let[s,n]=e;return s===t.type&&((e,s)=>"user"===e&&s===t.email||"team"===e&&s===t.name)(s,n)};return e.filter((e=>{let[t,n]=e;return n.find(s)})).map((e=>{let[t]=e;return t}))}var Dt=s("./app/components/acl/access.tsx"),Tt=s("./app/components/button.tsx"),Nt=s("./app/components/buttonBar.tsx"),At=s("./app/components/featureBadge.tsx"),Pt=s("./app/components/panels/index.tsx");const Bt=e=>{let{project:t,organization:s,issueId:n,codeowners:r,isDismissed:o,handleCTAClose:a}=e;const l=()=>{(0,L.openCreateOwnershipRule)({project:t,organization:s,issueId:n})},c=!r.length&&!o,p=(0,_.tZ)(Dt.Z,{access:["project:write"],children:e=>{let{hasAccess:t}=e;return(0,_.tZ)(B.Z,{target:"owners",position:"bottom",offset:(0,U.Z)(3),children:(0,_.tZ)(Tt.ZP,{onClick:l,size:"small",disabled:!t,title:(0,d.t)("You don't have permission to create ownership rules."),tooltipProps:{disabled:t},children:(0,d.t)("Create Ownership Rule")})})}}),u=(0,_.BX)(Rt,{dashedBorder:!0,children:[(0,_.BX)(Lt,{children:[(0,_.tZ)(Ot,{children:(0,d.t)("Codeowners sync")})," ",(0,_.tZ)(At.Z,{style:{top:-3},type:"new",noTooltip:!0}),(0,_.tZ)(Xt,{icon:(0,_.tZ)(V.bM,{size:"xs"}),priority:"link",onClick:()=>a(),"aria-label":(0,d.t)("Close")})]}),(0,_.tZ)(Mt,{children:(0,d.t)("Import GitHub or GitLab CODEOWNERS files to automatically assign issues to the right people.")}),(0,_.BX)(Nt.ZP,{gap:1,children:[(0,_.tZ)($t,{size:"small",priority:"primary",to:`/settings/${s.slug}/projects/${t.slug}/ownership/`,onClick:()=>(0,H.Db)("integrations.code_owners_cta_setup_clicked",{view:"stacktrace_issue_details",project_id:t.id,organization:s}),children:(0,d.t)("Setup")}),(0,_.tZ)(Tt.ZP,{size:"small",external:!0,href:"https://docs.sentry.io/product/issues/issue-owners/#code-owners",onClick:()=>(0,H.Db)("integrations.code_owners_cta_docs_clicked",{view:"stacktrace_issue_details",project_id:t.id,organization:s}),children:(0,d.t)("Read Docs")})]})]});return(0,_.tZ)(Xe,{title:(0,_.BX)(i.Fragment,{children:[(0,d.t)("Ownership Rules"),(0,_.tZ)(O.ms,{children:e=>{let{css:t}=e;return(0,_.tZ)(X.uI,{body:(0,_.BX)(Ft,{children:[(0,_.tZ)("p",{children:(0,d.t)("Ownership rules allow you to associate file paths and URLs to specific teams or users, so alerts can be routed to the right people.")}),(0,_.tZ)(Tt.ZP,{external:!0,href:"https://docs.sentry.io/workflow/issue-owners/",priority:"primary",children:(0,d.t)("Learn more")})]}),containerClassName:t`
                  display: flex;
                  align-items: center;
                `,children:(0,_.tZ)(qt,{size:"xs",color:"gray200"})})}})]}),children:c?u:p})};Bt.displayName="OwnershipRules";const qt=(0,v.Z)(V.BS,{target:"e196vw9g7"})("margin-left:",(0,U.Z)(.5),";"),Ft=(0,v.Z)("div",{target:"e196vw9g6"})("padding:",(0,U.Z)(1),";text-align:center;"),Rt=(0,v.Z)(Pt.s_,{target:"e196vw9g5"})("background:none;display:flex;flex-direction:column;padding:",(0,U.Z)(2),";"),Lt=(0,v.Z)("div",{target:"e196vw9g4"})({name:"xhrh7k",styles:"display:grid;grid-template-columns:max-content max-content 1fr;align-items:flex-start"}),Ot=(0,v.Z)("h6",{target:"e196vw9g3"})("margin-bottom:",(0,U.Z)(1),";text-transform:uppercase;font-weight:bold;color:",(e=>e.theme.gray300),";font-size:",(e=>e.theme.fontSizeExtraSmall),";"),Mt=(0,v.Z)("span",{target:"e196vw9g2"})("color:",(e=>e.theme.textColor),";margin-bottom:",(0,U.Z)(2),";"),$t=(0,v.Z)(Tt.ZP,{target:"e196vw9g1"})("&:focus{color:",(e=>e.theme.white),";}"),Xt=(0,v.Z)(Tt.ZP,{target:"e196vw9g0"})("justify-self:flex-end;color:",(e=>e.theme.gray400),";");var Vt=s("./app/components/avatar/actorAvatar.tsx"),Ut=s("../node_modules/moment/moment.js"),Gt=s.n(Ut),Ht=s("./app/components/alert.tsx"),Qt=s("./app/components/links/link.tsx");class Kt extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{commitsExpanded:!1,rulesExpanded:!1})}render(){const{actor:e,commits:t,rules:s,...n}=this.props,{commitsExpanded:r,rulesExpanded:o}=this.state,a={initialData:[{emails:e.email?new Set([e.email]):new Set([])}],source:"suggested_assignees"};return(0,_.tZ)(X.uI,{header:(0,_.BX)(i.Fragment,{children:[(0,_.BX)(as,{children:[(0,_.tZ)(ls,{actor:e}),e.name||e.email]}),void 0===e.id&&(0,_.tZ)(os,{icon:(0,_.tZ)(V.FC,{size:"xs"}),type:"warning",children:(0,d._N)("The email [actorEmail] is not a member of your organization. [inviteUser:Invite] them or link additional emails in [accountSettings:account settings].",{actorEmail:(0,_.tZ)("strong",{children:e.email}),accountSettings:(0,_.tZ)(Qt.Z,{to:"/settings/account/emails/"}),inviteUser:(0,_.tZ)("a",{onClick:()=>(0,L.openInviteMembersModal)(a)})})})]}),body:(0,_.BX)(cs,{children:[void 0!==t&&(0,_.BX)(i.Fragment,{children:[(0,_.tZ)("div",{className:"divider",children:(0,_.tZ)("h6",{children:(0,d.t)("Commits")})}),(0,_.tZ)("div",{children:t.slice(0,r?t.length:3).map(((e,t)=>{let{message:s,dateCreated:n}=e;return(0,_.BX)(ts,{children:[(0,_.tZ)(Yt,{}),(0,_.tZ)(Jt,{message:null!=s?s:void 0,date:n})]},t)}))}),t.length>3&&!r?(0,_.tZ)(is,{priority:"link",size:"zero",onClick:()=>this.setState({commitsExpanded:!0}),children:(0,d.t)("View more")}):null]}),(0,lt.ri)(s)&&(0,_.BX)(i.Fragment,{children:[(0,_.tZ)("div",{className:"divider",children:(0,_.tZ)("h6",{children:(0,d.t)("Matching Ownership Rules")})}),(0,_.tZ)("div",{children:s.slice(0,o?s.length:3).map(((e,t)=>{let[s,n]=e;return(0,_.BX)(ss,{children:[(0,_.tZ)(ns,{tagType:s}),(0,_.tZ)(rs,{children:n})]},t)}))}),s.length>3&&!o?(0,_.tZ)(is,{priority:"link",size:"zero",onClick:()=>this.setState({rulesExpanded:!0}),children:(0,d.t)("View more")}):null]})]}),...n})}}Kt.displayName="SuggestedOwnerHovercard";const Wt={url:tt.ZP.green200,path:tt.ZP.purple300,tag:tt.ZP.blue300,codeowners:tt.ZP.pink300},Yt=(0,v.Z)(V.J3,{target:"e1qc9wyy11"})("margin-right:",(0,U.Z)(.5),";flex-shrink:0;"),Jt=(0,v.Z)((e=>{let{message:t="",date:s,...n}=e;return(0,_.BX)("div",{...n,children:[t.split("\n")[0],(0,_.tZ)(es,{date:s})]})}),{target:"e1qc9wyy10"})("color:",(e=>e.theme.textColor),";font-size:",(e=>e.theme.fontSizeExtraSmall),";margin-top:",(0,U.Z)(.25),";hyphens:auto;"),es=(0,v.Z)((e=>{let{date:t,...s}=e;return(0,_.tZ)("div",{...s,children:Gt()(t).fromNow()})}),{target:"e1qc9wyy9"})("margin-top:",(0,U.Z)(.5),";color:",(e=>e.theme.gray300),";"),ts=(0,v.Z)("div",{target:"e1qc9wyy8"})("display:flex;align-items:flex-start;&:not(:last-child){margin-bottom:",(0,U.Z)(1),";}"),ss=(0,v.Z)("code",{target:"e1qc9wyy7"})("display:flex;align-items:flex-start;&:not(:last-child){margin-bottom:",(0,U.Z)(1),";}"),ns=(0,v.Z)((e=>{let{tagType:t,...s}=e;return(0,_.tZ)("div",{...s,children:t})}),{target:"e1qc9wyy6"})("background:",(e=>Wt[-1===e.tagType.indexOf("tags")?e.tagType:"tag"]),";color:",(e=>e.theme.white),";font-size:",(e=>e.theme.fontSizeExtraSmall),";padding:",(0,U.Z)(.25)," ",(0,U.Z)(.5),";margin:",(0,U.Z)(.25)," ",(0,U.Z)(.5)," ",(0,U.Z)(.25)," 0;border-radius:2px;font-weight:bold;text-align:center;"),is=(0,v.Z)(Tt.ZP,{target:"e1qc9wyy5"})("border:none;color:",(e=>e.theme.gray300),";font-size:",(e=>e.theme.fontSizeExtraSmall),";padding:",(0,U.Z)(.25)," ",(0,U.Z)(.5),";margin:",(0,U.Z)(1)," ",(0,U.Z)(.25)," ",(0,U.Z)(.25)," 0;width:100%;min-width:34px;"),rs=(0,v.Z)("code",{target:"e1qc9wyy4"})({name:"1qjpcze",styles:"word-break:break-all;line-height:1.2"}),os=(0,v.Z)(Ht.Z,{target:"e1qc9wyy3"})("margin:10px -13px -13px;border-radius:0;border-color:#ece0b0;padding:10px;font-size:",(e=>e.theme.fontSizeSmall),";font-weight:normal;box-shadow:none;"),as=(0,v.Z)("div",{target:"e1qc9wyy2"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),ls=(0,v.Z)((e=>(0,_.tZ)(Vt.Z,{size:20,hasTooltip:!1,...e})),{target:"e1qc9wyy1"})("margin-right:",(0,U.Z)(1),";"),cs=(0,v.Z)("div",{target:"e1qc9wyy0"})("margin-top:-",(0,U.Z)(2),";"),ds=Kt;var ps={name:"e0dnmk",styles:"cursor:pointer"};const us=e=>{let{owners:t,onAssign:s}=e;return(0,_.tZ)(Xe,{title:(0,_.BX)(i.Fragment,{children:[(0,d.t)("Suggested Assignees"),(0,_.tZ)(hs,{children:(0,d.t)("Click to assign")})]}),children:(0,_.tZ)(ms,{children:t.map(((e,t)=>(0,_.tZ)(ds,{...e,children:(0,_.tZ)(Vt.Z,{css:ps,onClick:s(e.actor),hasTooltip:!1,actor:e.actor})},`${e.actor.id}:${e.actor.email}:${e.actor.name}:${t}`)))})})};us.displayName="SuggestedAssignees";const hs=(0,v.Z)("small",{target:"e1lhkh1d1"})("font-size:",(e=>e.theme.fontSizeExtraSmall),";color:",(e=>e.theme.gray300),";line-height:100%;font-weight:400;margin-left:",(0,U.Z)(.5),";"),ms=(0,v.Z)("div",{target:"e1lhkh1d0"})("display:grid;gap:",(0,U.Z)(1),";grid-template-columns:repeat(auto-fill, 20px);");class gs extends F.Z{constructor(){super(...arguments),(0,n.Z)(this,"handleCTAClose",(()=>{const{api:e,organization:t,project:s}=this.props;(0,jt.Xt)(e,{organizationId:t.id,projectId:s.id,feature:"code_owners",status:"dismissed"}),this.setState({isDismissed:!0},(()=>(0,H.Db)("integrations.dismissed_code_owners_prompt",{view:"stacktrace_issue_details",project_id:s.id,organization:t})))})),(0,n.Z)(this,"handleAssign",(e=>()=>{if(void 0===e.id)return;const{event:t}=this.props;"user"===e.type&&(0,Ct.Ol)({id:t.groupID,user:e,assignedBy:"suggested_assignee"}),"team"===e.type&&(0,Ct.SG)({id:t.groupID,actor:e,assignedBy:"suggested_assignee"})}))}getDefaultState(){return{...super.getDefaultState(),event:{rules:[],owners:[]},codeowners:[],isDismissed:!0,codeMappings:[]}}getEndpoints(){const{project:e,organization:t,event:s}=this.props,n=[["event_owners",`/projects/${t.slug}/${e.slug}/events/${s.id}/owners/`],["codeMappings",`/organizations/${t.slug}/code-mappings/`,{query:{project:-1}}]];return t.features.includes("integrations-codeowners")&&n.push(["codeowners",`/projects/${t.slug}/${e.slug}/codeowners/`]),n}async onLoadAllEndpointsSuccess(){await this.checkCodeOwnersPrompt()}componentDidUpdate(e){this.props.event&&e.event?this.props.event.id!==e.event.id&&this.reloadData():this.props.event&&this.reloadData()}async checkCodeOwnersPrompt(){const{api:e,organization:t,project:s}=this.props,{codeMappings:n}=this.state;if(!n.length)return;this.setState({loading:!0});const i=await(0,jt.vu)(e,{organizationId:t.id,projectId:s.id,feature:"code_owners"}),r=(0,It.IB)(i,30);this.setState({isDismissed:r,loading:!1},(()=>{r||(0,H.Db)("integrations.show_code_owners_prompt",{view:"stacktrace_issue_details",project_id:s.id,organization:t},{startSession:!0})}))}getOwnerList(){var e;const t=null!==(e=this.props.committers)&&void 0!==e?e:[],s=t.map((e=>({actor:{...e.author,type:"user"},commits:e.commits})));return this.state.event_owners.owners.forEach((e=>{const n={actor:e,rules:zt(this.state.event_owners.rules||[],e)},i=s.findIndex((s=>0===t.length?s.actor===e:s.actor.email===e.email));i>-1?s[i]={...n,...s[i]}:s.push(n)})),s}renderBody(){const{organization:e,project:t,group:s}=this.props,{codeowners:n,isDismissed:r}=this.state,o=this.getOwnerList();return(0,_.BX)(i.Fragment,{children:[o.length>0&&(0,_.tZ)(us,{owners:o,onAssign:this.handleAssign}),(0,_.tZ)(Bt,{issueId:s.id,project:t,organization:e,codeowners:n,isDismissed:r,handleCTAClose:this.handleCTAClose})]})}}const Zs=(0,m.Z)((0,g.Z)((0,Et.Z)(gs)));var vs=s("./app/components/deviceName.tsx"),fs=s("./app/components/tagDistributionMeter.tsx");class ys extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{loading:!0,error:!1})}componentDidMount(){this.fetchData()}shouldComponentUpdate(e,t){return this.state.loading!==t.loading||this.state.error!==t.error||this.props.tag!==e.tag||this.props.name!==e.name||this.props.totalValues!==e.totalValues||this.props.topValues!==e.topValues}fetchData(){this.setState({loading:!0,error:!1}),(0,vs.f)("iOS").then((e=>{this.setState({iOSDeviceList:e,error:!1,loading:!1})})).catch((()=>{this.setState({error:!0,loading:!1})}))}render(){const{organization:e,group:t,tag:s,totalValues:n,topValues:i}=this.props,{loading:r,error:o,iOSDeviceList:a}=this.state,l=`/organizations/${e.slug}/issues/${t.id}/tags/${s}/`,c=i?i.map((e=>({...e,name:a?(0,vs.qW)(e.name||"",a)||"":e.name,url:l}))):[];return(0,_.tZ)(fs.Z,{title:s,totalValues:n,isLoading:r,hasError:o,segments:c})}}ys.displayName="GroupTagDistributionMeter";const xs=ys;class bs extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{participants:[],environments:this.props.environments})}componentDidMount(){this.fetchAllEnvironmentsGroupData(),this.fetchCurrentRelease(),this.fetchParticipants(),this.fetchTagData()}UNSAFE_componentWillReceiveProps(e){b()(e.environments,this.props.environments)||this.setState({environments:e.environments},this.fetchTagData)}async fetchAllEnvironmentsGroupData(){const{group:e,api:t}=this.props;try{const s={collapse:"release"},n=await t.requestPromise(`/issues/${e.id}/`,{query:s});this.setState({allEnvironmentsGroupData:n})}catch{this.setState({error:!0})}}async fetchCurrentRelease(){const{group:e,api:t}=this.props;try{const s=await t.requestPromise(`/issues/${e.id}/current-release/`);this.setState({currentRelease:s})}catch{this.setState({error:!0})}}async fetchParticipants(){const{group:e,api:t}=this.props;try{const s=await t.requestPromise(`/issues/${e.id}/participants/`);return this.setState({participants:s,error:!1}),s}catch{return this.setState({error:!0}),[]}}async fetchTagData(){const{api:e,group:t}=this.props;try{const s=await e.requestPromise(`/issues/${t.id}/tags/`,{query:P()({key:t.tags.map((e=>e.key)),environment:this.state.environments.map((e=>e.name))})});this.setState({tagsWithTopValues:N()(s,"key")})}catch{this.setState({tagsWithTopValues:{},error:!0})}}renderPluginIssue(){const e=[];return(this.props.group.pluginIssues||[]).forEach((t=>{const s=t.issue;s&&e.push((0,_.BX)(i.Fragment,{children:[(0,_.tZ)("span",{children:`${t.shortName||t.name||t.title}: `}),(0,_.tZ)("a",{href:s.url,children:D()(s.label)?s.label.id:s.label})]},t.slug))})),e.length?(0,_.tZ)(Xe,{title:(0,d.t)("External Issues"),children:(0,_.tZ)(ws,{children:e})}):null}renderParticipantData(){const{error:e,participants:t=[]}=this.state;return e?(0,_.tZ)(l.Z,{message:(0,d.t)("There was an error while trying to load participants.")}):0!==t.length&&(0,_.tZ)(Ke,{participants:t})}render(){const{className:e,event:t,group:s,organization:n,project:i,environments:r}=this.props,{allEnvironmentsGroupData:o,currentRelease:a,tagsWithTopValues:l}=this.state,c=i.slug;return(0,_.BX)("div",{className:e,children:[t&&(0,_.tZ)(Zs,{project:i,group:s,event:t}),(0,_.tZ)(St,{organization:n,project:i,environments:r,allEnvironments:o,group:s,currentRelease:a}),t&&(0,_.tZ)(w.Z,{mini:!0,children:(0,_.tZ)(Ge,{project:i,group:s,event:t})}),this.renderPluginIssue(),(0,_.BX)(Xe,{title:(0,_.tZ)(B.Z,{target:"tags",position:"bottom",children:(0,d.t)("Tags")}),children:[l?s.tags.map((e=>{const t=l[e.key],i=t?t.topValues:[],r=t?t.totalValues:0;return(0,_.tZ)(xs,{tag:e.key,totalValues:r,topValues:i,name:e.name,organization:n,projectId:c,group:s},e.key)})):(0,_.BX)(ks,{children:[(0,_.tZ)(Be.Z,{height:"40px"}),(0,_.tZ)(Be.Z,{height:"40px"}),(0,_.tZ)(Be.Z,{height:"40px"}),(0,_.tZ)(Be.Z,{height:"40px"})]}),0===s.tags.length&&(0,_.tZ)("p",{"data-test-id":"no-tags",children:r.length?(0,d.t)("No tags found in the selected environments"):(0,d.t)("No tags found")})]}),this.renderParticipantData()]})}}bs.displayName="BaseGroupSidebar";const ks=(0,v.Z)("div",{target:"eofpip32"})("display:grid;gap:",(0,U.Z)(1),";grid-auto-flow:row;"),ws=(0,v.Z)("div",{target:"eofpip31"})("display:grid;grid-template-columns:auto max-content;gap:",(0,U.Z)(2),";"),Ss=(0,v.Z)((0,m.Z)(bs),{target:"eofpip30"})("font-size:",(e=>e.theme.fontSizeMedium),";");var _s=s("./app/components/duration.tsx"),Cs=s("./app/components/events/styles.tsx");function js(e){let{statusDetails:t}=e;return(0,_.tZ)(Cs.UP,{priority:"default",children:(0,_.BX)(Cs._B,{children:[(0,_.tZ)(V.i1,{color:"red300",size:"sm"}),(0,_.BX)("span",{children:[function(){const{ignoreUntil:e,ignoreCount:s,ignoreWindow:n,ignoreUserCount:i,ignoreUserWindow:r}=t;return e?(0,d.t)("This issue has been ignored until %s",(0,_.tZ)("strong",{children:(0,_.tZ)(it.Z,{date:e})})):s&&n?(0,d.t)("This issue has been ignored until it occurs %s time(s) in %s",(0,_.tZ)("strong",{children:s.toLocaleString()}),(0,_.tZ)("strong",{children:(0,_.tZ)(_s.Z,{seconds:60*n})})):s?(0,d.t)("This issue has been ignored until it occurs %s more time(s)",(0,_.tZ)("strong",{children:s.toLocaleString()})):i&&r?(0,d.t)("This issue has been ignored until it affects %s user(s) in %s",(0,_.tZ)("strong",{children:i.toLocaleString()}),(0,_.tZ)("strong",{children:(0,_.tZ)(_s.Z,{seconds:60*r})})):i?(0,d.t)("This issue has been ignored until it affects %s more user(s)",(0,_.tZ)("strong",{children:i.toLocaleString()})):(0,d.t)("This issue has been ignored")}(),"Â â€”Â ",(0,d.t)("You will not be notified of any changes and it will not show up by default in feeds.")]})]})})}js.displayName="MutedBox";const Is=js;var Es=s("./app/components/reprocessedBox.tsx"),zs=s("./app/components/commitLink.tsx"),Ds=s("./app/types/index.tsx");function Ts(e,t,s){const n=e.actor?(0,_.BX)("strong",{children:[(0,_.tZ)(He.Z,{user:e.actor,size:20,className:"avatar"}),(0,_.tZ)("span",{style:{marginLeft:5},children:e.actor.name})]}):null,r=s.find((e=>e.type===Ds.fc.SET_RESOLVED_IN_RELEASE)),o=null==r?void 0:r.data.current_release_version;return e.inNextRelease&&e.actor?(0,d._N)("[actor] marked this issue as resolved in the upcoming release.",{actor:n}):e.inNextRelease?(0,d.t)("This issue has been marked as resolved in the upcoming release."):e.inRelease&&e.actor?o?(0,d._N)("[actor] marked this issue as resolved in versions greater than [version].",{actor:n,version:(0,_.tZ)(ot.Z,{version:o,projectId:t,tooltipRawVersion:!0})}):(0,d._N)("[actor] marked this issue as resolved in version [version].",{actor:n,version:(0,_.tZ)(ot.Z,{version:e.inRelease,projectId:t,tooltipRawVersion:!0})}):e.inRelease?o?(0,d._N)("This issue has been marked as resolved in versions greater than [version].",{version:(0,_.tZ)(ot.Z,{version:o,projectId:t,tooltipRawVersion:!0})}):(0,d._N)("This issue has been marked as resolved in version [version].",{version:(0,_.tZ)(ot.Z,{version:e.inRelease,projectId:t,tooltipRawVersion:!0})}):e.inCommit?(0,d._N)("This issue has been marked as resolved by [commit]",{commit:(0,_.BX)(i.Fragment,{children:[(0,_.tZ)(zs.Z,{commitId:e.inCommit.id,repository:e.inCommit.repository}),(0,_.tZ)(As,{date:e.inCommit.dateCreated})]})}):(0,d.t)("This issue has been marked as resolved.")}function Ns(e){let{statusDetails:t,projectId:s,activities:n=[]}=e;return(0,_.tZ)(Cs.UP,{priority:"default",children:(0,_.BX)(Cs._B,{children:[(0,_.tZ)(Ps,{color:"green300"}),(0,_.tZ)("span",{children:Ts(t,s,n)})]})})}Ns.displayName="ResolutionBox";const As=(0,v.Z)(rt.Z,{target:"eusmyo21"})("color:",(e=>e.theme.gray300),";margin-left:",(0,U.Z)(.5),";font-size:",(e=>e.theme.fontSizeSmall),";"),Ps=(0,v.Z)(V.DL,{target:"eusmyo20"})("margin-top:0!important;align-self:center;@media (max-width: ",(e=>e.theme.breakpoints[0]),"){margin-top:",(0,U.Z)(.5),"!important;align-self:flex-start;}"),Bs=Ns;var qs=s("../node_modules/query-string/index.js"),Fs=s("./images/spot/mobile-hero.jpg"),Rs=s("./app/components/forms/emailField.tsx"),Ls=s("./app/components/forms/form.tsx"),Os=s("./app/components/list/index.tsx"),Ms=s("./app/components/list/listItem.tsx"),$s=s("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx");class Xs extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{askTeammate:!1}),(0,n.Z)(this,"handleGetStartedClick",(()=>{const{matchedUserAgentString:e,organization:t}=this.props;(0,$s.Z)("growth.clicked_mobile_prompt_setup_project",{matchedUserAgentString:e,organization:t})})),(0,n.Z)(this,"handleAskTeammate",(()=>{const{matchedUserAgentString:e,organization:t}=this.props;this.setState({askTeammate:!0}),(0,$s.Z)("growth.clicked_mobile_prompt_ask_teammate",{matchedUserAgentString:e,organization:t})})),(0,n.Z)(this,"goBack",(()=>{this.setState({askTeammate:!1})})),(0,n.Z)(this,"handleSubmitSuccess",(()=>{const{matchedUserAgentString:e,organization:t,closeModal:s}=this.props;(0,R.S9)("Notified teammate successfully"),(0,$s.Z)("growth.submitted_mobile_prompt_ask_teammate",{matchedUserAgentString:e,organization:t}),s()})),(0,n.Z)(this,"handlePreSubmit",(()=>{(0,R.E3)((0,d.t)("Submittingâ€¦"))})),(0,n.Z)(this,"handleSubmitError",(()=>{(0,R.Iw)((0,d.t)("Error notifying teammate"))}))}renderAskTeammate(){const{Body:e,organization:t}=this.props;return(0,_.tZ)(e,{children:(0,_.BX)(Ls.Z,{apiEndpoint:`/organizations/${t.slug}/request-project-creation/`,apiMethod:"POST",submitLabel:(0,d.t)("Send"),onSubmitSuccess:this.handleSubmitSuccess,onSubmitError:this.handleSubmitError,onPreSubmit:this.handlePreSubmit,extraButton:(0,_.tZ)(Ks,{children:(0,_.tZ)(Ws,{onClick:this.goBack,children:(0,d.t)("Back")})}),children:[(0,_.tZ)("p",{children:(0,d.t)("Let the right folks know about Sentry Mobile Application Monitoring.")}),(0,_.tZ)(Rs.Z,{required:!0,name:"targetUserEmail",inline:!1,label:(0,d.t)("Email Address"),placeholder:"name@example.com",stacked:!0})]})})}renderMain(){const{Body:e,Footer:t,organization:s}=this.props,n=qs.stringify({referrer:"suggest_project",category:"mobile"}),r=`/organizations/${s.slug}/projects/new/?${n}`;return(0,_.BX)(i.Fragment,{children:[(0,_.tZ)(e,{children:(0,_.BX)(Vs,{children:[(0,_.tZ)(Gs,{children:(0,d.t)("Sentry for Mobile shows a holistic overview of your application's health in real time. So you can correlate errors with releases, tags, and devices to solve problems quickly, decrease churn, and improve user retention.")}),(0,_.BX)(Qs,{symbol:"bullet",children:[(0,_.tZ)(Ms.Z,{children:(0,d._N)("[see:See] session data, version adoption, and user impact by every release.",{see:(0,_.tZ)("strong",{})})}),(0,_.tZ)(Ms.Z,{children:(0,d._N)("[solve:Solve] issues quickly with full context: contextualized stack traces, events that lead to the error, client, hardware information, and the very commit that introduced the error.",{solve:(0,_.tZ)("strong",{})})}),(0,_.tZ)(Ms.Z,{children:(0,d._N)("[learn:Learn] and analyze event data to reduce regressions and ultimately improve user adoption and engagement.",{learn:(0,_.tZ)("strong",{})})})]}),(0,_.tZ)(Gs,{children:(0,d.t)("And guess what? Setup takes less than five minutes.")})]})}),(0,_.tZ)(t,{children:(0,_.tZ)(Dt.Z,{organization:s,access:["project:write"],children:e=>{let{hasAccess:t}=e;return(0,_.BX)(Nt.ZP,{gap:1,children:[(0,_.tZ)(Tt.ZP,{priority:t?"default":"primary",onClick:this.handleAskTeammate,children:(0,d.t)("Tell a Teammate")}),t&&(0,_.tZ)(Tt.ZP,{href:r,onClick:this.handleGetStartedClick,priority:"primary",children:(0,d.t)("Get Started")})]})}})})]})}render(){const{Header:e}=this.props,{askTeammate:t}=this.state,s=t?(0,d.t)("Tell a Teammate"):(0,d.t)("Try Sentry for Mobile");return(0,_.BX)(i.Fragment,{children:[(0,_.BX)(e,{children:[(0,_.tZ)(Hs,{}),(0,_.tZ)(Us,{children:s})]}),this.state.askTeammate?this.renderAskTeammate():this.renderMain()]})}}Xs.displayName="SuggestProjectModal";const Vs=(0,v.Z)("div",{target:"eckbkp36"})("display:grid;gap:",(0,U.Z)(3),";code{word-break:break-word;}"),Us=(0,v.Z)("h3",{target:"eckbkp35"})("margin-top:",(0,U.Z)(2),";margin-bottom:",(0,U.Z)(3),";"),Gs=(0,v.Z)("p",{target:"eckbkp34"})({name:"ti75j2",styles:"margin:0"}),Hs=(0,v.Z)("div",{target:"eckbkp33"})("margin:-",(0,U.Z)(4)," -",(0,U.Z)(4)," 0 -",(0,U.Z)(4),";border-radius:7px 7px 0 0;background-image:url(",Fs,");background-size:475px;background-color:black;background-repeat:no-repeat;overflow:hidden;background-position:center bottom;height:156px;"),Qs=(0,v.Z)(Os.Z,{target:"eckbkp32"})("li{padding-left:",(0,U.Z)(3),";}"),Ks=(0,v.Z)("div",{target:"eckbkp31"})("width:100%;margin-right:",(0,U.Z)(1),";"),Ws=(0,v.Z)(Tt.ZP,{target:"eckbkp30"})({name:"tjo4qw",styles:"float:right"}),Ys=(0,m.Z)(Xs);var Js=s("./app/utils/withProjects.tsx");const en=["react-native","android","cordova","cocoa","cocoa-swift","apple-ios","swift","flutter","xamarin","dotnet-xamarin"],tn=["okhttp","CFNetwork","Alamofire","Dalvik"];class sn extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{}),(0,n.Z)(this,"handleCTAClose",(()=>{const{api:e,organization:t}=this.props;(0,$s.Z)("growth.dismissed_mobile_prompt_banner",{matchedUserAgentString:this.matchedUserAgentString,organization:t}),(0,jt.Xt)(e,{organizationId:t.id,feature:"suggest_mobile_project",status:"dismissed"}),this.setState({isDismissed:!0})})),(0,n.Z)(this,"openModal",(()=>{(0,$s.Z)("growth.opened_mobile_project_suggest_modal",{matchedUserAgentString:this.matchedUserAgentString,organization:this.props.organization}),(0,L.openModal)((e=>(0,_.tZ)(Ys,{organization:this.props.organization,matchedUserAgentString:this.matchedUserAgentString,...e})))}))}componentDidMount(){this.fetchData()}get matchedUserAgentString(){var e,t,s;const{entries:n}=this.props.event,i=n.find((e=>"request"===e.type));if(!i)return"";const r=null==i||null===(e=i.data)||void 0===e||null===(t=e.headers)||void 0===t?void 0:t.find((e=>"user-agent"===(null==e?void 0:e[0].toLowerCase())));return r&&null!==(s=tn.find((e=>{var t;return null===(t=r[1])||void 0===t?void 0:t.toLowerCase().includes(e.toLowerCase())})))&&void 0!==s?s:""}get hasMobileProject(){return this.props.projects.some((e=>en.includes(e.platform||"")))}get hasMobileEvent(){const{mobileEventResult:e}=this.state;return!!this.matchedUserAgentString||!!e}get showCTA(){const{loaded:e,isDismissed:t}=this.state;return!(!this.hasMobileEvent||this.hasMobileProject||t||!e)}async fetchData(){const[e,t]=await Promise.all([this.checkMobilePrompt(),this.checkOrgHasMobileEvent()]);this.setState({isDismissed:e,mobileEventResult:t,loaded:!0},(()=>{const e=this.matchedUserAgentString;this.showCTA&&(0,$s.Z)("growth.show_mobile_prompt_banner",{matchedUserAgentString:e,mobileEventBrowserName:(null==t?void 0:t.browserName)||"",mobileEventClientOsName:(null==t?void 0:t.clientOsName)||"",organization:this.props.organization},{startSession:!0})}))}async checkOrgHasMobileEvent(){const{api:e,organization:t}=this.props;return e.requestPromise(`/organizations/${t.slug}/has-mobile-app-events/`,{query:{userAgents:tn}})}async checkMobilePrompt(){const{api:e,organization:t}=this.props,s=await(0,jt.vu)(e,{organizationId:t.id,feature:"suggest_mobile_project"});return(0,It.IB)(s)}renderCTA(){return(0,_.tZ)(Ht.Z,{type:"info",children:(0,_.BX)(rn,{children:[(0,_.tZ)("span",{children:(0,d._N)("We have a sneaking suspicion you have a mobile app that doesnâ€™t use Sentry. [link:Start Monitoring]",{link:(0,_.tZ)("a",{onClick:this.openModal})})}),(0,_.tZ)(on,{onClick:this.handleCTAClose})]})})}render(){return this.showCTA?this.renderCTA():null}}sn.displayName="SuggestProjectCTA";const nn=(0,m.Z)((0,Js.Z)(sn)),rn=(0,v.Z)("div",{target:"e1qnokpc1"})("display:grid;grid-template-columns:1fr max-content;gap:",(0,U.Z)(1),";"),on=(0,v.Z)(V.bM,{target:"e1qnokpc0"})({name:"gzd07f",styles:"margin:auto;cursor:pointer"});var an=s("../node_modules/moment-timezone/index.js"),ln=s.n(an),cn=s("./app/components/fileSize.tsx"),dn=s("./app/components/globalAppStoreConnectUpdateAlert/index.tsx"),pn=s("./app/components/links/externalLink.tsx"),un=s("./app/components/navigationButtonGroup.tsx"),hn=s("./app/stores/configStore.tsx"),mn=s("./app/utils/analytics.tsx"),gn=s("./images/spot/performance-quick-trace.svg"),Zn=s("./app/components/acl/feature.tsx"),vn=s("./app/components/acl/featureDisabled.tsx"),fn=s("./app/utils/docs.tsx");const yn="distributed_tracing";class xn extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{shouldShow:null})}componentDidMount(){this.fetchData()}async fetchData(){const{api:e,event:t,project:s,organization:n}=this.props;if(!(0,It.ZG)(yn,t.eventID))return void this.setState({shouldShow:!1});const i=await(0,jt.vu)(e,{projectId:s.id,organizationId:n.id,feature:yn});this.setState({shouldShow:!(0,It.IB)(null!=i?i:{},30)})}trackAnalytics(e){let{eventKey:t,eventName:s}=e;const{project:n,organization:i}=this.props;(0,mn.ec)({eventKey:t,eventName:s,organization_id:parseInt(i.id,10),project_id:parseInt(n.id,10),platform:n.platform})}handleClick(e){let{action:t,eventKey:s,eventName:n}=e;const{api:i,project:r,organization:o}=this.props,a={projectId:r.id,organizationId:o.id,feature:yn,status:t};(0,jt.Xt)(i,a).then((()=>this.setState({shouldShow:!1}))),this.trackAnalytics({eventKey:s,eventName:n})}renderActionButton(e){const t=["organizations:performance-view"],s=(0,d.t)("Requires performance monitoring.");return(0,_.tZ)(Zn.Z,{hookName:"feature-disabled:configure-distributed-tracing",features:t,renderDisabled:e=>(0,_.tZ)(X.uI,{body:(0,_.tZ)(vn.Z,{features:t,hideHelpToggle:!0,message:s,featureName:s}),children:e.children(e)}),children:()=>(0,_.tZ)(Tt.ZP,{size:"small",priority:"primary",href:e,onClick:()=>this.trackAnalytics({eventKey:"quick_trace.missing_instrumentation.docs",eventName:"Quick Trace: Missing Instrumentation Docs"}),children:(0,d.t)("Read the docs")})})}render(){const{project:e}=this.props,{shouldShow:t}=this.state;if(!t)return null;const s=(0,fn._)(e);return null===s?null:(0,_.BX)(bn,{dashedBorder:!0,children:[(0,_.BX)("div",{children:[(0,_.tZ)(kn,{children:(0,d.t)("Configure Distributed Tracing")}),(0,_.tZ)(wn,{children:(0,d.t)("See what happened right before and after this error")})]}),(0,_.tZ)(Sn,{src:gn,alt:"configure distributed tracing"}),(0,_.BX)(_n,{children:[this.renderActionButton(s),(0,_.BX)(Nt.ZP,{merged:!0,children:[(0,_.tZ)(Tt.ZP,{title:(0,d.t)("Remind me next month"),size:"small",onClick:()=>this.handleClick({action:"snoozed",eventKey:"quick_trace.missing_instrumentation.snoozed",eventName:"Quick Trace: Missing Instrumentation Snoozed"}),children:(0,d.t)("Snooze")}),(0,_.tZ)(Tt.ZP,{title:(0,d.t)("Dismiss for this project"),size:"small",onClick:()=>this.handleClick({action:"dismissed",eventKey:"quick_trace.missing_instrumentation.dismissed",eventName:"Quick Trace: Missing Instrumentation Dismissed"}),children:(0,d.t)("Dismiss")})]})]})]})}}xn.displayName="ConfigureDistributedTracing";const bn=(0,v.Z)(Pt.s_,{target:"ez3lron4"})("display:grid;grid-template-columns:1.5fr 1fr;grid-template-rows:auto max-content;gap:",(0,U.Z)(1),";background:none;padding:",(0,U.Z)(2),";margin:",(0,U.Z)(2)," 0;"),kn=(0,v.Z)("h3",{target:"ez3lron3"})("font-size:",(e=>e.theme.fontSizeSmall),";text-transform:uppercase;color:",(e=>e.theme.gray300),";margin-bottom:",(0,U.Z)(1),";"),wn=(0,v.Z)("div",{target:"ez3lron2"})("font-size:",(e=>e.theme.fontSizeMedium),";"),Sn=(0,v.Z)("img",{target:"ez3lron1"})({name:"1kr7pps",styles:"grid-row:1/3;grid-column:2/3;justify-self:end"}),_n=(0,v.Z)("div",{target:"ez3lron0"})("display:grid;grid-template-columns:max-content auto;justify-items:start;align-items:end;grid-column-gap:",(0,U.Z)(1),";"),Cn=(0,m.Z)(xn);var jn=s("./app/components/quickTrace/index.tsx"),In=s("./app/components/quickTrace/utils.tsx"),En=s("./app/utils/performance/quickTrace/quickTraceQuery.tsx");class zn extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{shouldShow:null}),(0,n.Z)(this,"snoozePrompt",(()=>{const{api:e,event:t,organization:s}=this.props,n={projectId:t.projectID,organizationId:s.id,feature:"quick_trace_missing",status:"snoozed"};(0,jt.Xt)(e,n).then((()=>this.setState({shouldShow:!1})))}))}componentDidMount(){this.promptsCheck()}shouldComponentUpdate(e,t){return this.props.event!==e.event||this.state.shouldShow!==t.shouldShow}async promptsCheck(){const{api:e,event:t,organization:s}=this.props,n=await(0,jt.vu)(e,{organizationId:s.id,projectId:t.projectID,feature:"quick_trace_missing"});this.setState({shouldShow:!(0,It.IB)(null!=n?n:{},30)})}handleTraceLink(e){(0,mn.ec)({eventKey:"quick_trace.trace_id.clicked",eventName:"Quick Trace: Trace ID clicked",organization_id:parseInt(e.id,10),source:"issues"})}renderTraceLink(e){let{isLoading:t,error:s,trace:n,type:i}=e;const{event:r,organization:o}=this.props;return t||null!==s||null===n||"empty"===i?null:(0,_.tZ)(Dn,{children:(0,_.tZ)(Qt.Z,{to:(0,In.aV)(r,o),onClick:()=>this.handleTraceLink(o),children:(0,d.t)("View Full Trace")})})}renderQuickTrace(e){const{event:t,location:s,organization:n}=this.props,{shouldShow:i}=this.state,{isLoading:r,error:o,trace:a,type:l}=e;return r?(0,_.tZ)(Be.Z,{height:"24px"}):o||null===a||0===a.length?i?(0,_.tZ)(Nn,{type:"info",icon:(0,_.tZ)(V.aU,{size:"sm"}),children:(0,_.BX)(An,{children:[(0,d._N)("The [type] for this error cannot be found. [link]",{type:"missing"===l?(0,d.t)("transaction"):(0,d.t)("trace"),link:(0,_.tZ)(pn.Z,{href:"https://docs.sentry.io/product/sentry-basics/tracing/trace-view/#troubleshooting",children:(0,d.t)("Read the docs to understand why.")})}),(0,_.tZ)(Tt.ZP,{priority:"link",size:"zero",title:(0,d.t)("Dismiss for a month"),onClick:this.snoozePrompt,children:(0,_.tZ)(V.bM,{})})]})}):null:(0,_.tZ)(jn.Z,{event:t,quickTrace:e,location:s,organization:n,anchor:"left",errorDest:"issue",transactionDest:"performance"})}render(){const{event:e,organization:t,location:s}=this.props;return(0,_.tZ)(w.Z,{mini:!0,children:(0,_.tZ)(En.Z,{event:e,location:s,orgSlug:t.slug,children:e=>(0,_.BX)(i.Fragment,{children:[this.renderTraceLink(e),(0,_.tZ)(Tn,{children:this.renderQuickTrace(e)})]})})})}}zn.displayName="IssueQuickTrace";const Dn=(0,v.Z)("span",{target:"e12j2to73"})("margin-left:",(0,U.Z)(1),";padding-left:",(0,U.Z)(1),";position:relative;&:before{display:block;position:absolute;content:'';left:0;top:2px;height:14px;border-left:1px solid ",(e=>e.theme.border),";}"),Tn=(0,v.Z)("div",{target:"e12j2to72"})("margin-top:",(0,U.Z)(.5),";"),Nn=(0,v.Z)(Ht.Z,{target:"e12j2to71"})({name:"ti75j2",styles:"margin:0"}),An=(0,v.Z)("div",{target:"e12j2to70"})("display:flex;flex-wrap:wrap;@media (min-width: ",(e=>e.theme.breakpoints[0]),"){justify-content:space-between;}"),Pn=(0,m.Z)(zn);function Bn(e){var t,s;let{event:n,group:r,organization:o,location:a}=e;const l=o.features.includes("performance-view"),c=Boolean(null===(t=n.contexts)||void 0===t||null===(s=t.trace)||void 0===s?void 0:s.trace_id);return(0,_.BX)(i.Fragment,{children:[!c&&(0,_.tZ)(Cn,{event:n,project:r.project,organization:o}),l&&c&&(0,_.tZ)(Pn,{organization:o,event:n,location:a})]})}Bn.displayName="QuickTrace";const qn=Bn,Fn=(e,t)=>{const s=ln().duration(Math.abs(+t-+e)),n=Math.floor(+s/36e5),i=s.minutes(),r=[];return n&&r.push(`${n} hour${1!==n?"s":""}`),i&&r.push(`${i} minute${1!==i?"s":""}`),0===r.length&&r.push("a few seconds"),r.join(", ")};class Rn extends i.Component{shouldComponentUpdate(e){return this.props.event.id!==e.event.id}handleTraceLink(e){(0,mn.ec)({eventKey:"quick_trace.trace_id.clicked",eventName:"Quick Trace: Trace ID clicked",organization_id:parseInt(e.id,10),source:"issues"})}getDateTooltip(){var e;const t=this.props.event,s=hn.Z.get("user"),n=(null!==(e=null==s?void 0:s.options)&&void 0!==e?e:{}).clock24Hours?"HH:mm:ss z":"LTS z",r=ln()(t.dateCreated),o=t.dateReceived?ln()(t.dateReceived):null;return(0,_.BX)(Hn,{className:"flat",children:[(0,_.tZ)("dt",{children:"Occurred"}),(0,_.BX)("dd",{children:[r.format("ll"),(0,_.tZ)("br",{}),r.format(n)]}),o&&(0,_.BX)(i.Fragment,{children:[(0,_.tZ)("dt",{children:"Received"}),(0,_.BX)("dd",{children:[o.format("ll"),(0,_.tZ)("br",{}),o.format(n)]}),(0,_.tZ)("dt",{children:"Latency"}),(0,_.tZ)("dd",{children:Fn(r,o)})]})]})}render(){const e=this.props.event,{group:t,organization:s,location:n,project:i}=this.props,r=t.id,o=`/organizations/${s.slug}/issues/${r}/events/`,a=`/organizations/${s.slug}/issues/${r}/events/${e.id}/json/`,l=e.dateReceived&&Math.abs(+ln()(e.dateReceived)-+ln()(e.dateCreated))>18e5;return(0,_.BX)(Ln,{children:[(0,_.tZ)($n,{hasPrevious:!!e.previousEventID,hasNext:!!e.nextEventID,links:[{pathname:`${o}oldest/`,query:n.query},{pathname:`${o}${e.previousEventID}/`,query:n.query},{pathname:`${o}${e.nextEventID}/`,query:n.query},{pathname:`${o}latest/`,query:n.query}],size:"small"}),(0,_.BX)(Mn,{children:[(0,d.t)("Event")," ",(0,_.tZ)(On,{to:`${o}${e.id}/`,children:e.eventID}),(0,_.tZ)(Gn,{children:(0,_.BX)(pn.Z,{href:a,children:["JSON"," (",(0,_.tZ)(cn.Z,{bytes:e.size}),")"]})})]}),(0,_.BX)(bt.Z,{title:this.getDateTooltip(),disableForVisualTest:!0,children:[(0,_.tZ)(Vn,{date:(0,kt.Z)({value:e.dateCreated,fixed:"Dummy timestamp"})}),l&&(0,_.tZ)(Xn,{color:"yellow300"})]}),(0,_.tZ)(Un,{project:i,organization:s,isCompact:!0}),(0,_.tZ)(qn,{event:e,group:t,organization:s,location:n})]})}}Rn.displayName="GroupEventToolbar";const Ln=(0,v.Z)("div",{target:"ekd58v68"})({name:"xh5kg9",styles:"position:relative;margin-bottom:-5px;z-index:3;padding:20px 30px 20px 40px;@media (max-width: 767px){display:none;}"}),On=(0,v.Z)(Qt.Z,{target:"ekd58v67"})({name:"lugakg",styles:"font-weight:normal"}),Mn=(0,v.Z)("h4",{target:"ekd58v66"})("line-height:1.3;margin:0;font-size:",(e=>e.theme.fontSizeLarge),";"),$n=(0,v.Z)(un.Z,{target:"ekd58v65"})({name:"tjo4qw",styles:"float:right"}),Xn=(0,v.Z)(V.FC,{target:"ekd58v64"})("margin-left:",(0,U.Z)(.5),";position:relative;top:",(0,U.Z)(.25),";"),Vn=(0,v.Z)(it.Z,{target:"ekd58v63"})("border-bottom:1px dotted #dfe3ea;color:",(e=>e.theme.subText),";"),Un=(0,v.Z)(dn.Z,{target:"ekd58v62"})("margin-top:",(0,U.Z)(.5),";margin-bottom:",(0,U.Z)(1),";"),Gn=(0,v.Z)("span",{target:"ekd58v61"})("margin-left:",(0,U.Z)(1),";padding-left:",(0,U.Z)(1),";position:relative;font-weight:normal;&:before{display:block;position:absolute;content:'';left:0;top:2px;height:14px;border-left:1px solid ",(e=>e.theme.border),";}"),Hn=(0,v.Z)("dl",{target:"ekd58v60"})({name:"95wzfp",styles:"text-align:left;margin:0;min-width:200px;max-width:250px"}),Qn=Rn;var Kn=s("./app/components/progressBar.tsx");function Wn(e){let{totalEvents:t,pendingEvents:s}=e;const n=t-s,i=(0,lt.aQ)(n,t);return(0,_.tZ)(Jn,{children:(0,_.BX)(ti,{children:[(0,_.BX)(si,{children:[(0,_.tZ)(ni,{children:(0,d.t)("Reprocessingâ€¦")}),(0,d.t)("Once the events in this issue have been reprocessed, youâ€™ll be able to make changes and view any new issues that may have been created.")]}),(0,_.BX)(ei,{children:[(0,_.tZ)(Kn.Z,{value:i,variant:"large"}),(0,d._N)("[remainingEventsToReprocess]/[totalEvents] [event] reprocessed",{remainingEventsToReprocess:n,totalEvents:t,event:(0,d.tn)("event","events",t)})]})]})})}Wn.displayName="ReprocessingProgress";const Yn=Wn,Jn=(0,v.Z)("div",{target:"ev0t3ja4"})("margin:",(0,U.Z)(4)," 40px;flex:1;text-align:center;@media (min-width: ",(e=>e.theme.breakpoints[0]),"){margin:40px;}"),ei=(0,v.Z)("div",{target:"ev0t3ja3"})("color:",(e=>e.theme.gray300),";font-size:",(e=>e.theme.fontSizeMedium),";display:grid;gap:",(0,U.Z)(1.5),";justify-items:center;max-width:402px;width:100%;"),ti=(0,v.Z)("div",{target:"ev0t3ja2"})("display:grid;gap:",(0,U.Z)(3),";justify-items:center;"),si=(0,v.Z)("div",{target:"ev0t3ja1"})("display:grid;gap:",(0,U.Z)(1),";color:",(e=>e.theme.textColor),";max-width:557px;"),ni=(0,v.Z)("h3",{target:"ev0t3ja0"})("font-size:",(e=>e.theme.headerFontSize),";font-weight:600;margin-bottom:0;");var ii=s("./app/views/organizationGroupDetails/utils.tsx");class ri extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{eventNavLinks:"",releasesCompletion:null}),(0,n.Z)(this,"fetchData",(async()=>{const{api:e,project:t,organization:s}=this.props,n=s.slug,i=t.slug,r=t.id,o=e.requestPromise(`/projects/${n}/${i}/releases/completion/`);(async(e,t)=>{const s=`/organizations/${t}/sentry-app-installations/`,n=await e.requestPromise(s);Re.load(n)})(e,n),r?async function(e,t,s){const n=`/organizations/${t}/sentry-app-components/?projectId=${s}`,i=await e.requestPromise(n);k.Z.loadComponents(i)}(e,n,r):y.$e((e=>{e.setExtra("props",this.props),e.setExtra("state",this.state),y.uT("Project ID was not set")}));const a=await o;this.setState({releasesCompletion:a})}))}componentDidMount(){this.fetchData()}componentDidUpdate(e){const{environments:t,params:s,location:n,organization:i,project:r}=this.props;!b()(e.environments,t)&&e.event&&s.eventId&&!["latest","oldest"].includes(s.eventId)&&t.length>0&&!t.find((t=>t.name===(0,ii.dG)(e.event)))?f.browserHistory.replace({pathname:`/organizations/${s.orgId}/issues/${s.groupId}/`,query:n.query}):e.organization.slug===i.slug&&e.project.slug===r.slug||this.fetchData()}componentWillUnmount(){const{api:e}=this.props;e.clear()}get showExampleCommit(){const{project:e}=this.props,{releasesCompletion:t}=this.state;return(null==e?void 0:e.isMember)&&(null==e?void 0:e.firstEvent)&&(null==t?void 0:t.some((e=>{let{step:t,complete:s}=e;return"commit"===t&&!s})))}renderContent(e){const{group:t,project:s,organization:n,environments:i,location:r,loadingEvent:o,onRetry:a,eventError:l,router:d,route:p}=this.props;return o?(0,_.tZ)(c.Z,{}):l?(0,_.tZ)(j,{environments:i,onRetry:a}):(0,_.tZ)(I.Z,{group:t,event:e,organization:n,project:s,location:r,showExampleCommit:this.showExampleCommit,router:d,route:p})}renderReprocessedBox(e,t){if(e!==ii.m7.REPROCESSED_AND_HASNT_EVENT&&e!==ii.m7.REPROCESSED_AND_HAS_EVENT)return null;const{group:s,organization:n}=this.props,{count:i,id:r}=s,o=Number(i);return(0,_.tZ)(Es.Z,{reprocessActivity:t,groupCount:o,groupId:r,orgSlug:n.slug})}render(){var e;const{className:t,group:s,project:n,organization:r,environments:o,location:a,event:l,groupReprocessingStatus:c}=this.props,d=(0,E.xN)(l),p=null===(e=r.features)||void 0===e?void 0:e.includes("reprocessing-v2"),{activity:u}=s,h=(0,ii.Ad)(u);return(0,_.BX)("div",{className:t,children:[l&&(0,_.tZ)(w.Z,{customComponent:null,children:(0,_.tZ)(nn,{event:l,organization:r})}),(0,_.tZ)("div",{className:"event-details-container",children:p&&c===ii.m7.REPROCESSING?(0,_.tZ)(Yn,{totalEvents:h.data.eventCount,pendingEvents:s.statusDetails.pendingEvents}):(0,_.BX)(i.Fragment,{children:[(0,_.BX)("div",{className:"primary",children:[d&&(0,_.tZ)(Qn,{group:s,event:d,organization:r,location:a,project:n}),"ignored"===s.status&&(0,_.tZ)(Is,{statusDetails:s.statusDetails}),"resolved"===s.status&&(0,_.tZ)(Bs,{statusDetails:s.statusDetails,activities:u,projectId:n.id}),this.renderReprocessedBox(c,h),this.renderContent(d)]}),(0,_.tZ)("div",{className:"secondary",children:(0,_.tZ)(Ss,{organization:r,project:n,group:s,event:d,environments:o})})]})})]})}}ri.displayName="GroupEventDetails";const oi=(0,v.Z)(ri,{target:"e150o94r0"})({name:"1k8t52o",styles:"display:flex;flex:1;flex-direction:column"});class ai extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",h.get()),(0,n.Z)(this,"environmentUnsubscribe",void 0)}componentDidMount(){this.environmentUnsubscribe=h.listen((e=>this.setState(e)),void 0);const{environments:e,error:t}=h.get();e||t||async function(e,t){a.fetchEnvironments();try{const s=await e.requestPromise(`/organizations/${t}/environments/`);if(!s)return void a.fetchEnvironmentsError(new Error("retrieved environments is falsey"));a.fetchEnvironmentsSuccess(s)}catch(e){a.fetchEnvironmentsError(e)}}(this.props.api,this.props.organization.slug)}componentWillUnmount(){this.environmentUnsubscribe&&this.environmentUnsubscribe()}render(){if(this.state.error)return(0,_.tZ)(l.Z,{message:(0,d.t)("There was an error loading your organization's environments")});if(!this.state.environments)return(0,_.tZ)(c.Z,{});const{selection:e,...t}=this.props,s=this.state.environments.filter((t=>e.environments.includes(t.name)));return(0,_.tZ)(oi,{...t,environments:s})}}ai.displayName="GroupEventDetailsContainer";const li=(0,m.Z)((0,g.Z)((0,Z.Z)(ai)))},"./app/views/organizationGroupDetails/utils.tsx":(e,t,s)=>{"use strict";s.d(t,{MN:()=>c,V7:()=>d,g5:()=>p,dG:()=>u,sC:()=>m,Ad:()=>g,m7:()=>Z,M3:()=>v}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("../node_modules/lodash/orderBy.js"),i=s.n(n),r=s("./app/actionCreators/group.tsx"),o=s("./app/api.tsx"),a=s("./app/locale.tsx"),l=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");async function c(e,t,s,n,i,r){const o="latest"===n||"oldest"===n?`/issues/${s}/events/${n}/`:`/projects/${t}/${r}/events/${n}/`,a={};return 0!==i.length&&(a.environment=i),await e.requestPromise(o,{query:a})}function d(e,t,s,n){(0,r.Gv)(e,{orgId:t,projectId:s,itemIds:[n],failSilently:!0,data:{hasSeen:!0}},{})}function p(e,t){return(new o.KU).requestPromise(`/issues/${e}/user-reports/`,{includeAllArgs:!0,query:t})}function u(e){const t=e.tags.find((e=>{let{key:t}=e;return"environment"===t}));return t?t.value:null}const h={commented:(0,a.t)("You're receiving workflow notifications because you have commented on this issue."),assigned:(0,a.t)("You're receiving workflow notifications because you were assigned to this issue."),bookmarked:(0,a.t)("You're receiving workflow notifications because you have bookmarked this issue."),changed_status:(0,a.t)("You're receiving workflow notifications because you have changed the status of this issue."),mentioned:(0,a.t)("You're receiving workflow notifications because you have been mentioned in this issue.")};function m(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.subscriptionDetails&&e.subscriptionDetails.disabled)return(0,a._N)("You have [link:disabled workflow notifications] for this project.",{link:t?(0,l.tZ)("span",{}):(0,l.tZ)("a",{href:"/account/settings/notifications/"})});if(!e.isSubscribed)return(0,a.t)("Subscribe to workflow notifications for this issue");if(e.subscriptionDetails){const{reason:t}=e.subscriptionDetails;if("unknown"===t)return(0,a.t)("You're receiving workflow notifications because you are subscribed to this issue.");if(t&&h.hasOwnProperty(t))return h[t]}return(0,a._N)("You're receiving updates because you are [link:subscribed to workflow notifications] for this project.",{link:t?(0,l.tZ)("span",{}):(0,l.tZ)("a",{href:"/account/settings/notifications/"})})}function g(e){return i()([...e],(e=>{let{dateCreated:t}=e;return new Date(t)}),["desc"])[0]}let Z;function v(e,t){const{status:s,count:n,activity:i}=e,r=Number(n);switch(s){case"reprocessing":return Z.REPROCESSING;case"unresolved":{const e=null!=t?t:g(i);return"reprocess"===(null==e?void 0:e.type)?0===r?Z.REPROCESSED_AND_HASNT_EVENT:Z.REPROCESSED_AND_HAS_EVENT:Z.NO_STATUS}default:return Z.NO_STATUS}}!function(e){e.REPROCESSED_AND_HASNT_EVENT="reprocessed_and_hasnt_event",e.REPROCESSED_AND_HAS_EVENT="reprocessed_and_has_event",e.REPROCESSING="reprocessing",e.NO_STATUS="no_status"}(Z||(Z={}))},"./app/views/organizationIntegrations/integrationItem.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("../node_modules/react/index.js"),o=s("./app/styles/space.tsx"),a=s("./app/views/organizationIntegrations/integrationIcon.tsx"),l=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class c extends r.Component{render(){const{integration:e,compact:t}=this.props;return(0,l.BX)(d,{children:[(0,l.tZ)("div",{children:(0,l.tZ)(a.Z,{size:t?22:32,integration:e})}),(0,l.BX)(p,{compact:t,children:[(0,l.tZ)(u,{"data-test-id":"integration-name",children:e.name}),(0,l.tZ)(h,{compact:t,children:e.domainName})]})]})}}c.displayName="IntegrationItem",(0,n.Z)(c,"defaultProps",{compact:!1});const d=(0,i.Z)("div",{target:"e1k6l1f03"})({name:"zjik7",styles:"display:flex"}),p=(0,i.Z)("div",{target:"e1k6l1f02"})("box-sizing:border-box;display:flex;",(e=>e.compact?"align-items: center;":""),";flex-direction:",(e=>e.compact?"row":"column"),";padding-left:",(0,o.Z)(1),";min-width:0;justify-content:center;"),u=(0,i.Z)("div",{target:"e1k6l1f01"})({name:"rkiwex",styles:"font-size:1rem"}),h=(0,i.Z)("div",{target:"e1k6l1f00"})("color:",(e=>e.compact?e.theme.gray200:e.theme.gray400),";margin-left:",(e=>e.compact?(0,o.Z)(1):"inherit"),";margin-top:",(e=>e.compact?"inherit":(0,o.Z)(.25)),";font-size:0.875rem;line-height:1.2;overflow:hidden;text-overflow:ellipsis;")},"./app/views/organizationIntegrations/sentryAppExternalForm.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>v});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),r=s("../node_modules/react-select/dist/base/dist/react-select-cac0a5ae.browser.esm.js"),o=s("../node_modules/lodash/debounce.js"),a=s.n(o),l=s("./app/actionCreators/indicator.tsx"),c=s("./app/components/forms/fieldFromConfig.tsx"),d=s("./app/components/forms/form.tsx"),p=s("./app/components/forms/model.tsx"),u=s("./app/locale.tsx"),h=s("./app/utils/replaceAtArrayIndex.tsx"),m=s("./app/utils/withApi.tsx"),g=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class Z extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{optionsByField:new Map}),(0,n.Z)(this,"model",new p.Z),(0,n.Z)(this,"onSubmitError",(()=>{const{action:e,appName:t}=this.props;(0,l.Iw)((0,u.t)("Unable to %s %s %s.",e,t,this.getElementText()))})),(0,n.Z)(this,"getOptions",((e,t)=>new Promise((s=>{this.debouncedOptionLoad(e,t,s)})))),(0,n.Z)(this,"getElementText",(()=>{const{element:e}=this.props;switch(e){case"issue-link":return"issue";case"alert-rule-action":return"alert";default:return"connection"}})),(0,n.Z)(this,"getDefaultFieldValue",(e=>{const{resetValues:t,getFieldDefault:s}=this.props;let n;e.default&&s&&(n=s(e));const i=((t||{}).settings||[]).find((t=>t.name===e.name));return i&&(n=i.value),n})),(0,n.Z)(this,"debouncedOptionLoad",a()((async(e,t,s)=>{const n=(await this.makeExternalRequest(e,t)).map((e=>{let[t,s]=e;return{value:t,label:s}})),i=new Map(this.state.optionsByField);return i.set(e.name,n),this.setState({optionsByField:i}),s(n)}),200,{trailing:!0})),(0,n.Z)(this,"makeExternalRequest",(async(e,t)=>{const{extraRequestBody:s={},sentryAppInstallationUuid:n}=this.props,i={...s,uri:e.uri,query:t};if(e.depends_on){const t=e.depends_on.reduce(((e,t)=>(e[t]=this.model.getValue(t),e)),{});i.dependentData=JSON.stringify(t)}const{choices:r}=await this.props.api.requestPromise(`/sentry-app-installations/${n}/external-requests/`,{query:i});return r||[]})),(0,n.Z)(this,"handleFieldChange",(async e=>{const t=this.state;let s=t.required_fields||[],n=t.optional_fields||[];const i=s.concat(n).filter((t=>{let{depends_on:s}=t;return!!s&&s.includes(e)})),r=await Promise.all(i.map((e=>(this.model.setValue(e.name||"","",{quiet:!0}),this.makeExternalRequest(e,"")))));this.setState((e=>(s=e.required_fields||[],n=e.optional_fields||[],i.forEach(((e,t)=>{const i=r[t],o=s.indexOf(e),a=n.indexOf(e),l={...e,choices:i};o>-1?s=(0,h.m)(s,o,l):a>-1&&(n=(0,h.m)(n,a,l))})),{required_fields:s,optional_fields:n})))})),(0,n.Z)(this,"renderField",((e,t)=>{let s={...e,inline:!1,stacked:!0,flexibleControlStateSize:!0,required:t};const n=void 0===e.async||!!e.async;if("select"===s.type){const i=(e.choices||[]).map((e=>{let[t,s]=e;return{value:t,label:s}})),o=this.state.optionsByField.get(e.name)||i,a=!t,l=this.getDefaultFieldValue(e),c=(0,r.c)({});s={...s,options:o,defaultValue:l,defaultOptions:i,filterOption:c,allowClear:a},n&&(s.noOptionsMessage=()=>"Type to search"),e.depends_on&&e.depends_on.some((e=>{return!((t=this.model.getValue(e))||0===t);var t}))&&(s={...s,disabled:!0})}["text","textarea"].includes(s.type||"")&&(s={...s,defaultValue:this.getDefaultFieldValue(e)});const i=e.uri?{loadOptions:t=>this.getOptions(e,t),async:n,cache:!1,onSelectResetsInput:!1,onCloseResetsInput:!1,onBlurResetsInput:!1,autoload:!1}:{};return(0,g.tZ)(c.Z,{field:s,"data-test-id":e.name,...i},e.name)})),(0,n.Z)(this,"handleAlertRuleSubmit",((e,t)=>{const{sentryAppInstallationUuid:s}=this.props;this.model.validateForm()&&t({settings:Object.entries(e).map((e=>{let[t,s]=e;return{name:t,value:s}})),sentryAppInstallationUuid:s,hasSchemaFormConfig:!0})}))}componentDidMount(){this.resetStateFromProps()}componentDidUpdate(e){e.action!==this.props.action&&(this.model.reset(),this.resetStateFromProps())}resetStateFromProps(){const{config:e,action:t,extraFields:s,element:n}=this.props;if(this.setState({required_fields:e.required_fields,optional_fields:e.optional_fields}),"alert-rule-action"===n){const e=((this.props.resetValues||{}).settings||[]).reduce(((e,t)=>(e[t.name]=t.value,e)),{});this.model.setInitialData({...e})}else this.model.setInitialData({...s,action:t,uri:e.uri})}render(){const{sentryAppInstallationUuid:e,action:t,element:s,onSubmitSuccess:n}=this.props,i=this.state.required_fields||[],r=this.state.optional_fields||[];return e?(0,g.BX)(d.Z,{apiEndpoint:`/sentry-app-installations/${e}/external-issue-actions/`,apiMethod:"POST",onSubmit:"alert-rule-action"===s?this.handleAlertRuleSubmit:void 0,onSubmitSuccess:function(){n(...arguments)},onSubmitError:this.onSubmitError,onFieldChange:this.handleFieldChange,model:this.model,children:[i.map((e=>this.renderField(e,!0))),r.map((e=>this.renderField(e,!1)))]},t):""}}Z.displayName="SentryAppExternalForm";const v=(0,m.Z)(Z)},"../node_modules/lodash/keyBy.js":(e,t,s)=>{var n=s("../node_modules/lodash/_baseAssignValue.js"),i=s("../node_modules/lodash/_createAggregator.js")((function(e,t,s){n(e,s,t)}));e.exports=i},"../node_modules/lodash/orderBy.js":(e,t,s)=>{var n=s("../node_modules/lodash/_baseOrderBy.js"),i=s("../node_modules/lodash/isArray.js");e.exports=function(e,t,s,r){return null==e?[]:(i(t)||(t=null==t?[]:[t]),i(s=r?void 0:s)||(s=null==s?[]:[s]),n(e,t,s))}},"./images/spot/mobile-hero.jpg":(e,t,s)=>{"use strict";e.exports=s.p+"assets/mobile-hero.d8c7128fc8b43f30e90e.jpg"},"./images/spot/performance-quick-trace.svg":(e,t,s)=>{"use strict";e.exports=s.p+"assets/performance-quick-trace.d1676f8ac80279ff3a75.svg"}}]);
//# sourceMappingURL=../sourcemaps/app_views_organizationGroupDetails_groupEventDetails_index_tsx.e7535b07940c8056a3d5961f8bdf39c1.js.map
"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_tagDistributionMeter_tsx"],{"./app/components/tagDistributionMeter.tsx":(e,t,r)=>{r.d(t,{Z:()=>g});var n=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=r("../node_modules/react/index.js"),a=r("../node_modules/@emotion/is-prop-valid/dist/is-prop-valid.browser.esm.js"),i=r("./app/components/links/link.tsx"),l=r("./app/components/tooltip.tsx"),d=r("./app/components/version.tsx"),c=r("./app/locale.tsx"),h=r("./app/styles/overflowEllipsis.tsx"),p=r("./app/styles/space.tsx"),u=r("./app/utils.tsx"),m=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class g extends s.Component{renderTitle(){const{segments:e,totalValues:t,title:r,isLoading:n,hasError:o,showReleasePackage:s}=this.props;if(!Array.isArray(e)||e.length<=0)return(0,m.tZ)(b,{children:(0,m.tZ)(x,{children:r})});const a=e[0],i=(0,u.aQ)(a.count,t),l=Math.floor(i);return(0,m.BX)(b,{children:[(0,m.tZ)(x,{children:r}),(0,m.BX)(w,{children:[(()=>{switch(r){case"release":return(0,m.tZ)(v,{children:(0,m.tZ)(d.Z,{version:a.name,anchor:!1,tooltipRawVersion:!0,withPackage:s,truncate:!0})});default:return(0,m.tZ)(v,{children:a.name||(0,c.t)("n/a")})}})(),n||o?null:(0,m.BX)(y,{children:[l,"%"]})]})]})}renderSegments(){const{segments:e,onTagClick:t,title:r,isLoading:n,hasError:o,totalValues:a,renderLoading:i,renderError:h,renderEmpty:p,showReleasePackage:g}=this.props;return n?i():o?(0,m.tZ)(k,{children:h()}):0===a?(0,m.tZ)(k,{children:p()}):(0,m.tZ)(k,{children:e.map(((e,n)=>{const o=(0,u.aQ)(e.count,a),i=Math.floor(o),h=(0,m.BX)(s.Fragment,{children:[(0,m.tZ)("div",{className:"truncate",children:(()=>{switch(r){case"release":return(0,m.tZ)(d.Z,{version:e.name,anchor:!1,withPackage:g});default:return e.name||(0,c.t)("n/a")}})()}),i,"%"]}),p={index:n,to:e.url,onClick:()=>{null==t||t(r,e)}};return(0,m.tZ)("div",{"data-test-id":`tag-${r}-segment-${e.value}`,style:{width:o+"%"},children:(0,m.tZ)(l.Z,{title:h,containerDisplayMode:"block",children:e.isOther?(0,m.tZ)(E,{}):(0,m.tZ)(z,{"aria-label":(0,c.t)("Add the %s segment tag to the search query",e.value),...p})})},e.value)}))})}render(){const{segments:e,totalValues:t}=this.props,r=e.reduce(((e,t)=>e+t.count),0);return r<t&&e.push({isOther:!0,name:(0,c.t)("Other"),value:"other",count:t-r,url:""}),(0,m.BX)(Z,{children:[this.renderTitle(),this.renderSegments()]})}}g.displayName="TagDistributionMeter",(0,n.Z)(g,"defaultProps",{isLoading:!1,hasError:!1,renderLoading:()=>null,renderEmpty:()=>(0,m.tZ)("p",{children:(0,c.t)("No recent data.")}),renderError:()=>null,showReleasePackage:!1});const f=["#3A3387","#5F40A3","#8C4FBD","#B961D3","#DE76E4","#EF91E8","#F7B2EC","#FCD8F4","#FEEBF9"],Z=(0,o.Z)("div",{target:"efzk5f18"})("margin-bottom:",(0,p.Z)(1),";"),k=(0,o.Z)("div",{target:"efzk5f17"})({name:"7d3a08",styles:"display:flex;overflow:hidden;border-radius:2px"}),b=(0,o.Z)("div",{target:"efzk5f16"})("display:flex;font-size:",(e=>e.theme.fontSizeSmall),";justify-content:space-between;"),x=(0,o.Z)("div",{target:"efzk5f15"})("color:",(e=>e.theme.textColor),";font-weight:bold;",h.Z,";"),w=(0,o.Z)("div",{target:"efzk5f14"})("display:flex;color:",(e=>e.theme.gray300),";text-align:right;"),v=(0,o.Z)("div",{target:"efzk5f13"})(h.Z,";max-width:150px;"),y=(0,o.Z)("div",{target:"efzk5f12"})("font-weight:bold;font-variant-numeric:tabular-nums;padding-left:",(0,p.Z)(.5),";color:",(e=>e.theme.textColor),";"),E=(0,o.Z)("span",{target:"efzk5f11"})("display:block;width:100%;height:16px;color:inherit;outline:none;background-color:",f[f.length-1],";"),z=(0,o.Z)(i.Z,{shouldForwardProp:a.Z,target:"efzk5f10"})("display:block;width:100%;height:16px;color:inherit;outline:none;background-color:",(e=>f[e.index]),";")}}]);
//# sourceMappingURL=../sourcemaps/app_components_tagDistributionMeter_tsx.16231bf8c1db5f05f55046bd7db40e7b.js.map
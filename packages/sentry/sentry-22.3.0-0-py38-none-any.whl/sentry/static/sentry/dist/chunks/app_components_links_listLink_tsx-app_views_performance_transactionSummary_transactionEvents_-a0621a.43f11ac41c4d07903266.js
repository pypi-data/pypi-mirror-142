"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_links_listLink_tsx-app_views_performance_transactionSummary_transactionEvents_-a0621a"],{"./app/components/events/searchBar.tsx":(e,t,n)=>{n.d(t,{Z:()=>E});var r=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.string.replace.js"),n("../node_modules/react/index.js")),s=n("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),i=n("../node_modules/lodash/assign.js"),a=n.n(i),l=n("../node_modules/lodash/flatten.js"),d=n.n(l),c=n("../node_modules/lodash/isEqual.js"),p=n.n(c),u=n("../node_modules/lodash/memoize.js"),m=n.n(u),h=n("../node_modules/lodash/omit.js"),v=n.n(h),f=n("./app/actionCreators/tags.tsx"),g=n("./app/components/smartSearchBar/index.tsx"),y=n("./app/constants/index.tsx"),x=n("./app/types/index.tsx"),w=n("./app/utils.tsx"),b=n("./app/utils/discover/fields.tsx"),Z=n("./app/utils/measurements/measurements.tsx"),j=n("./app/utils/withApi.tsx"),k=n("./app/utils/withTags.tsx"),_=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const C=new RegExp(`^${y.c$}|\\${y.ir}`,"g");class S extends o.PureComponent{constructor(){super(...arguments),(0,r.Z)(this,"getEventFieldValues",m()(((e,t,n)=>{const{api:r,organization:o,projectIds:s,includeSessionTagsValues:i}=this.props,a=null==s?void 0:s.map(String);return(0,b.h1)(e.key)||(0,b.Xr)(e.key)?Promise.resolve([]):(0,f.Fo)(r,o.slug,e.key,t,a,n,!0,i).then((e=>d()(e.filter((e=>{let{name:t}=e;return(0,w.ri)(t)})).map((e=>{let{name:t}=e;return t})))),(()=>{throw new Error("Unable to fetch event field values")}))}),((e,t)=>{let{key:n}=e;return`${n}-${t}`}))),(0,r.Z)(this,"prepareQuery",(e=>e.replace(C,"")))}componentDidMount(){var e,t;null===(e=(t=this.getEventFieldValues.cache).clear)||void 0===e||e.call(t)}componentDidUpdate(e){var t,n;p()(this.props.projectIds,e.projectIds)||null===(t=(n=this.getEventFieldValues.cache).clear)||void 0===t||t.call(n)}getTagList(e){const{fields:t,organization:n,tags:r,omitTags:o}=this.props,s=t?Object.fromEntries(t.filter((e=>!Object.keys(b.wZ).includes(e.field)&&!(0,b.GO)(e.field))).map((e=>[e.field,{key:e.field,name:e.field}]))):{},i=n.features.includes("performance-view")?Object.assign({},e,b.wZ,s):v()(b.wZ,b.J8),l=a()({},r,i,b.jg);return l.has={key:"has",name:"Has property",values:Object.keys(l),predefined:!0},v()(l,null!=o?o:[])}render(){return(0,_.tZ)(Z.Z,{children:e=>{let{measurements:t}=e;const n=this.getTagList(t);return(0,_.tZ)(s.ms,{children:e=>{let{css:t}=e;return(0,_.tZ)(g.Z,{hasRecentSearches:!0,savedSearchType:x.L4.EVENT,onGetTagValues:this.getEventFieldValues,supportedTags:n,prepareQuery:this.prepareQuery,excludeEnvironment:!0,dropdownClassName:t`
                    max-height: 300px;
                    overflow-y: auto;
                  `,...this.props})}})}})}}S.displayName="SearchBar";const E=(0,j.Z)((0,k.Z)(S))},"./app/components/links/listLink.tsx":(e,t,n)=>{n.d(t,{Z:()=>h});var r=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react/index.js")),i=n("../node_modules/react-router/es/index.js"),a=n("../node_modules/classnames/index.js"),l=n.n(a),d=n("../node_modules/lodash/omit.js"),c=n.n(d),p=n("../node_modules/query-string/index.js"),u=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class m extends s.Component{constructor(){super(...arguments),(0,r.Z)(this,"getClassName",(()=>{const e={},{className:t,activeClassName:n}=this.props;return t&&(e[t]=!0),this.isActive()&&n&&(e[n]=!0),l()(e)}))}isActive(){const{isActive:e,to:t,query:n,index:r,router:o}=this.props,s=n?p.parse(n):void 0,i="string"==typeof t?{pathname:t,query:s}:t;return"function"==typeof e?e(i,r):o.isActive(i,r)}render(){const{index:e,children:t,to:n,disabled:r,...o}=this.props,s=c()(o,"activeClassName","css","isActive","index","router","location");return(0,u.tZ)(v,{className:this.getClassName(),disabled:r,children:(0,u.tZ)(i.Link,{...s,onlyActiveOnIndex:e,to:r?"":n,children:t})})}}m.displayName="ListLink",(0,r.Z)(m,"displayName","ListLink"),(0,r.Z)(m,"defaultProps",{activeClassName:"active",index:!1,disabled:!1});const h=(0,i.withRouter)(m),v=(0,o.Z)("li",{shouldForwardProp:e=>"disabled"!==e,target:"er8tqc10"})((e=>e.disabled&&`\n   a {\n    color:${e.theme.disabled} !important;\n    pointer-events: none;\n    :hover {\n      color: ${e.theme.disabled}  !important;\n    }\n   }\n`),";")},"./app/utils/discover/discoverQuery.tsx":(e,t,n)=>{n.d(t,{Z:()=>l}),n("../node_modules/react/index.js");var r=n("./app/utils/withApi.tsx"),o=n("./app/utils/discover/genericDiscoverQuery.tsx"),s=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(e,t){return e.transactionName!==t.transactionName||e.transactionThreshold!==t.transactionThreshold||e.transactionThresholdMetric!==t.transactionThresholdMetric}function a(e){return(0,s.tZ)(o.ZP,{route:"eventsv2",shouldRefetchData:i,...e})}a.displayName="DiscoverQuery";const l=(0,r.Z)(a)},"./app/utils/measurements/measurements.tsx":(e,t,n)=>{n.d(t,{Z:()=>c}),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=n("../node_modules/react/index.js"),o=n("./app/utils/performance/vitals/constants.tsx"),s=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(e){return Object.fromEntries(Object.entries(e).map((e=>{let[t,n]=e;return[t,{name:n.name,key:t}]})))}const a=i(o.TT),l=i(o.r9);function d(e){let{children:t}=e;const n={...l,...a};return(0,s.tZ)(r.Fragment,{children:t({measurements:n})})}d.displayName="Measurements";const c=d},"./app/utils/performance/histogram/constants.tsx":(e,t,n)=>{n.d(t,{d:()=>o});var r=n("./app/locale.tsx");const o=[{label:(0,r.t)("Exclude"),value:"exclude_outliers"},{label:(0,r.t)("Include"),value:"all"}]},"./app/utils/performance/histogram/index.tsx":(e,t,n)=>{n.d(t,{V:()=>d,Z:()=>c});var r=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react/index.js")),s=n("../node_modules/react-router/es/index.js"),i=n("./app/utils/queryString.tsx"),a=n("./app/utils/performance/histogram/constants.tsx");class l extends o.Component{constructor(){super(...arguments),(0,r.Z)(this,"handleResetView",(()=>{const{location:e,zoomKeys:t}=this.props;s.browserHistory.push({pathname:e.pathname,query:d(e,t)})})),(0,r.Z)(this,"handleFilterChange",(e=>{const{location:t,zoomKeys:n}=this.props;s.browserHistory.push({pathname:t.pathname,query:{...d(t,n),dataFilter:e}})}))}isZoomed(){const{location:e,zoomKeys:t}=this.props;return t.map((t=>e.query[t])).some((e=>void 0!==e))}getActiveFilter(){const{location:e}=this.props,t=e.query.dataFilter?(0,i.ro)(e.query.dataFilter):a.d[0].value;return a.d.find((e=>e.value===t))||a.d[0]}render(){const e={isZoomed:this.isZoomed(),handleResetView:this.handleResetView,activeFilter:this.getActiveFilter(),handleFilterChange:this.handleFilterChange,filterOptions:a.d};return this.props.children(e)}}function d(e,t){const n={...e.query,cursor:void 0};return delete n.dataFilter,t.forEach((e=>delete n[e])),n}l.displayName="Histogram";const c=l},"./app/utils/withTags.tsx":(e,t,n)=>{n.d(t,{Z:()=>l});var r=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react/index.js")),s=n("./app/stores/tagStore.tsx"),i=n("./app/utils/getDisplayName.tsx"),a=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=function(e){class t extends o.Component{constructor(){super(...arguments),(0,r.Z)(this,"state",{tags:s.Z.getAllTags()}),(0,r.Z)(this,"unsubscribe",s.Z.listen((e=>this.setState({tags:e})),void 0))}componentWillUnmount(){this.unsubscribe()}render(){const{tags:t,...n}=this.props;return(0,a.tZ)(e,{tags:null!=t?t:this.state.tags,...n})}}return t.displayName="WithTags",(0,r.Z)(t,"displayName",`withTags(${(0,i.Z)(e)})`),t}},"./app/views/performance/transactionSummary/transactionEvents/index.tsx":(e,t,n)=>{n.r(t),n.d(t,{default:()=>be}),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=n("../node_modules/react-router/es/index.js"),o=n("./app/components/layouts/thirds.tsx"),s=n("./app/components/loadingIndicator.tsx"),i=n("./app/locale.tsx"),a=n("./app/utils/analytics.tsx"),l=n("./app/utils/discover/discoverQuery.tsx"),d=n("./app/utils/discover/eventView.tsx"),c=n("./app/utils/discover/fields.tsx"),p=n("./app/utils/performance/histogram/index.tsx"),u=n("./app/utils/queryString.tsx"),m=n("./app/utils/tokenizeSearch.tsx"),h=n("./app/utils/withOrganization.tsx"),v=n("./app/utils/withProjects.tsx"),f=n("./app/views/performance/transactionSummary/filter.tsx"),g=n("./app/views/performance/transactionSummary/pageLayout.tsx"),y=n("./app/views/performance/transactionSummary/tabs.tsx"),x=n("./app/views/performance/transactionSummary/transactionOverview/latencyChart/utils.tsx"),w=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),b=n("../node_modules/lodash/omit.js"),Z=n.n(b),j=n("./app/components/button.tsx"),k=n("./app/components/dropdownControl.tsx"),_=n("./app/components/events/searchBar.tsx"),C=n("./app/components/organizations/pageFilters/parse.tsx"),S=n("./app/styles/space.tsx"),E=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),A=n("../node_modules/react/index.js"),q=n("./app/components/gridEditable/index.tsx"),O=n("./app/components/gridEditable/sortLink.tsx"),z=n("./app/components/links/link.tsx"),M=n("./app/components/pagination.tsx"),V=n("./app/components/questionTooltip.tsx"),N=n("./app/components/tooltip.tsx"),P=n("./app/utils.tsx"),T=n("./app/utils/discover/fieldRenderers.tsx"),F=n("./app/views/eventsV2/table/cellAction.tsx"),D=n("./app/views/performance/data.tsx"),B=n("./app/views/performance/transactionSummary/utils.tsx"),L=n("../node_modules/react-dom/profiling.js"),I=n("../node_modules/react-popper/lib/esm/Popper.js"),H=n("../node_modules/react-popper/lib/esm/Manager.js"),R=n("../node_modules/react-popper/lib/esm/Reference.js"),X=n("./app/components/menuItem.tsx"),$=n("./app/components/radio.tsx"),W=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class K extends A.Component{constructor(e){super(e),(0,E.Z)(this,"state",{isOpen:!1}),(0,E.Z)(this,"portalEl",void 0),(0,E.Z)(this,"menuEl",void 0),(0,E.Z)(this,"handleClickOutside",(e=>{this.menuEl&&e.target instanceof Element&&(this.menuEl.contains(e.target)||this.setState({isOpen:!1}))})),(0,E.Z)(this,"toggleOpen",(()=>{this.setState((e=>{let{isOpen:t}=e;return{isOpen:!t}}))}));let t=document.getElementById("transaction-events-portal");t||(t=document.createElement("div"),t.setAttribute("id","transaction-events-portal"),document.body.appendChild(t)),this.portalEl=t,this.menuEl=null}componentDidUpdate(e,t){this.state.isOpen&&!1===t.isOpen&&document.addEventListener("click",this.handleClickOutside,!0),!1===this.state.isOpen&&t.isOpen&&document.removeEventListener("click",this.handleClickOutside,!0)}componentWillUnmount(){document.removeEventListener("click",this.handleClickOutside,!0),this.portalEl.remove()}generateSortLink(e){const{eventView:t,tableMeta:n,location:r}=this.props;if(!n)return;const o=t.sortOnField(e,n,"desc").generateQueryStringObject();return{...r,query:{...r.query,sort:o.sort}}}renderMenuItem(e,t){const{eventView:n}=this.props;return(0,W.tZ)(U,{children:(0,W.tZ)(Y,{children:(0,W.BX)(G,{children:[(0,W.tZ)(J,{readOnly:!0,radioSize:"small",checked:n.sorts.some((t=>{let{field:n}=t;return n===e})),onClick:()=>{const t=this.generateSortLink({field:e});t&&r.browserHistory.push(t)}}),(0,W.tZ)("span",{children:t})]})})})}renderMenuContent(){return(0,W.BX)(ee,{children:[this.renderMenuItem("spans.http",(0,i.t)("Sort By HTTP")),this.renderMenuItem("spans.db",(0,i.t)("Sort By DB")),this.renderMenuItem("spans.resource",(0,i.t)("Sort By Resource")),this.renderMenuItem("spans.browser",(0,i.t)("Sort By Browser"))]})}renderMenu(){return L.createPortal((0,W.tZ)(I.ZP,{placement:"top",modifiers:{hide:{enabled:!1},preventOverflow:{padding:10,enabled:!0,boundariesElement:"viewport"}},children:e=>{let{ref:t,style:n,placement:r}=e;return(0,W.tZ)(Q,{ref:e=>{t(e),this.menuEl=e},style:n,"data-placement":r,children:this.renderMenuContent()})}}),this.portalEl)}render(){const{title:e}=this.props,{isOpen:t}=this.state,n=t?this.renderMenu():null;return(0,W.BX)(H.ZP,{children:[(0,W.tZ)(R.Z,{children:t=>{let{ref:n}=t;return(0,W.tZ)(te,{ref:n,children:(0,W.tZ)(e,{onClick:this.toggleOpen})})}}),n]})}}K.displayName="OperationSort";const Q=(0,w.Z)("div",{target:"e1pnio0z6"})("border:none;border-radius:2px;box-shadow:0 0 0 1px rgba(52, 60, 69, 0.2),0 1px 3px rgba(70, 82, 98, 0.25);background-clip:padding-box;background-color:",(e=>e.theme.background),";width:220px;overflow:visible;z-index:",(e=>e.theme.zIndex.tooltip),";&:before,&:after{width:0;height:0;content:'';display:block;position:absolute;right:auto;}&:before{border-left:9px solid transparent;border-right:9px solid transparent;left:calc(50% - 9px);z-index:-2;}&:after{border-left:8px solid transparent;border-right:8px solid transparent;left:calc(50% - 8px);z-index:-1;}&[data-placement*='bottom']{margin-top:9px;&:before{border-bottom:9px solid ",(e=>e.theme.border),";top:-9px;}&:after{border-bottom:8px solid ",(e=>e.theme.background),";top:-8px;}}&[data-placement*='top']{margin-bottom:9px;&:before{border-top:9px solid ",(e=>e.theme.border),";bottom:-9px;}&:after{border-top:8px solid ",(e=>e.theme.background),";bottom:-8px;}}"),U=(0,w.Z)(X.Z,{target:"e1pnio0z5"})("font-size:",(e=>e.theme.fontSizeMedium),";&:not(:last-child){border-bottom:1px solid ",(e=>e.theme.innerBorder),";}"),Y=(0,w.Z)("div",{target:"e1pnio0z4"})({name:"1bxfgt5",styles:"display:flex;flex-direction:row;justify-content:flex-start;align-items:center;width:100%"}),G=(0,w.Z)("label",{target:"e1pnio0z3"})({name:"12ir9nx",styles:"display:grid;cursor:pointer;gap:0.25em 0.5em;grid-template-columns:max-content auto;align-items:center;outline:none;font-weight:normal;margin:0"}),J=(0,w.Z)($.Z,{target:"e1pnio0z2"})({name:"ti75j2",styles:"margin:0"}),ee=(0,w.Z)("div",{target:"e1pnio0z1"})({name:"1okymkx",styles:"max-height:250px;overflow-y:auto"}),te=(0,w.Z)("div",{target:"e1pnio0z0"})({name:"e0dnmk",styles:"cursor:pointer"}),ne=K;class re extends A.Component{render(){const{onClick:e}=this.props;return(0,W.BX)("div",{onClick:e,children:[(0,W.tZ)("span",{children:(0,i.t)("operation duration")}),(0,W.tZ)(se,{size:"xs",position:"top",title:(0,i.t)("Span durations are summed over the course of an entire transaction. Any overlapping spans are only counted once.")})]})}}re.displayName="OperationTitle";class oe extends A.Component{constructor(){super(...arguments),(0,E.Z)(this,"state",{widths:[]}),(0,E.Z)(this,"handleCellAction",(e=>(t,n)=>{const{eventView:o,location:s,organization:i}=this.props;(0,a.ec)({eventKey:"performance_views.transactionEvents.cellaction",eventName:"Performance Views: Transaction Events Tab Cell Action Clicked",organization_id:parseInt(i.id,10),action:t});const l=(0,B.xf)(o.query);(0,F.rh)(l,t,e,n),r.browserHistory.push({pathname:s.pathname,query:{...s.query,cursor:void 0,query:l.formatString()}})})),(0,E.Z)(this,"renderBodyCellWithData",(e=>(t,n)=>this.renderBodyCell(e,t,n))),(0,E.Z)(this,"renderHeadCellWithMeta",(e=>{var t;const n=null!==(t=this.props.columnTitles)&&void 0!==t?t:D.hj;return(t,r)=>this.renderHeadCell(e,t,n[r])})),(0,E.Z)(this,"handleResizeColumn",((e,t)=>{const n=[...this.state.widths];n[e]=t.width?Number(t.width):q.z7,this.setState({widths:n})}))}renderBodyCell(e,t,n){const{eventView:r,organization:o,location:s,transactionName:i}=this.props;if(!e||!e.meta)return n[t.key];const a=e.meta,l=String(t.key),d=(0,T.Js)(l,a)(n,{organization:o,location:s,eventView:r}),p=[F.eX.ADD,F.eX.EXCLUDE,F.eX.SHOW_GREATER_THAN,F.eX.SHOW_LESS_THAN];if("id"===l||"trace"===l){const e=("id"===l?B.vd:B.Z6)(i)(o,n,s.query);return(0,W.tZ)(F.ZP,{column:t,dataRow:n,handleCellAction:this.handleCellAction(t),allowActions:p,children:(0,W.tZ)(z.Z,{to:e,children:d})})}const u=(0,c.LY)(l),m=n[u];return"integer"===a[u]&&(0,P.ri)(m)&&m>999?(0,W.tZ)(N.Z,{title:m.toLocaleString(),containerDisplayMode:"block",position:"right",children:(0,W.tZ)(F.ZP,{column:t,dataRow:n,handleCellAction:this.handleCellAction(t),allowActions:p,children:d})}):(0,W.tZ)(F.ZP,{column:t,dataRow:n,handleCellAction:this.handleCellAction(t),allowActions:p,children:d})}onSortClick(e,t){const{organization:n}=this.props;(0,a.ec)({eventKey:"performance_views.transactionEvents.sort",eventName:"Performance Views: Transaction Events Tab Sorted",organization_id:parseInt(n.id,10),field:t,direction:e})}renderHeadCell(e,t,n){const{eventView:r,location:o}=this.props,s=(0,c.qG)(t.name,t.type,e),i={field:t.name,width:t.width},a=r.sortForField(i,e),l="id"!==i.field&&"trace"!==i.field&&i.field!==c.zD&&(0,d.M3)(i,e),p=a?a.kind:void 0,u=a?a.field:void 0;return i.field===c.zD&&(n=(0,W.tZ)(ne,{title:re,eventView:r,tableMeta:e,location:o})),(0,W.tZ)(O.Z,{align:s,title:n||i.field,direction:p,canSort:l,generateSortLink:function(){if(!e)return;const t=r.sortOnField(i,e).generateQueryStringObject();return{...o,query:{...o.query,sort:t.sort}}},onClick:()=>this.onSortClick(p,u)})}render(){const{eventView:e,organization:t,location:n,setError:r}=this.props,{widths:o}=this.state,s=e.getColumns().find((e=>e.name===c.zD)),i=e.getColumns().filter((e=>!s||!(0,c.yK)(e.name))).map(((e,t)=>"number"==typeof o[t]?{...e,width:o[t]}:e));return(0,W.tZ)("div",{children:(0,W.tZ)(l.Z,{eventView:e,orgSlug:t.slug,location:n,setError:r,referrer:"api.performance.transaction-events",children:t=>{let{pageLinks:r,isLoading:o,tableData:s}=t;return(0,W.BX)(A.Fragment,{children:[(0,W.tZ)(q.ZP,{isLoading:o,data:s?s.data:[],columnOrder:i,columnSortBy:e.getSorts(),grid:{onResizeColumn:this.handleResizeColumn,renderHeadCell:this.renderHeadCellWithMeta(null==s?void 0:s.meta),renderBodyCell:this.renderBodyCellWithData(s)},location:n}),(0,W.tZ)(M.Z,{pageLinks:r})]})}})})}}oe.displayName="EventsTable";const se=(0,w.Z)(V.Z,{target:"e8p3pb0"})({name:"1dgfen9",styles:"position:relative;top:1px;left:4px"}),ie=oe;var ae=n("./app/views/performance/transactionSummary/transactionEvents/utils.tsx");const le=[(0,i.t)("event id"),(0,i.t)("user"),(0,i.t)("operation duration"),(0,i.t)("total duration"),(0,i.t)("trace id"),(0,i.t)("timestamp")];function de(e){const{location:t,organization:n,eventView:r,transactionName:s,spanOperationBreakdownFilter:a,webVital:l,setError:d}=e,c=r.clone();l&&le.splice(3,0,(0,i.t)(l));const p=(0,f.Is)(a,t);return p&&(c.query=`${c.query} ${p}`.trim(),le.splice(2,1,(0,i.t)(`${a} duration`))),(0,W.BX)(o.or,{fullWidth:!0,children:[(0,W.tZ)(ce,{...e}),(0,W.tZ)(me,{children:(0,W.tZ)(ie,{eventView:c,organization:n,location:t,setError:d,columnTitles:le,transactionName:s})})]})}function ce(e){const{eventView:t,location:n,organization:o,spanOperationBreakdownFilter:s,onChangeSpanOperationBreakdownFilter:a,eventsDisplayFilterName:l,onChangeEventsDisplayFilter:d,percentileValues:c}=e,p=(0,u.ro)(n.query.query,""),m=(0,ae._S)(s,c);return(0,W.BX)(pe,{children:[(0,W.tZ)(f.ZP,{organization:o,currentFilter:s,onChangeFilter:a}),(0,W.tZ)(ue,{organization:o,projectIds:t.project,query:p,fields:t.fields,onSearch:e=>{const t=(0,C.fK)({...n.query||{},query:e}),o=Z()(t,"cursor");r.browserHistory.push({pathname:n.pathname,query:o})}}),(0,W.tZ)(he,{children:(0,W.tZ)(k.ZP,{buttonProps:{prefix:(0,i.t)("Percentile")},label:m[l].label,children:Object.entries(m).map((e=>{let[t,n]=e;return(0,W.tZ)(k.hP,{onSelect:d,eventKey:t,"data-test-id":t,isActive:l===t,children:n.label},t)}))})}),(0,W.tZ)(he,{children:(0,W.tZ)(j.ZP,{to:t.getResultsViewUrlTarget(o.slug),children:(0,i.t)("Open in Discover")})})]})}de.displayName="EventsContent",ce.displayName="Search";const pe=(0,w.Z)("div",{target:"e1rf7xcw3"})("display:flex;width:100%;margin-bottom:",(0,S.Z)(3),";"),ue=(0,w.Z)(_.Z,{target:"e1rf7xcw2"})({name:"1ff36h2",styles:"flex-grow:1"}),me=(0,w.Z)("div",{target:"e1rf7xcw1"})({name:"1ff36h2",styles:"flex-grow:1"}),he=(0,w.Z)("div",{target:"e1rf7xcw0"})("margin-left:",(0,S.Z)(1),";flex-grow:0;"),ve=de;function fe(e){const{location:t,organization:n,projects:r}=e;return(0,W.tZ)(g.ZP,{location:t,organization:n,projects:r,tab:y.Z.Events,getDocumentTitle:ye,generateEventView:we,childComponent:ge})}function ge(e){const{location:t,organization:n,eventView:i,transactionName:d,setError:c}=e,u=(0,ae.tb)(t),h=(0,f.q0)(t),v=xe(t),g=function(e){return e.withColumns([{kind:"function",function:["p100","",void 0,void 0]},{kind:"function",function:["p99","",void 0,void 0]},{kind:"function",function:["p95","",void 0,void 0]},{kind:"function",function:["p75","",void 0,void 0]},{kind:"function",function:["p50","",void 0,void 0]}])}(i),y=e=>{var o;(0,a.ec)({eventName:"Performance Views: Transaction Events Ops Breakdown Filter Dropdown",eventKey:"performance_views.transactionEvents.ops_filter_dropdown.selection",organization_id:parseInt(n.id,10),action:e});const s=(0,ae._S)(h)[u].sort,l=null==i||null===(o=i.sorts)||void 0===o?void 0:o[0];let d={};(null==s?void 0:s.kind)===(null==l?void 0:l.kind)&&(null==s?void 0:s.field)===(null==l?void 0:l.field)&&(d=(0,ae.qg)(u,e));const c={...(0,p.V)(t,[x.Oo,x.mo]),...(0,f.bz)(e),...d};e===f.f1.None&&delete c.breakdown,r.browserHistory.push({pathname:t.pathname,query:c})},w=e=>{(0,a.ec)({eventName:"Performance Views: Transaction Events Display Filter Dropdown",eventKey:"performance_views.transactionEvents.display_filter_dropdown.selection",organization_id:parseInt(n.id,10),action:e});const o={...(0,p.V)(t,[x.Oo,x.mo]),...(0,ae.qg)(e,h)};e===ae.q3.p100&&delete o.showTransaction,r.browserHistory.push({pathname:t.pathname,query:o})};return(0,W.tZ)(l.Z,{eventView:g,orgSlug:n.slug,location:t,referrer:"api.performance.transaction-events",children:e=>{var r;let{isLoading:a,tableData:l}=e;if(a)return(0,W.tZ)(o.or,{fullWidth:!0,children:(0,W.tZ)(s.Z,{})});const p=null==l||null===(r=l.data)||void 0===r?void 0:r[0],f=(e=>{const t=(0,ae._S)(h,e)[u],n=null==i?void 0:i.clone();if(n&&null!=t&&t.query){const e=new m.MY(n.query);t.query.forEach((t=>e.setFilterValues(t[0],[t[1]]))),n.query=e.formatString()}return n})(p);return(0,W.tZ)(ve,{location:t,organization:n,eventView:f,transactionName:d,spanOperationBreakdownFilter:h,onChangeSpanOperationBreakdownFilter:y,eventsDisplayFilterName:u,onChangeEventsDisplayFilter:w,percentileValues:p,webVital:v,setError:c})}})}function ye(e){return"string"==typeof e&&String(e).trim().length>0?[String(e).trim(),(0,i.t)("Events")].join(" — "):[(0,i.t)("Summary"),(0,i.t)("Events")].join(" — ")}function xe(e){const t=(0,u.ro)(e.query.webVital,"");if(Object.values(c.Zl).includes(t))return t}function we(e){let{location:t,transactionName:n}=e;const r=(0,u.ro)(t.query.query,""),o=new m.MY(r);o.setFilterValues("event.type",["transaction"]),o.setFilterValues("transaction",[n]),Object.keys(o.filters).forEach((e=>{(0,c.h1)(e)&&o.removeFilter(e)}));const s=["id","user.display",c.zD,"transaction.duration","trace","timestamp"],i=(0,f.q0)(t);i!==f.f1.None?s.splice(2,1,`spans.${i}`):s.push(...c.$4);const a=xe(t);return a&&s.splice(3,0,a),d.ZP.fromNewQueryWithLocation({id:void 0,version:2,name:n,fields:s,query:o.formatString(),projects:[],orderby:(0,u.ro)(t.query.sort,"-timestamp")},t)}fe.displayName="TransactionEvents",ge.displayName="EventsContentWrapper";const be=(0,v.Z)((0,h.Z)(fe))},"../node_modules/downsample/methods/ASAP.js":(e,t)=>{function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var r={"PointValueExtractor<unknown>":e=>"function"==typeof e,XYDataPoint:e=>null!=e&&r.X(e.x)&&"number"==typeof e.y,X:e=>"number"==typeof e||e instanceof Date},o=e=>{for(var t=0,n=0;n<e.length;n+=1)t+=e[n];return t/e.length},s=(e,t)=>{for(var n=e.length,r=new Array(n),o=0;o<n;o++)r[o]=t(e[o],o);return r},i=e=>r["PointValueExtractor<unknown>"](e)?e:t=>t[e],a=(e,t)=>({x:e,y:t}),l=()=>({x:e=>{var t=r.XYDataPoint(e)?e.x:e[0];return t instanceof Date?t.getTime():t},y:e=>"y"in e?e.y:e[1],toPoint:a}),d=(e,t)=>new e.constructor(t),c=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=[],o=0,s=0;s<t;s++)o+=e[s];for(var i=t;i<=e.length;i++)(i-t)%n==0&&r.push(o/t),o+=e[i]-e[i-t];return r},p=e=>{var t=i(e.x),n=i(e.y),r=e.toPoint;return function(e,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0===e.length)return e;for(var a,l=s(e,n),c=s(e,t),p=d(e,0),u=0,m=0;m<o;m++)u+=l[m];for(var h=o;h<=l.length;h++)(h-o)%i==0&&(a=r((c[h-o]+c[h-1])/2,u/o,h-o),p[p.length]=a),u+=l[h]-l[h-o];return p}};function u(e,t){if(e.length!=t.length)throw"Mismatched lengths";var n=e.length;0!=n&&(0==(n&n-1)?function(e,t){if(e.length!=t.length)throw"Mismatched lengths";var n=e.length;if(1!=n){for(var r=-1,o=0;o<32;o++)1<<o==n&&(r=o);if(-1==r)throw"Length is not a power of 2";for(var s=new Array(n/2),i=new Array(n/2),a=0;a<n/2;a++)s[a]=Math.cos(2*Math.PI*a/n),i[a]=Math.sin(2*Math.PI*a/n);for(var l=0;l<n;l++){var d=h(l,r);if(d>l){var c=e[l];e[l]=e[d],e[d]=c,c=t[l],t[l]=t[d],t[d]=c}}for(var p=2;p<=n;p*=2)for(var u=p/2,m=n/p,v=0;v<n;v+=p)for(var f=v,g=0;f<v+u;f++,g+=m){var y=e[f+u]*s[g]+t[f+u]*i[g],x=-e[f+u]*i[g]+t[f+u]*s[g];e[f+u]=e[f]-y,t[f+u]=t[f]-x,e[f]+=y,t[f]+=x}}}(e,t):function(e,t){if(e.length!=t.length)throw"Mismatched lengths";for(var n=e.length,r=1;r<2*n+1;)r*=2;for(var o=new Array(n),s=new Array(n),i=0;i<n;i++){var a=i*i%(2*n);o[i]=Math.cos(Math.PI*a/n),s[i]=Math.sin(Math.PI*a/n)}for(var l=new Array(r),d=new Array(r),c=0;c<n;c++)l[c]=e[c]*o[c]+t[c]*s[c],d[c]=-e[c]*s[c]+t[c]*o[c];for(var p=n;p<r;p++)l[p]=d[p]=0;var h=new Array(r),v=new Array(r);h[0]=o[0],v[0]=s[0];for(var f=1;f<n;f++)h[f]=h[r-f]=o[f],v[f]=v[r-f]=s[f];for(var g=n;g<=r-n;g++)h[g]=v[g]=0;var y=new Array(r),x=new Array(r);!function(e,t,n,r,o,s){if(e.length!=t.length||e.length!=n.length||n.length!=r.length||e.length!=o.length||o.length!=s.length)throw"Mismatched lengths";var i=e.length;e=e.slice(),t=t.slice(),n=n.slice(),r=r.slice(),u(e,t),u(n,r);for(var a=0;a<i;a++){var l=e[a]*n[a]-t[a]*r[a];t[a]=t[a]*n[a]+e[a]*r[a],e[a]=l}m(e,t);for(var d=0;d<i;d++)o[d]=e[d]/i,s[d]=t[d]/i}(l,d,h,v,y,x);for(var w=0;w<n;w++)e[w]=y[w]*o[w]+x[w]*s[w],t[w]=-y[w]*s[w]+x[w]*o[w]}(e,t))}function m(e,t){u(t,e)}function h(e,t){for(var n=0,r=0;r<t;r++)n=n<<1|1&e,e>>>=1;return n}p(l());var v,f,g,y=e=>(e=>{for(var t=o(e),n=0,r=0;r<e.length;r+=1)n+=(e[r]-t)*(e[r]-t);return Math.sqrt(n/e.length)})((e=>{var t=e.length-1;if(t<1)return[];for(var n=new Array(t),r=0;r<t;r++)n[r]=e[r+1]-e[r];return n})(e)),x=e=>{for(var t,n,r=e.length,s=o(e),i=0,a=0,l=0;l<r;l++)i+=(n=(t=e[l]-s)*t)*n,a+=n;return r*i/(a*a)},w=(v=l(),f=i(v.y),g=p(v),function e(t,r){if(0===t.length)return t;if(r<=0)throw new Error("Supplied non-positive resolution parameter to ASAP: ".concat(r));if(t.length>=2*r){var i=Math.trunc(t.length/r);return e(g(t,i,i),r)}for(var a=s(t,f),l=((e,t)=>{for(var r=e.length,s=o(e),i=Math.pow(2,Math.trunc(Math.log2(r))+1),a=new Array(i).fill(0),l=new Array(i).fill(0),d=0;d<r;d+=1)a[d]=e[d]-s;u(a,l);for(var c=0;c<a.length;c+=1)a[c]=Math.pow(a[c],2)+Math.pow(l[c],2),l[c]=0;m(a,l);for(var p=[],h=1;h<t;h++)p[h]=a[h]/a[0];var v=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,s=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,s=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw s}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,n=e.length;if(n<=1)return[[],0];var r=0,o=[];if(e.length>1)for(var s=e[1]>e[0],i=1,a=2;a<e.length;a+=1)!s&&e[a]>e[a-1]?(i=a,s=!s):s&&e[a]>e[i]?i=a:s&&e[a]<e[a-1]&&(i>1&&e[i]>t&&(o.push(i),e[i]>r&&(r=e[i])),s=!s);if(o.length<=1)for(var l=2;l<n;l+=1)o.push(l);return[o,r]}(p),2);return{correlations:p,peaks:v[0],maxCorrelation:v[1]}})(a,Math.round(a.length/10)),d=l.correlations,p=l.peaks,h=l.maxCorrelation,v=x(a),w=y(a),b=1,Z=1,j=-1,k=a.length/10,_=p.length-1;_>=0;_-=1){var C=p[_];if(C<Z||1===C)break;if(!(Math.sqrt(1-d[C])*b>Math.sqrt(1-d[b])*C)){var S=c(a,C,1),E=x(S),A=y(S);E>=v&&(A<w&&(w=A,b=C),Z=Math.round(Math.max(C*Math.sqrt((h-1)/(d[C]-1)),Z)),j<0&&(j=_))}}return j>0&&(j<p.length-2&&(k=p[j+1]),Z=Math.max(Z,p[j]+1)),b=((e,t,n,r,o,s)=>{for(;e<=t;){var i=Math.round((e+t)/2),a=c(n,i,1);if(x(a)>=o){var l=y(a);l<r&&(s=i,r=l),e=i+1}else t=i-1}return s})(Z,k,a,w,v,b),g(t,b,1)});t.Cl=w}}]);
//# sourceMappingURL=../sourcemaps/app_components_links_listLink_tsx-app_views_performance_transactionSummary_transactionEvents_-a0621a.c2ba6058a9b430ce110d322ca0e2b6f7.js.map
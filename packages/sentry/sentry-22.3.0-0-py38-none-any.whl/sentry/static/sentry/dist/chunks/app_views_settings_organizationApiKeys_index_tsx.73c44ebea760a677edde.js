"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_organizationApiKeys_index_tsx"],{"./app/components/alertLink.tsx":(e,t,s)=>{s.d(t,{Z:()=>m});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(s("../node_modules/react/index.js"),s("../node_modules/lodash/omit.js")),o=s.n(i),r=s("./app/components/links/externalLink.tsx"),a=s("./app/components/links/link.tsx"),l=s("./app/icons/index.tsx"),d=s("./app/styles/space.tsx"),p=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e){let{size:t="normal",priority:s="warning",icon:n,children:i,onClick:o,withoutMarginBottom:r=!1,openInNewTab:a=!1,to:d,href:c,"data-test-id":m}=e;return(0,p.BX)(u,{"data-test-id":m,to:d,href:c,onClick:o,size:t,priority:s,withoutMarginBottom:r,openInNewTab:a,children:[n&&(0,p.tZ)(h,{children:n}),(0,p.tZ)(x,{children:i}),(0,p.tZ)(y,{children:(0,p.tZ)(l.g6,{direction:"right"})})]})}c.displayName="AlertLink";const m=c,u=(0,n.Z)((e=>{let{openInNewTab:t,to:s,href:n,...i}=e;const l=o()(i,["withoutMarginBottom","priority","size"]);return n?(0,p.tZ)(r.Z,{...l,href:n,openInNewTab:t}):(0,p.tZ)(a.Z,{...l,to:s||""})}),{target:"ear9tuy3"})("display:flex;background-color:",(e=>e.theme.alert[e.priority].backgroundLight),";color:",(e=>e.theme.textColor),";border:1px dashed ",(e=>e.theme.alert[e.priority].border),";padding:",(e=>"small"===e.size?`${(0,d.Z)(1)} ${(0,d.Z)(1.5)}`:(0,d.Z)(2)),";margin-bottom:",(e=>e.withoutMarginBottom?0:(0,d.Z)(3)),";border-radius:0.25em;transition:0.2s border-color;&.focus-visible{outline:none;box-shadow:",(e=>e.theme.alert[e.priority].border),"7f 0 0 0 2px;}"),h=(0,n.Z)("span",{target:"ear9tuy2"})("display:flex;margin:",(0,d.Z)(.5)," ",(0,d.Z)(1.5)," ",(0,d.Z)(.5)," 0;"),y=(0,n.Z)(h,{target:"ear9tuy1"})("margin:",(0,d.Z)(.5)," 0;"),x=(0,n.Z)("div",{target:"ear9tuy0"})({name:"19lh9qo",styles:"line-height:1.5;flex-grow:1"})},"./app/components/links/linkWithConfirmation.tsx":(e,t,s)=>{s.d(t,{Z:()=>d});var n=s("../node_modules/react/index.js"),i=s("../node_modules/classnames/index.js"),o=s.n(i),r=s("./app/components/confirm.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class l extends n.PureComponent{render(){const{className:e,disabled:t,title:s,children:n,...i}=this.props;return(0,a.tZ)(r.Z,{...i,disabled:t,children:(0,a.tZ)("a",{href:"#",className:o()(e||"",{disabled:t}),title:s,children:n})})}}l.displayName="LinkWithConfirmation";const d=l},"./app/utils/recreateRoute.tsx":(e,t,s)=>{s.d(t,{Z:()=>r});var n=s("../node_modules/lodash/findLastIndex.js"),i=s.n(n),o=s("./app/utils/replaceRouterParams.tsx");function r(e,t){var s,n;const{routes:r,params:a,location:l,stepBack:d}=t,p=r.map((e=>{let{path:t}=e;return t||""}));let c,m;"string"!=typeof e?(m=r.indexOf(e)+1,c=i()(p.slice(0,m),(e=>"/"===e[0]))):c=i()(p,(e=>"/"===e[0]));let u=p.slice(c,m);void 0!==d&&(u=u.slice(0,d));const h=null!==(s=null==l?void 0:l.search)&&void 0!==s?s:"",y=null!==(n=null==l?void 0:l.hash)&&void 0!==n?n:"",x=`${u.join("")}${"string"!=typeof e?"":e}${h}${y}`;return(0,o.Z)(x,a)}},"./app/utils/routeTitle.tsx":(e,t,s)=>{s.d(t,{Z:()=>n});const n=function(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0;const i=`${e} - ${t}`,o=n?`${i} - ${n}`:i;return s?`${o} - Sentry`:o}},"./app/views/asyncView.tsx":(e,t,s)=>{s.d(t,{Z:()=>r}),s("../node_modules/react/index.js");var n=s("./app/components/asyncComponent.tsx"),i=s("./app/components/sentryDocumentTitle.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class r extends n.Z{getTitle(){return""}render(){return(0,o.tZ)(i.Z,{title:this.getTitle(),children:this.renderComponent()})}}r.displayName="AsyncView"},"./app/views/settings/organizationApiKeys/index.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>N});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react-router/es/index.js")),o=s("./app/actionCreators/indicator.tsx"),r=s("./app/locale.tsx"),a=s("./app/utils/recreateRoute.tsx"),l=s("./app/utils/routeTitle.tsx"),d=s("./app/utils/withOrganization.tsx"),p=s("./app/views/asyncView.tsx"),c=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),m=s("../node_modules/react/index.js"),u=s("./app/components/alertLink.tsx"),h=s("./app/components/autoSelectText.tsx"),y=s("./app/components/button.tsx"),x=s("./app/components/links/externalLink.tsx"),g=s("./app/components/links/link.tsx"),Z=s("./app/components/links/linkWithConfirmation.tsx"),b=s("./app/components/panels/index.tsx"),k=s("./app/icons/index.tsx"),w=s("./app/styles/input.tsx"),v=s("./app/views/settings/components/settingsPageHeader.tsx"),f=s("./app/views/settings/components/text/textBlock.tsx"),j=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),A={name:"1lo1a34",styles:"position:relative;top:2px"};function _(e){let{params:t,routes:s,keys:n,busy:i,loading:o,onAddApiKey:l,onRemove:d}=e;const p=n&&n.length,c=(0,j.tZ)(y.ZP,{priority:"primary",size:"small",icon:(0,j.tZ)(k.N_,{size:"xs",isCircled:!0}),busy:i,disabled:i,onClick:l,children:(0,r.t)("New API Key")});return(0,j.BX)("div",{children:[(0,j.tZ)(v.Z,{title:(0,r.t)("API Keys"),action:c}),(0,j.tZ)(f.Z,{children:(0,r._N)("API keys grant access to the [api:developer web API].\n          If you're looking to configure a Sentry client, you'll need a\n          client key which is available in your project settings.",{api:(0,j.tZ)(x.Z,{href:"https://docs.sentry.io/api/"})})}),(0,j.tZ)(u.Z,{to:"/settings/account/api/auth-tokens/",priority:"info",children:(0,r._N)("Until Sentry supports OAuth, you might want to switch to using [tokens:Auth Tokens] instead.",{tokens:(0,j.tZ)("u",{})})}),(0,j.tZ)(b.KB,{isLoading:o,isEmpty:!p,emptyMessage:(0,r.t)("No API keys for this organization"),headers:[(0,r.t)("Name"),(0,r.t)("Key"),(0,r.t)("Actions")],children:n&&n.map((e=>{let{id:n,key:i,label:o}=e;const l=(0,a.Z)(`${n}/`,{params:t,routes:s});return(0,j.BX)(m.Fragment,{children:[(0,j.tZ)(I,{children:(0,j.tZ)(g.Z,{to:l,children:o})}),(0,j.tZ)("div",{children:(0,j.tZ)(P,{readOnly:!0,children:i})}),(0,j.tZ)(I,{children:(0,j.tZ)(Z.Z,{"aria-label":(0,r.t)("Remove API Key"),className:"btn btn-default btn-sm",onConfirm:()=>d(n),message:(0,r.t)("Are you sure you want to remove this API key?"),title:(0,r.t)("Remove API Key?"),children:(0,j.tZ)(k.Fz,{size:"xs",css:A})})})]},i)}))})]})}_.displayName="OrganizationApiKeysList";const I=(0,c.Z)("div",{target:"e9c1bws1"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),P=(0,c.Z)(h.Z,{target:"e9c1bws0"})((e=>(0,w.T)(e)),";"),$=_;class z extends p.Z{constructor(){super(...arguments),(0,n.Z)(this,"handleRemove",(async e=>{const t=[...this.state.keys];this.setState((t=>({keys:t.keys.filter((t=>{let{id:s}=t;return s!==e}))})));try{await this.api.requestPromise(`/organizations/${this.props.params.orgId}/api-keys/${e}/`,{method:"DELETE",data:{}})}catch{this.setState({keys:t,busy:!1}),(0,o.Iw)((0,r.t)("Error removing key"))}})),(0,n.Z)(this,"handleAddApiKey",(async()=>{this.setState({busy:!0});try{const e=await this.api.requestPromise(`/organizations/${this.props.params.orgId}/api-keys/`,{method:"POST",data:{}});e&&(this.setState({busy:!1}),i.browserHistory.push((0,a.Z)(`${e.id}/`,{params:this.props.params,routes:this.props.routes})),(0,o.S9)((0,r.t)(`Created a new API key "${e.label}"`)))}catch{this.setState({busy:!1})}}))}getEndpoints(){return[["keys",`/organizations/${this.props.params.orgId}/api-keys/`]]}getTitle(){return(0,l.Z)((0,r.t)("API Keys"),this.props.organization.slug,!1)}renderLoading(){return this.renderBody()}renderBody(){return(0,j.tZ)($,{loading:this.state.loading,busy:this.state.busy,keys:this.state.keys,onRemove:this.handleRemove,onAddApiKey:this.handleAddApiKey,...this.props})}}const N=(0,d.Z)(z)}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_organizationApiKeys_index_tsx.af6c102f7240b20e302fb7d55103535a.js.map
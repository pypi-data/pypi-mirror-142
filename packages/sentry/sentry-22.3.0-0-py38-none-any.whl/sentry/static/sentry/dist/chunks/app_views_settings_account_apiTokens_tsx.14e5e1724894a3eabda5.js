"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_account_apiTokens_tsx"],{"./app/components/alertLink.tsx":(e,t,n)=>{n.d(t,{Z:()=>u});var o=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(n("../node_modules/react/index.js"),n("../node_modules/lodash/omit.js")),s=n.n(i),r=n("./app/components/links/externalLink.tsx"),a=n("./app/components/links/link.tsx"),l=n("./app/icons/index.tsx"),d=n("./app/styles/space.tsx"),p=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e){let{size:t="normal",priority:n="warning",icon:o,children:i,onClick:s,withoutMarginBottom:r=!1,openInNewTab:a=!1,to:d,href:c,"data-test-id":u}=e;return(0,p.BX)(m,{"data-test-id":u,to:d,href:c,onClick:s,size:t,priority:n,withoutMarginBottom:r,openInNewTab:a,children:[o&&(0,p.tZ)(h,{children:o}),(0,p.tZ)(Z,{children:i}),(0,p.tZ)(g,{children:(0,p.tZ)(l.g6,{direction:"right"})})]})}c.displayName="AlertLink";const u=c,m=(0,o.Z)((e=>{let{openInNewTab:t,to:n,href:o,...i}=e;const l=s()(i,["withoutMarginBottom","priority","size"]);return o?(0,p.tZ)(r.Z,{...l,href:o,openInNewTab:t}):(0,p.tZ)(a.Z,{...l,to:n||""})}),{target:"ear9tuy3"})("display:flex;background-color:",(e=>e.theme.alert[e.priority].backgroundLight),";color:",(e=>e.theme.textColor),";border:1px dashed ",(e=>e.theme.alert[e.priority].border),";padding:",(e=>"small"===e.size?`${(0,d.Z)(1)} ${(0,d.Z)(1.5)}`:(0,d.Z)(2)),";margin-bottom:",(e=>e.withoutMarginBottom?0:(0,d.Z)(3)),";border-radius:0.25em;transition:0.2s border-color;&.focus-visible{outline:none;box-shadow:",(e=>e.theme.alert[e.priority].border),"7f 0 0 0 2px;}"),h=(0,o.Z)("span",{target:"ear9tuy2"})("display:flex;margin:",(0,d.Z)(.5)," ",(0,d.Z)(1.5)," ",(0,d.Z)(.5)," 0;"),g=(0,o.Z)(h,{target:"ear9tuy1"})("margin:",(0,d.Z)(.5)," 0;"),Z=(0,o.Z)("div",{target:"ear9tuy0"})({name:"19lh9qo",styles:"line-height:1.5;flex-grow:1"})},"./app/views/asyncView.tsx":(e,t,n)=>{n.d(t,{Z:()=>r}),n("../node_modules/react/index.js");var o=n("./app/components/asyncComponent.tsx"),i=n("./app/components/sentryDocumentTitle.tsx"),s=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class r extends o.Z{getTitle(){return""}render(){return(0,s.tZ)(i.Z,{title:this.getTitle(),children:this.renderComponent()})}}r.displayName="AsyncView"},"./app/views/settings/account/apiTokens.tsx":(e,t,n)=>{n.r(t),n.d(t,{ApiTokens:()=>S,default:()=>I});var o=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./app/actionCreators/indicator.tsx")),s=n("./app/components/alertLink.tsx"),r=n("./app/components/button.tsx"),a=n("./app/components/links/externalLink.tsx"),l=n("./app/components/panels/index.tsx"),d=n("./app/locale.tsx"),p=n("./app/utils/withOrganization.tsx"),c=n("./app/views/asyncView.tsx"),u=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),m=n("./app/components/dateTime.tsx"),h=n("./app/components/forms/textCopyInput.tsx"),g=n("./app/icons/index.tsx"),Z=n("./app/styles/space.tsx"),x=n("./app/utils/getDynamicText.tsx"),k=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function y(e){let{token:t,onRemove:n}=e;return(0,k.BX)(v,{children:[(0,k.BX)(w,{children:[(0,k.tZ)(f,{children:(0,k.tZ)(h.Z,{children:(0,x.Z)({value:t.token,fixed:"CI_AUTH_TOKEN"})})}),(0,k.tZ)(r.ZP,{size:"small",onClick:()=>n(t),icon:(0,k.tZ)(g.JZ,{isCircled:!0,size:"xs"}),children:(0,d.t)("Remove")})]}),(0,k.BX)(b,{children:[(0,k.BX)(T,{children:[(0,k.tZ)(j,{children:(0,d.t)("Scopes")}),(0,k.tZ)(z,{children:t.scopes.join(", ")})]}),(0,k.BX)("div",{children:[(0,k.tZ)(j,{children:(0,d.t)("Created")}),(0,k.tZ)(_,{children:(0,k.tZ)(m.Z,{date:(0,x.Z)({value:t.dateCreated,fixed:new Date(150820808e4)})})})]})]})]})}y.displayName="ApiTokenRow";const v=(0,u.Z)(l.Lv,{target:"eu9lu7u7"})("flex-direction:column;padding:",(0,Z.Z)(2),";"),w=(0,u.Z)("div",{target:"eu9lu7u6"})("display:flex;align-items:center;margin-bottom:",(0,Z.Z)(1),";"),f=(0,u.Z)("div",{target:"eu9lu7u5"})("font-size:",(e=>e.theme.fontSizeRelativeSmall),";flex:1;margin-right:",(0,Z.Z)(1),";"),b=(0,u.Z)("div",{target:"eu9lu7u4"})("display:flex;margin-top:",(0,Z.Z)(1),";"),T=(0,u.Z)("div",{target:"eu9lu7u3"})({name:"82a6rk",styles:"flex:1"}),z=(0,u.Z)("div",{target:"eu9lu7u2"})("font-size:",(e=>e.theme.fontSizeRelativeSmall),";line-height:1.4;"),_=(0,u.Z)("time",{target:"eu9lu7u1"})("font-size:",(e=>e.theme.fontSizeRelativeSmall),";line-height:1.4;"),j=(0,u.Z)("div",{target:"eu9lu7u0"})("font-size:",(e=>e.theme.fontSizeMedium),";text-transform:uppercase;color:",(e=>e.theme.subText),";margin-bottom:",(0,Z.Z)(1),";"),A=y;var B=n("./app/views/settings/components/emptyMessage.tsx"),C=n("./app/views/settings/components/settingsPageHeader.tsx"),L=n("./app/views/settings/components/text/textBlock.tsx");class S extends c.Z{constructor(){super(...arguments),(0,o.Z)(this,"handleRemoveToken",(e=>{(0,i.E3)();const t=this.state.tokenList;this.setState((t=>{var n,o;return{tokenList:null!==(n=null===(o=t.tokenList)||void 0===o?void 0:o.filter((t=>t.token!==e.token)))&&void 0!==n?n:[]}}),(async()=>{try{await this.api.requestPromise("/api-tokens/",{method:"DELETE",data:{token:e.token}}),(0,i.S9)((0,d.t)("Removed token"))}catch(e){(0,i.Iw)((0,d.t)("Unable to remove token. Please try again.")),this.setState({tokenList:t})}}))}))}getTitle(){return(0,d.t)("API Tokens")}getDefaultState(){return{...super.getDefaultState(),tokenList:[]}}getEndpoints(){return[["tokenList","/api-tokens/"]]}renderBody(){var e;const{organization:t}=this.props,{tokenList:n}=this.state,o=!Array.isArray(n)||0===n.length,i=(0,k.tZ)(r.ZP,{priority:"primary",size:"small",to:"/settings/account/api/auth-tokens/new-token/","data-test-id":"create-token",children:(0,d.t)("Create New Token")});return(0,k.BX)("div",{children:[(0,k.tZ)(C.Z,{title:"Auth Tokens",action:i}),(0,k.tZ)(s.Z,{to:`/settings/${null!==(e=null==t?void 0:t.slug)&&void 0!==e?e:""}/developer-settings/new-internal`,children:(0,d.t)("Auth Tokens are tied to the logged in user, meaning they'll stop working if the user leaves the organization! We suggest using internal integrations to create/manage tokens tied to the organization instead.")}),(0,k.tZ)(L.Z,{children:(0,d.t)("Authentication tokens allow you to perform actions against the Sentry API on behalf of your account. They're the easiest way to get started using the API.")}),(0,k.tZ)(L.Z,{children:(0,d._N)("For more information on how to use the web API, see our [link:documentation].",{link:(0,k.tZ)(a.Z,{href:"https://docs.sentry.io/api/"})})}),(0,k.BX)(l.s_,{children:[(0,k.tZ)(l.V9,{children:(0,d.t)("Auth Token")}),(0,k.BX)(l.N,{children:[o&&(0,k.tZ)(B.Z,{children:(0,d.t)("You haven't created any authentication tokens yet.")}),null==n?void 0:n.map((e=>(0,k.tZ)(A,{token:e,onRemove:this.handleRemoveToken},e.token)))]})]})]})}}const I=(0,p.Z)(S)}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_account_apiTokens_tsx.7a3e92794635cadb72e7d873042023ca.js.map
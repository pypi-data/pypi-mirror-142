"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_actionCreators_members_tsx-app_components_dropdownMenuControlV2_tsx"],{"./app/actionCreators/members.tsx":(e,t,r)=>{r.d(t,{MA:()=>l,M4:()=>a,hS:()=>d,R_:()=>u}),r("../node_modules/core-js/modules/web.dom-collections.iterator.js");var n=r("../node_modules/@sentry/minimal/esm/index.js"),o=r("./app/actions/memberActions.tsx"),i=r("./app/stores/memberListStore.tsx");function s(e){return{...e.user,role:e.role}}async function l(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const o=`/organizations/${t}/users/`,l=r?{project:r}:{};try{const a=await e.requestPromise(o,{method:"GET",query:l});a||n.$e((e=>{e.setExtras({orgId:t,projectIds:r}),n.Tb(new Error("Members is undefined"))}));const d=null==a?void 0:a.filter((e=>{let{user:t}=e;return t}));return d?(i.Z.loadInitialData(d.map(s)),a):[]}catch(e){n.rJ({resp:e}),n.Tb(e)}return[]}function a(e){return e.reduce(((e,t)=>{for(const r of t.projects)e.hasOwnProperty(r)||(e[r]=[]),e[r].push(t.user);return e}),{})}async function d(e,t){let{orgId:r,memberId:n,data:i}=t;o.Z.update(n,i);const s=`/organizations/${r}/members/${n}/`;try{const t=await e.requestPromise(s,{method:"PUT",data:i});return o.Z.updateSuccess(t),t}catch(e){throw o.Z.updateError(e),e}}async function u(e,t){let{orgId:r,memberId:n,regenerate:i,data:s}=t;o.Z.resendMemberInvite(r,s);const l=`/organizations/${r}/members/${n}/`;try{const t=await e.requestPromise(l,{method:"PUT",data:{regenerate:i,reinvite:!0}});return o.Z.resendMemberInviteSuccess(t),t}catch(e){throw o.Z.resendMemberInviteError(e),e}}},"./app/components/dropdownMenuControlV2.tsx":(e,t,r)=>{r.d(t,{Z:()=>U});var n=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(r("../node_modules/core-js/modules/web.dom-collections.iterator.js"),r("../node_modules/react/index.js")),i=r("../node_modules/@react-aria/button/dist/module.js"),s=r("../node_modules/@react-aria/menu/dist/module.js"),l=r("../node_modules/@react-aria/utils/dist/module.js"),a=r("../node_modules/@react-stately/collections/dist/module.js"),d=r("../node_modules/@react-stately/menu/dist/module.js"),u=r("./app/components/button.tsx"),c=r("./app/icons/index.tsx"),m=r("./app/styles/space.tsx"),p=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const g=(0,o.forwardRef)(((e,t)=>{let{children:r,prefix:n,isOpen:o=!1,showChevron:i=!0,disabled:s=!1,priority:l="form",...a}=e;return(0,p.BX)(b,{...a,type:"button",disabled:s,priority:l,isOpen:o,ref:t,children:[n&&(0,p.tZ)(f,{children:n}),r,i&&(0,p.tZ)(h,{size:"10px",direction:o?"up":"down","aria-hidden":"true"})]})})),h=(0,n.Z)(c.g6,{target:"e1mklef12"})("margin-left:",(0,m.Z)(.75),";"),b=(0,n.Z)(u.ZP,{target:"e1mklef11"})("position:relative;z-index:2;",(e=>(e.isOpen||e.disabled)&&"box-shadow: none;"),";"),f=(0,n.Z)("span",{target:"e1mklef10"})("&:after{content:':';}font-weight:400;padding-right:",(0,m.Z)(.75),";"),y=g;var Z=r("../node_modules/@react-aria/focus/dist/module.js"),v=r("../node_modules/@react-aria/interactions/dist/module.js"),w=r("../node_modules/@react-aria/overlays/dist/module.js"),x=r("../node_modules/@react-aria/separator/dist/module.js"),S=r("../node_modules/@react-stately/tree/dist/module.js"),P=r("../node_modules/react-router/es/index.js"),k=r("./app/styles/overflowEllipsis.tsx");const M=(0,P.withRouter)((e=>{var t;let{node:r,isLastNode:n,state:i,onClose:a,closeOnSelect:d,isSubmenuTrigger:u=!1,submenuTriggerRef:m,renderAs:g="li",router:h,...b}=e;const[f,y]=(0,o.useState)(!1),Z=null!=m?m:(0,o.useRef)(null),w=i.disabledKeys.has(r.key),x=i.selectionManager.focusedKey===r.key,S=r.value,{hoverProps:P}=(0,v.XI)({onHoverChange:y});(0,o.useEffect)((()=>{if(f&&x){if(u)return void i.selectionManager.select(r.key);i.selectionManager.clearSelection()}}),[f,x]);const{keyboardProps:k}=(0,v.v5)({onKeyDown:e=>{u&&"ArrowRight"===e.key?i.selectionManager.select(r.key):e.continuePropagation()}}),{menuItemProps:M,labelProps:I,descriptionProps:B}=(0,s.iX)({key:r.key,onAction:()=>{var e;u?i.selectionManager.select(r.key):(null===(e=S.onAction)||void 0===e||e.call(S,S.key),S.to&&h.push(S.to))},onClose:a,closeOnSelect:d,isDisabled:w},i,Z),$=(0,l.dG)(b,M,P,k),{priority:F,details:E,leadingItems:N,leadingItemsSpanFullHeight:H,trailingItems:X,trailingItemsSpanFullHeight:A}=S,K=null!==(t=r.rendered)&&void 0!==t?t:S.label,W=S.showDividers&&!n;return(0,p.tZ)(j,{ref:Z,as:g,isDisabled:w,priority:F,"data-test-id":S.key,...S.to&&{"data-test-href":S.to},...$,...u&&{role:"menuitemradio"},children:(0,p.BX)(T,{isFocused:x,priority:F,children:[N&&(0,p.tZ)(C,{isDisabled:w,spanFullHeight:H,children:N}),(0,p.BX)(D,{isFocused:x,showDividers:W,children:[(0,p.BX)(O,{children:[(0,p.tZ)(z,{...I,"aria-hidden":"true",children:K}),E&&(0,p.tZ)(_,{isDisabled:w,priority:F,...B,children:E})]}),(X||u)&&(0,p.BX)(R,{isDisabled:w,spanFullHeight:A,children:[X,u&&(0,p.tZ)(c.g6,{size:"xs",direction:"right","aria-hidden":"true"})]})]})]})})})),j=(0,n.Z)("li",{target:"e1muwg2m7"})("position:static;list-style-type:none;margin:0;padding:0 ",(0,m.Z)(.5),";cursor:pointer;color:",(e=>e.theme.textColor),";",(e=>"primary"===e.priority&&`color: ${e.theme.activeText};`)," ",(e=>"danger"===e.priority&&`color: ${e.theme.errorText};`)," ",(e=>e.isDisabled&&`\n    color: ${e.theme.subText};\n    cursor: initial;\n  `)," &:focus{outline:none;}&:focus-visible{outline:none;}"),T=(0,n.Z)("div",{target:"e1muwg2m6"})("display:flex;position:relative;padding:0 ",(0,m.Z)(1),";border-radius:",(e=>e.theme.borderRadius),";box-sizing:border-box;",(e=>e.isFocused&&((e,t)=>{let r;switch(t){case"primary":r=e.purple100;break;case"danger":r=e.red100;break;default:r=e.hover}return`background: ${r}; z-index: 1;`})(e.theme,e.priority)),";"),C=(0,n.Z)("div",{target:"e1muwg2m5"})("display:flex;align-items:center;height:1.4em;gap:",(0,m.Z)(1),";padding:",(0,m.Z)(1)," 0;margin-top:",(0,m.Z)(1),";margin-right:",(0,m.Z)(.5),";",(e=>e.isDisabled&&"opacity: 0.5;")," ",(e=>e.spanFullHeight&&"height: 100%;"),";"),D=(0,n.Z)("div",{target:"e1muwg2m4"})("position:relative;width:100%;display:flex;gap:",(0,m.Z)(2),";justify-content:space-between;padding:",(0,m.Z)(1)," 0;margin-left:",(0,m.Z)(.5),";",(e=>e.showDividers&&!e.isFocused&&`\n      &::after {\n        content: '';\n        position: absolute;\n        left: 0;\n        bottom: 0;\n        width: 100%;\n        height: 1px;\n        box-shadow:  0 1px 0 0 ${e.theme.innerBorder};\n      }\n    `),";"),O=(0,n.Z)("div",{target:"e1muwg2m3"})("padding-right:",(0,m.Z)(1),";width:100%;"),z=(0,n.Z)("p",{target:"e1muwg2m2"})("margin-bottom:0;line-height:1.4;white-space:nowrap;",k.Z,";"),_=(0,n.Z)("p",{target:"e1muwg2m1"})("font-size:",(e=>e.theme.fontSizeSmall),";color:",(e=>e.theme.subText),";line-height:1.2;margin-bottom:0;",k.Z," ",(e=>"primary"===e.priority&&`color: ${e.theme.activeText};`)," ",(e=>"danger"===e.priority&&`color: ${e.theme.errorText};`)," ",(e=>e.isDisabled&&`color: ${e.theme.subText};`),";"),R=(0,n.Z)("div",{target:"e1muwg2m0"})("display:flex;align-items:center;height:1.4em;gap:",(0,m.Z)(1),";margin-right:",(0,m.Z)(.5),";",(e=>e.isDisabled&&"opacity: 0.5;")," ",(e=>e.spanFullHeight&&"height: 100%;"),";");function I(e){let{node:t,children:r}=e;const{itemProps:n,headingProps:o,groupProps:i}=(0,s.x7)({heading:t.rendered,"aria-label":t["aria-label"]});return(0,p.BX)($,{...n,children:[t.rendered&&(0,p.tZ)(F,{...o,children:t.rendered}),(0,p.tZ)(E,{...i,children:r})]})}I.displayName="MenuSection";const B=I,$=(0,n.Z)("li",{target:"emi8ono2"})({name:"ffhm6p",styles:"list-style-type:none"}),F=(0,n.Z)("span",{target:"emi8ono1"})("display:inline-block;font-weight:600;font-size:",(e=>e.theme.fontSizeSmall),";color:",(e=>e.theme.subText),";text-transform:uppercase;white-space:nowrap;margin:",(0,m.Z)(1)," ",(0,m.Z)(1.5)," ",(0,m.Z)(.5),";padding-right:",(0,m.Z)(1),";",$,":first-of-type &{margin-top:",(0,m.Z)(.5),";}"),E=(0,n.Z)("ul",{target:"emi8ono0"})({name:"1kz5jpr",styles:"list-style-type:none;padding:0;margin:0"});function N(e){var t,r;let{offset:n=8,crossOffset:i=0,containerPadding:a=0,placement:d="bottom left",closeOnSelect:u=!0,triggerRef:c,triggerWidth:m,isSubmenu:g,menuTitle:h,closeRootMenu:b,closeCurrentSubmenu:f,isDismissable:y=!0,shouldCloseOnBlur:P=!0,...k}=e;const j=(0,S.D)({...k,selectionMode:"single"}),T=[...j.collection],C=(0,o.useRef)(null),{menuProps:D}=(0,s.H9)({...k,selectionMode:"single"},j,C),{keyboardProps:O}=(0,v.v5)({onKeyDown:e=>{g&&"ArrowLeft"===e.key?null==f||f():e.continuePropagation()}}),z=(0,o.useRef)(null),{overlayProps:_}=(0,w.Ir)({onClose:b,shouldCloseOnBlur:P,isDismissable:y,isOpen:!0},z),{overlayProps:R,placement:I}=(0,w.tN)({targetRef:c,overlayRef:z,offset:n,crossOffset:i,placement:d,containerPadding:a,isOpen:!0,boundaryElement:null!==(t=document.querySelector(".app"))&&void 0!==t?t:void 0}),[$,F]=(0,o.useState)(!0);(0,o.useEffect)((()=>{const e=!T.some((e=>e.hasChildNodes&&!e.value.isSubmenu?[...e.childNodes].some((e=>j.selectionManager.isSelected(`${e.key}`))):j.selectionManager.isSelected(`${e.key}`)));F(e)}),[j.selectionManager.selectedKeys]);const E={...D,...!$&&{onKeyUp:()=>null,onKeyDown:()=>null}},N=e=>e.map(((t,r)=>{var n;const i=e.length-1===r,s=!i&&("section"===t.type||"section"===(null===(n=e[r+1])||void 0===n?void 0:n.type)),{separatorProps:l}=(0,x.z)({elementType:"li"});let a;return a="section"===t.type?(0,p.tZ)(B,{node:t,children:N([...t.childNodes])}):t.value.isSubmenu?((e,t)=>(0,p.tZ)(U,{items:e.value.children,trigger:r=>{let{props:n,ref:o}=r;return(0,p.tZ)(M,{renderAs:"div",node:e,isLastNode:t,state:j,isSubmenuTrigger:!0,submenuTriggerRef:o,...n})},menuTitle:e.value.submenuTitle,placement:"right top",offset:-4,crossOffset:-8,closeOnSelect:u,isOpen:j.selectionManager.isSelected(e.key),isSubmenu:!0,closeRootMenu:b,closeCurrentSubmenu:()=>j.selectionManager.clearSelection(),renderWrapAs:"li"}))(t,i):((e,t)=>(0,p.tZ)(M,{node:e,isLastNode:t,state:j,onClose:b,closeOnSelect:u}))(t,i),(0,p.BX)(o.Fragment,{children:[a,s&&(0,p.tZ)(W,{...l})]},t.key)}));return(0,p.tZ)(Z.MT,{restoreFocus:!0,autoFocus:!0,children:(0,p.tZ)(X,{ref:z,placementProp:I,...(0,l.dG)(_,R,O),children:(0,p.BX)(A,{ref:C,...E,style:{maxHeight:null===(r=R.style)||void 0===r?void 0:r.maxHeight,minWidth:m},children:[h&&(0,p.tZ)(K,{children:h}),N(T)]})})})}N.displayName="Menu";const H=N,X=(0,n.Z)("div",{target:"e1747fp53"})("max-width:24rem;border-radius:",(e=>e.theme.borderRadius),";background:",(e=>e.theme.backgroundElevated),";box-shadow:0 0 0 1px ",(e=>e.theme.translucentBorder),",",(e=>e.theme.dropShadowHeavy),";font-size:",(e=>e.theme.fontSizeMedium),";margin:",(0,m.Z)(1)," 0;",(e=>"top"===e.placementProp&&"margin-bottom: 0;")," ",(e=>"bottom"===e.placementProp&&"margin-top: 0;"),"z-index:",(e=>e.theme.zIndex.dropdown),"!important;"),A=(0,n.Z)("ul",{target:"e1747fp52"})("margin:0;padding:",(0,m.Z)(.5)," 0;font-size:",(e=>e.theme.fontSizeMedium),";overflow-x:hidden;overflow-y:auto;&:focus{outline:none;}"),K=(0,n.Z)("div",{target:"e1747fp51"})("font-weight:600;font-size:",(e=>e.theme.fontSizeSmall),";color:",(e=>e.theme.headingColor),";white-space:nowrap;padding:",(0,m.Z)(.25)," ",(0,m.Z)(1.5)," ",(0,m.Z)(.75),";margin-bottom:",(0,m.Z)(.5),";border-bottom:solid 1px ",(e=>e.theme.innerBorder),";"),W=(0,n.Z)("li",{target:"e1747fp50"})("list-style-type:none;border-top:solid 1px ",(e=>e.theme.innerBorder),";margin:",(0,m.Z)(.5)," ",(0,m.Z)(1.5),";");function L(e){let{items:t,trigger:r,triggerLabel:n,triggerProps:u={},isDisabled:c,isSubmenu:m=!1,closeRootMenu:g,closeCurrentSubmenu:h,renderWrapAs:b="div",className:f,...Z}=e;const v=(0,o.useRef)(null),w=null!=c?c:!t||0===t.length,x=(0,d.W)(Z),{menuTriggerProps:S,menuProps:P}=(0,s.u4)({type:"menu",isDisabled:w},x,v),{buttonProps:k}=(0,i.U)({isDisabled:w,...S,...m&&{onKeyUp:e=>e.continuePropagation(),onKeyDown:e=>e.continuePropagation(),onPress:()=>null,onPressStart:()=>null,onPressEnd:()=>null}},v),[M,j]=(0,o.useState)(),T=(0,o.useCallback)((async()=>{var e;await new Promise((e=>setTimeout(e)));const t=null===(e=v.current)||void 0===e?void 0:e.offsetWidth;!m&&t&&j(t)}),[r,n,u]);return(0,l.yU)({ref:v,onResize:T}),(0,o.useEffect)((()=>{void 0===window.ResizeObserver&&T()}),[T]),(0,p.BX)(q,{className:f,as:b,role:"presentation",children:[r?r({props:{...u,...k,isOpen:x.isOpen},ref:v}):(0,p.tZ)(y,{ref:v,isOpen:x.isOpen,...u,...k,children:n}),x.isOpen?(0,p.tZ)(H,{...Z,...P,triggerRef:v,triggerWidth:M,isSubmenu:m,isDismissable:!m&&Z.isDismissable,shouldCloseOnBlur:!m&&Z.shouldCloseOnBlur,closeRootMenu:null!=g?g:x.close,closeCurrentSubmenu:h,items:function e(t){return t.filter((e=>!e.hidden)).map((t=>({...t,...t.children?{children:e(t.children)}:{}})))}(t),children:e=>e.children&&e.children.length>0&&!e.isSubmenu?(0,p.tZ)(a.$0,{title:e.label,items:e.children,children:e=>(0,p.tZ)(a.ck,{...e,children:e.label})},e.key):(0,p.tZ)(a.ck,{...e,children:e.label})}):null]})}L.displayName="MenuControl";const U=L,q=(0,n.Z)("div",{target:"e1dayana0"})({name:"ffhm6p",styles:"list-style-type:none"})}}]);
//# sourceMappingURL=../sourcemaps/app_actionCreators_members_tsx-app_components_dropdownMenuControlV2_tsx.d01e6f4e41f7ed74eec2b28bdf3bc222.js.map
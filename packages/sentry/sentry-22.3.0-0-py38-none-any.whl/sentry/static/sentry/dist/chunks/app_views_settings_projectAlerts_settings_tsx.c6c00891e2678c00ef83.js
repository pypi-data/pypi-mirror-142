"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_projectAlerts_settings_tsx"],{"./app/components/alertLink.tsx":(e,t,n)=>{n.d(t,{Z:()=>u});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(n("../node_modules/react/index.js"),n("../node_modules/lodash/omit.js")),o=n.n(i),r=n("./app/components/links/externalLink.tsx"),a=n("./app/components/links/link.tsx"),l=n("./app/icons/index.tsx"),p=n("./app/styles/space.tsx"),d=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e){let{size:t="normal",priority:n="warning",icon:s,children:i,onClick:o,withoutMarginBottom:r=!1,openInNewTab:a=!1,to:p,href:c,"data-test-id":u}=e;return(0,d.BX)(m,{"data-test-id":u,to:p,href:c,onClick:o,size:t,priority:n,withoutMarginBottom:r,openInNewTab:a,children:[s&&(0,d.tZ)(g,{children:s}),(0,d.tZ)(x,{children:i}),(0,d.tZ)(h,{children:(0,d.tZ)(l.g6,{direction:"right"})})]})}c.displayName="AlertLink";const u=c,m=(0,s.Z)((e=>{let{openInNewTab:t,to:n,href:s,...i}=e;const l=o()(i,["withoutMarginBottom","priority","size"]);return s?(0,d.tZ)(r.Z,{...l,href:s,openInNewTab:t}):(0,d.tZ)(a.Z,{...l,to:n||""})}),{target:"ear9tuy3"})("display:flex;background-color:",(e=>e.theme.alert[e.priority].backgroundLight),";color:",(e=>e.theme.textColor),";border:1px dashed ",(e=>e.theme.alert[e.priority].border),";padding:",(e=>"small"===e.size?`${(0,p.Z)(1)} ${(0,p.Z)(1.5)}`:(0,p.Z)(2)),";margin-bottom:",(e=>e.withoutMarginBottom?0:(0,p.Z)(3)),";border-radius:0.25em;transition:0.2s border-color;&.focus-visible{outline:none;box-shadow:",(e=>e.theme.alert[e.priority].border),"7f 0 0 0 2px;}"),g=(0,s.Z)("span",{target:"ear9tuy2"})("display:flex;margin:",(0,p.Z)(.5)," ",(0,p.Z)(1.5)," ",(0,p.Z)(.5)," 0;"),h=(0,s.Z)(g,{target:"ear9tuy1"})("margin:",(0,p.Z)(.5)," 0;"),x=(0,s.Z)("div",{target:"ear9tuy0"})({name:"19lh9qo",styles:"line-height:1.5;flex-grow:1"})},"./app/components/pluginList.tsx":(e,t,n)=>{n.d(t,{Z:()=>y});var s=n("./app/actionCreators/plugins.tsx"),i=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=n("./app/components/panels/index.tsx"),r=n("./app/components/textOverflow.tsx"),a=n("./app/locale.tsx"),l=n("./app/plugins/components/pluginIcon.tsx"),p=n("./app/styles/space.tsx"),d=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const c=e=>{let{plugins:t,onEnablePlugin:n}=e;return 0===t.length?null:(0,d.BX)(o.s_,{children:[(0,d.tZ)(o.V9,{children:(0,a.t)("Inactive Integrations")}),(0,d.tZ)(o.N,{children:(0,d.tZ)(u,{children:t.map((e=>(0,d.tZ)(m,{onClick:()=>n(e),className:`ref-plugin-enable-${e.id}`,children:(0,d.BX)(g,{children:[(0,d.tZ)(h,{pluginId:e.id}),(0,d.tZ)(r.Z,{children:e.shortName||e.name})]})},e.id)))})})]})};c.displayName="InactivePlugins";const u=(0,i.Z)("div",{target:"e4awzvo3"})("display:flex;padding:",(0,p.Z)(1),";flex:1;flex-wrap:wrap;"),m=(0,i.Z)("button",{target:"e4awzvo2"})("margin:",(0,p.Z)(1),";width:175px;text-align:center;font-size:",(e=>e.theme.fontSizeSmall),";color:#889ab0;letter-spacing:0.1px;font-weight:600;text-transform:uppercase;border:1px solid #eee;background:inherit;border-radius:",(e=>e.theme.borderRadius),";padding:10px;&:hover{border-color:#ccc;}"),g=(0,i.Z)("div",{target:"e4awzvo1"})({name:"1wnowod",styles:"display:flex;align-items:center;justify-content:center"}),h=(0,i.Z)(l.ZP,{target:"e4awzvo0"})("margin-right:",(0,p.Z)(1),";"),x=c;var b=n("./app/components/pluginConfig.tsx");const Z=e=>{let{organization:t,project:n,pluginList:i,onDisablePlugin:r=(()=>{}),onEnablePlugin:l=(()=>{})}=e;const p=e=>{(0,s.rR)({projectId:n.slug,orgId:t.slug,pluginId:e.slug}),r(e)};return i.length?(0,d.BX)("div",{children:[i.filter((e=>e.enabled)).map((e=>(0,d.tZ)(b.Z,{data:e,organization:t,project:n,onDisablePlugin:p},e.id))),(0,d.tZ)(x,{plugins:i.filter((e=>!e.enabled&&!e.isHidden)),onEnablePlugin:e=>{(0,s.Cg)({projectId:n.slug,orgId:t.slug,pluginId:e.slug}),l(e)}})]}):(0,d.tZ)(o.s_,{children:(0,d.tZ)(o.Lv,{children:(0,a.t)("Oops! Looks like there aren't any available integrations installed.")})})};Z.displayName="PluginList";const y=Z},"./app/data/forms/projectAlerts.tsx":(e,t,n)=>{n.r(t),n.d(t,{route:()=>i,fields:()=>r});var s=n("./app/locale.tsx");const i="/settings/:orgId/projects/:projectId/alerts/",o=e=>(e=Number(e)/60,(0,s.tn)("%s minute","%s minutes",e)),r={subjectTemplate:{name:"subjectTemplate",type:"string",label:(0,s.t)("Subject Template"),placeholder:"e.g. $shortID - $title",help:(0,s.t)("The email subject to use (excluding the prefix) for individual alerts. Usable variables include: $title, $shortID, $projectID, $orgID, and ${tag:key}, such as ${tag:environment} or ${tag:release}.")},digestsMinDelay:{name:"digestsMinDelay",type:"range",min:60,max:3600,step:60,defaultValue:300,label:(0,s.t)("Minimum delivery interval"),help:(0,s.t)("Notifications will be delivered at most this often."),formatLabel:o},digestsMaxDelay:{name:"digestsMaxDelay",type:"range",min:60,max:3600,step:60,defaultValue:300,label:(0,s.t)("Maximum delivery interval"),help:(0,s.t)("Notifications will be delivered at least this often."),formatLabel:o}}},"./app/utils/routeTitle.tsx":(e,t,n)=>{n.d(t,{Z:()=>s});const s=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=arguments.length>3?arguments[3]:void 0;const i=`${e} - ${t}`,o=s?`${i} - ${s}`:i;return n?`${o} - Sentry`:o}},"./app/views/asyncView.tsx":(e,t,n)=>{n.d(t,{Z:()=>r}),n("../node_modules/react/index.js");var s=n("./app/components/asyncComponent.tsx"),i=n("./app/components/sentryDocumentTitle.tsx"),o=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class r extends s.Z{getTitle(){return""}render(){return(0,o.tZ)(i.Z,{title:this.getTitle(),children:this.renderComponent()})}}r.displayName="AsyncView"},"./app/views/settings/project/permissionAlert.tsx":(e,t,n)=>{n.d(t,{Z:()=>p}),n("../node_modules/react/index.js");var s=n("./app/components/acl/access.tsx"),i=n("./app/components/alert.tsx"),o=n("./app/icons/index.tsx"),r=n("./app/locale.tsx"),a=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=e=>{let{access:t=["project:write"],...n}=e;return(0,a.tZ)(s.Z,{access:t,children:e=>{let{hasAccess:t}=e;return!t&&(0,a.tZ)(i.Z,{type:"warning",icon:(0,a.tZ)(o.FC,{size:"xs"}),...n,children:(0,r.t)("These settings can only be edited by users with the organization owner, manager, or admin role.")})}})};l.displayName="PermissionAlert";const p=l},"./app/views/settings/projectAlerts/settings.tsx":(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react/index.js")),o=n("./app/components/alertLink.tsx"),r=n("./app/components/button.tsx"),a=n("./app/components/forms/form.tsx"),l=n("./app/components/forms/jsonForm.tsx"),p=n("./app/components/panels/index.tsx"),d=n("./app/components/pluginList.tsx"),c=n("./app/data/forms/projectAlerts.tsx"),u=n("./app/icons/index.tsx"),m=n("./app/locale.tsx"),g=n("./app/utils/routeTitle.tsx"),h=n("./app/views/asyncView.tsx"),x=n("./app/views/settings/components/settingsPageHeader.tsx"),b=n("./app/views/settings/project/permissionAlert.tsx"),Z=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class y extends h.Z{constructor(){super(...arguments),(0,s.Z)(this,"handleEnablePlugin",(e=>{this.setState((t=>{var n;return{pluginList:(null!==(n=t.pluginList)&&void 0!==n?n:[]).map((t=>t.id!==e.id?t:{...e,enabled:!0}))}}))})),(0,s.Z)(this,"handleDisablePlugin",(e=>{this.setState((t=>{var n;return{pluginList:(null!==(n=t.pluginList)&&void 0!==n?n:[]).map((t=>t.id!==e.id?t:{...e,enabled:!1}))}}))}))}getDefaultState(){return{...super.getDefaultState(),project:null,pluginList:[]}}getProjectEndpoint(e){let{orgId:t,projectId:n}=e;return`/projects/${t}/${n}/`}getEndpoints(){const{params:e}=this.props,{orgId:t,projectId:n}=e;return[["project",this.getProjectEndpoint(e)],["pluginList",`/projects/${t}/${n}/plugins/`]]}getTitle(){const{projectId:e}=this.props.params;return(0,g.Z)((0,m.t)("Alerts Settings"),e,!1)}renderBody(){const{canEditRule:e,organization:t,params:n}=this.props,{orgId:s}=n,{project:g,pluginList:h}=this.state;if(!g)return null;const y=this.getProjectEndpoint(n);return(0,Z.BX)(i.Fragment,{children:[(0,Z.tZ)(x.Z,{title:(0,m.t)("Alerts Settings"),action:(0,Z.tZ)(r.ZP,{to:{pathname:`/organizations/${s}/alerts/rules/`,query:{project:g.id}},size:"small",children:(0,m.t)("View Alert Rules")})}),(0,Z.tZ)(b.Z,{}),(0,Z.tZ)(o.Z,{to:"/settings/account/notifications/",icon:(0,Z.tZ)(u.h,{}),children:(0,m.t)("Looking to fine-tune your personal notification preferences? Visit your Account Settings")}),(0,Z.BX)(a.Z,{saveOnBlur:!0,allowUndo:!0,initialData:{subjectTemplate:g.subjectTemplate,digestsMinDelay:g.digestsMinDelay,digestsMaxDelay:g.digestsMaxDelay},apiMethod:"PUT",apiEndpoint:y,children:[(0,Z.tZ)(l.Z,{disabled:!e,title:(0,m.t)("Email Settings"),fields:[c.fields.subjectTemplate]}),(0,Z.tZ)(l.Z,{title:(0,m.t)("Digests"),disabled:!e,fields:[c.fields.digestsMinDelay,c.fields.digestsMaxDelay],renderHeader:()=>(0,Z.tZ)(p.aU,{type:"info",children:(0,m.t)("Sentry will automatically digest alerts sent by some services to avoid flooding your inbox with individual issue notifications. To control how frequently notifications are delivered, use the sliders below.")})})]}),e&&(0,Z.tZ)(d.Z,{organization:t,project:g,pluginList:(null!=h?h:[]).filter((e=>"notification"===e.type&&e.hasConfiguration)),onEnablePlugin:this.handleEnablePlugin,onDisablePlugin:this.handleDisablePlugin})]})}}const f=y}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_projectAlerts_settings_tsx.f8ad4d54210a6fa4505c95b2131d5f00.js.map
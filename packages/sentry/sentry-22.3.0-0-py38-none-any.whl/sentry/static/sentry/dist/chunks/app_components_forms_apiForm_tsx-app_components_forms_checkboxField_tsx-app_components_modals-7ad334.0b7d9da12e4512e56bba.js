(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_forms_apiForm_tsx-app_components_forms_checkboxField_tsx-app_components_modals-7ad334"],{"./app/components/arithmeticInput/parser.tsx":(e,t,a)=>{"use strict";a.d(t,{W9:()=>p});var r=a("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=a("./app/locale.tsx"),i=a("./app/components/arithmeticInput/grammar.pegjs"),n=a.n(i);const o=(0,s.t)("Maximum operators exceeded");class l{constructor(e){let{operator:t,lhs:a=null,rhs:s}=e;(0,r.Z)(this,"operator",void 0),(0,r.Z)(this,"lhs",void 0),(0,r.Z)(this,"rhs",void 0),this.operator=t,this.lhs=a,this.rhs=s}}class u{constructor(e){let{term:t,location:a}=e;(0,r.Z)(this,"term",void 0),(0,r.Z)(this,"location",void 0),this.term=t,this.location=a}}class c{constructor(){(0,r.Z)(this,"numOperations",void 0),(0,r.Z)(this,"errors",void 0),(0,r.Z)(this,"fields",void 0),(0,r.Z)(this,"functions",void 0),(0,r.Z)(this,"tokenTerm",((e,t)=>t.length>0?(t[0].lhs=e,d(t)):e)),(0,r.Z)(this,"tokenOperation",((e,t)=>(this.numOperations+=1,this.numOperations>10&&!this.errors.includes(o)&&this.errors.push(o),"divide"===e&&"0"===t&&this.errors.push((0,s.t)("Division by 0 is not allowed")),new l({operator:e,rhs:t})))),(0,r.Z)(this,"tokenFactor",((e,t)=>(t[0].lhs=e,d(t)))),(0,r.Z)(this,"tokenField",((e,t)=>{const a=new u({term:e,location:t});return this.fields.push(a),e})),(0,r.Z)(this,"tokenFunction",((e,t)=>{const a=new u({term:e,location:t});return this.functions.push(a),e})),this.numOperations=0,this.errors=[],this.fields=[],this.functions=[]}}function d(e){let t=e.shift();for(;e.length>0;){const a=e.shift();a&&t&&null===a.lhs&&(a.lhs=t),t=a}if(void 0===t)throw new Error("Unable to parse arithmetic");return t}function p(e){const t=new c;try{return{result:n().parse(e,{tc:t}),error:t.errors[0],tc:t}}catch(e){return{result:null,error:e.message,tc:t}}}},"./app/components/forms/apiForm.tsx":(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var r=a("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=(a("../node_modules/core-js/modules/web.dom-collections.iterator.js"),a("../node_modules/react/index.js")),i=a("./app/actionCreators/indicator.tsx"),n=a("./app/api.tsx"),o=a("./app/components/forms/form.tsx"),l=a("./app/locale.tsx"),u=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class c extends s.Component{constructor(){super(...arguments),(0,r.Z)(this,"api",new n.KU),(0,r.Z)(this,"onSubmit",((e,t,a)=>{this.props.onSubmit&&this.props.onSubmit(e),(0,i.E3)((0,l.t)("Saving changesâ€¦")),this.api.request(this.props.apiEndpoint,{method:this.props.apiMethod,data:e,success:e=>{(0,i.B8)(),t(e)},error:e=>{(0,i.B8)(),a(e)}})}))}componentWillUnmount(){this.api.clear()}render(){const{onSubmit:e,apiMethod:t,apiEndpoint:a,...r}=this.props;return(0,u.tZ)(o.Z,{onSubmit:this.onSubmit,...r})}}c.displayName="ApiForm"},"./app/components/forms/checkboxField.tsx":(e,t,a)=>{"use strict";a.d(t,{Z:()=>m});var r=a("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=a("./app/components/checkbox.tsx"),i=a("./app/components/forms/field/fieldDescription.tsx"),n=a("./app/components/forms/field/fieldHelp.tsx"),o=a("./app/components/forms/field/fieldLabel.tsx"),l=a("./app/components/forms/field/fieldRequiredBadge.tsx"),u=a("./app/components/forms/formField/index.tsx"),c=a("./app/styles/space.tsx"),d=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function p(e){const{name:t,disabled:a,stacked:r,id:c,required:p,label:m,help:f}=e,v="function"==typeof f?f(e):f;return(0,d.tZ)(u.Z,{name:t,inline:!1,stacked:r,children:e=>{let{onChange:u,value:f}=e;return(0,d.BX)(g,{children:[(0,d.tZ)(h,{children:(0,d.tZ)(s.Z,{id:c,name:t,disabled:a,checked:!0===f,onChange:function(e){const t=e.target.checked;null==u||u(t,e)}})}),(0,d.BX)(i.Z,{htmlFor:c,children:[m&&(0,d.tZ)(o.Z,{disabled:a,children:(0,d.BX)("span",{children:[m,p&&(0,d.tZ)(l.Z,{})]})}),v&&(0,d.tZ)(n.Z,{stacked:r,inline:!0,children:v})]})]})}})}p.displayName="CheckboxField";const h=(0,r.Z)("span",{target:"etw9sv71"})("align-self:flex-start;display:flex;margin-right:",(0,c.Z)(1),";& input{margin:0;}"),g=(0,r.Z)("div",{target:"etw9sv70"})({name:"ho1qnd",styles:"display:flex;flex-direction:row"}),m="app"==a.j?p:null},"./app/components/modals/dashboardWidgetQuerySelectorModal.tsx":(e,t,a)=>{"use strict";a.r(t),a.d(t,{modalCss:()=>S,default:()=>E});var r=a("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=(a("../node_modules/core-js/modules/web.dom-collections.iterator.js"),a("../node_modules/react/index.js")),i=a("../node_modules/react-router/es/index.js"),n=a("./app/components/button.tsx"),o=a("./app/components/forms/controls/input.tsx"),l=a("./app/icons/index.tsx"),u=a("./app/locale.tsx"),c=a("./app/styles/space.tsx"),d=a("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),p=a("./app/utils/discover/types.tsx"),h=a("./app/utils/withApi.tsx"),g=a("./app/utils/withPageFilters.tsx"),m=a("./app/views/dashboardsV2/utils.tsx"),f=a("./app/views/dashboardsV2/widgetBuilder/utils.tsx"),v=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class y extends s.Component{renderQueries(){const{organization:e,widget:t,selection:a}=this.props;return t.queries.map(((r,n)=>{const o=(0,m.tT)(t.title,r,a,t.displayType),c=o.getResultsViewUrlTarget(e.slug),h=o.getYAxisOptions().map((e=>{let{value:t}=e;return t}));switch(c.query.yAxis=[...new Set(r.aggregates.filter((e=>h.includes(e))))].slice(0,3),t.displayType){case f.FO.BAR:c.query.display=p.DC.BAR}return(0,v.tZ)(s.Fragment,{children:(0,v.BX)(A,{children:[(0,v.BX)(T,{children:[(0,v.tZ)(k,{htmlFor:"smart-search-input","aria-label":(0,u.t)("Search events"),children:(0,v.tZ)(l.jV,{})}),(0,v.tZ)(x,{value:r.conditions,disabled:!0})]}),(0,v.tZ)(i.Link,{to:c,children:(0,v.tZ)(b,{priority:"primary",icon:(0,v.tZ)(l.g6,{size:"xs",direction:"right"}),onClick:()=>{(0,d.Z)("dashboards_views.query_selector.selected",{organization:e,widget_type:t.displayType})},"aria-label":(0,u.t)("Open in Discover")})})]})},n)}))}render(){const{Body:e,Header:t,widget:a}=this.props;return(0,v.BX)(s.Fragment,{children:[(0,v.tZ)(t,{closeButton:!0,children:(0,v.tZ)("h4",{children:a.title})}),(0,v.BX)(e,{children:[(0,v.tZ)("p",{children:(0,u.t)("Multiple queries were used to create this widget visualization. Which query would you like to view in Discover?")}),this.renderQueries()]})]})}}y.displayName="DashboardWidgetQuerySelectorModal";const x=(0,r.Z)(o.Z,{target:"e10oo76w4"})({name:"97snz3",styles:"text-overflow:ellipsis;padding:0px;box-shadow:none;height:auto;&:disabled{border:none;cursor:default;}"}),A=(0,r.Z)("div",{target:"e10oo76w3"})("display:flex;margin-bottom:",(0,c.Z)(1),";"),b=(0,r.Z)(n.ZP,{target:"e10oo76w2"})("margin-left:",(0,c.Z)(1),";"),T=(0,r.Z)("div",{target:"e10oo76w1"})("border:1px solid ",(e=>e.theme.border),";box-shadow:inset ",(e=>e.theme.dropShadowLight),";background:",(e=>e.theme.backgroundSecondary),";padding:7px ",(0,c.Z)(1),";position:relative;display:grid;grid-template-columns:max-content 1fr max-content;gap:",(0,c.Z)(1),";align-items:start;flex-grow:1;border-radius:",(e=>e.theme.borderRadius),";"),k=(0,r.Z)("label",{target:"e10oo76w0"})("display:flex;padding:",(0,c.Z)(.5)," 0;margin:0;color:",(e=>e.theme.gray300),";"),S={name:"l07bt5",styles:"width:100%;max-width:700px;margin:70px auto"},E=(0,h.Z)((0,g.Z)(y))},"./app/components/searchSyntax/parser.tsx":(e,t,a)=>{"use strict";a.d(t,{WU:()=>p,oV:()=>h,vA:()=>m,J$:()=>y,iq:()=>b,UG:()=>S});var r=a("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=(a("../node_modules/core-js/modules/web.dom-collections.iterator.js"),a("../node_modules/moment/moment.js")),i=a.n(s),n=a("./app/locale.tsx"),o=a("./app/utils/discover/fields.tsx"),l=a("./app/components/searchSyntax/grammar.pegjs"),u=a.n(l),c=a("./app/components/searchSyntax/utils.tsx");const d=e=>{let[t,a,r,s,i]=e;return{separator:[t.value,a,r.value].join(""),value:i}};let p,h,g,m;!function(e){e.Spaces="spaces",e.Filter="filter",e.FreeText="freeText",e.LogicGroup="logicGroup",e.LogicBoolean="logicBoolean",e.KeySimple="keySimple",e.KeyExplicitTag="keyExplicitTag",e.KeyAggregate="keyAggregate",e.KeyAggregateArgs="keyAggregateArgs",e.KeyAggregateParam="keyAggregateParam",e.ValueIso8601Date="valueIso8601Date",e.ValueRelativeDate="valueRelativeDate",e.ValueDuration="valueDuration",e.ValuePercentage="valuePercentage",e.ValueBoolean="valueBoolean",e.ValueNumber="valueNumber",e.ValueText="valueText",e.ValueNumberList="valueNumberList",e.ValueTextList="valueTextList"}(p||(p={})),function(e){e.Default="",e.GreaterThanEqual=">=",e.LessThanEqual="<=",e.GreaterThan=">",e.LessThan="<",e.Equal="=",e.NotEqual="!="}(h||(h={})),function(e){e.And="AND",e.Or="OR"}(g||(g={})),function(e){e.Text="text",e.TextIn="textIn",e.Date="date",e.SpecificDate="specificDate",e.RelativeDate="relativeDate",e.Duration="duration",e.Numeric="numeric",e.NumericIn="numericIn",e.Boolean="boolean",e.AggregateDuration="aggregateDuration",e.AggregatePercentage="aggregatePercentage",e.AggregateNumeric="aggregateNumeric",e.AggregateDate="aggregateDate",e.AggregateRelativeDate="aggregateRelativeDate",e.Has="has",e.Is="is"}(m||(m={}));const f=[h.Default,h.GreaterThanEqual,h.LessThanEqual,h.GreaterThan,h.LessThan,h.Equal,h.NotEqual],v=[h.Default,h.NotEqual],y={[m.SpecificDate]:[m.Date],[m.Date]:[m.SpecificDate]},x=[p.KeySimple,p.KeyExplicitTag],A={b:1e9,m:1e6,k:1e3},b={[m.Text]:{validKeys:x,validOps:v,validValues:[p.ValueText],canNegate:!0},[m.TextIn]:{validKeys:x,validOps:[],validValues:[p.ValueTextList],canNegate:!0},[m.Date]:{validKeys:[p.KeySimple],validOps:f,validValues:[p.ValueIso8601Date],canNegate:!1},[m.SpecificDate]:{validKeys:[p.KeySimple],validOps:[],validValues:[p.ValueIso8601Date],canNegate:!1},[m.RelativeDate]:{validKeys:[p.KeySimple],validOps:[],validValues:[p.ValueRelativeDate],canNegate:!1},[m.Duration]:{validKeys:[p.KeySimple],validOps:f,validValues:[p.ValueDuration],canNegate:!0},[m.Numeric]:{validKeys:[p.KeySimple],validOps:f,validValues:[p.ValueNumber],canNegate:!0},[m.NumericIn]:{validKeys:[p.KeySimple],validOps:[],validValues:[p.ValueNumberList],canNegate:!0},[m.Boolean]:{validKeys:[p.KeySimple],validOps:v,validValues:[p.ValueBoolean],canNegate:!0},[m.AggregateDuration]:{validKeys:[p.KeyAggregate],validOps:f,validValues:[p.ValueDuration],canNegate:!0},[m.AggregateNumeric]:{validKeys:[p.KeyAggregate],validOps:f,validValues:[p.ValueNumber],canNegate:!0},[m.AggregatePercentage]:{validKeys:[p.KeyAggregate],validOps:f,validValues:[p.ValuePercentage],canNegate:!0},[m.AggregateDate]:{validKeys:[p.KeyAggregate],validOps:f,validValues:[p.ValueIso8601Date],canNegate:!0},[m.AggregateRelativeDate]:{validKeys:[p.KeyAggregate],validOps:f,validValues:[p.ValueRelativeDate],canNegate:!0},[m.Has]:{validKeys:[p.KeySimple],validOps:v,validValues:[],canNegate:!0},[m.Is]:{validKeys:[p.KeySimple],validOps:v,validValues:[p.ValueText],canNegate:!0}},T={textOperatorKeys:new Set(["release.version","release.build","release.package","release.stage"]),durationKeys:new Set(["transaction.duration"]),percentageKeys:new Set(["percentage"]),numericKeys:new Set(["project_id","project.id","issue.id","stack.colno","stack.lineno","stack.stack_level","transaction.duration","apdex","p75","p95","p99","failure_rate","count_miserable","user_misery","count_miserable_new","user_miser_new"]),dateKeys:new Set(["start","end","first_seen","last_seen","time","event.timestamp","timestamp","timestamp.to_hour","timestamp.to_day","transaction.start_time","transaction.end_time"]),booleanKeys:new Set(["error.handled","error.unhandled","stack.in_app","team_key_transaction"]),allowBoolean:!0},k={TokenConverter:class{constructor(e){let{text:t,location:a,config:s}=e;(0,r.Z)(this,"text",void 0),(0,r.Z)(this,"location",void 0),(0,r.Z)(this,"config",void 0),(0,r.Z)(this,"keyValidation",{isNumeric:e=>this.config.numericKeys.has(e)||(0,o.Xr)(e)||(0,o.yK)(e),isBoolean:e=>this.config.booleanKeys.has(e),isPercentage:e=>this.config.percentageKeys.has(e),isDate:e=>this.config.dateKeys.has(e),isDuration:e=>this.config.durationKeys.has(e)||(0,o.yK)(e)||"duration"===(0,o.Cq)(e)}),(0,r.Z)(this,"tokenSpaces",(e=>({...this.defaultTokenFields,type:p.Spaces,value:e}))),(0,r.Z)(this,"tokenFilter",((e,t,a,r,s)=>{const i={type:p.Filter,filter:e,key:t,value:a,negated:s,operator:null!=r?r:h.Default,invalid:this.checkInvalidFilter(e,t,a)};return{...this.defaultTokenFields,...i}})),(0,r.Z)(this,"tokenFreeText",((e,t)=>({...this.defaultTokenFields,type:p.FreeText,value:e,quoted:t}))),(0,r.Z)(this,"tokenLogicGroup",(e=>({...this.defaultTokenFields,type:p.LogicGroup,inner:e}))),(0,r.Z)(this,"tokenLogicBoolean",(e=>({...this.defaultTokenFields,type:p.LogicBoolean,value:e}))),(0,r.Z)(this,"tokenKeySimple",((e,t)=>({...this.defaultTokenFields,type:p.KeySimple,value:e,quoted:t}))),(0,r.Z)(this,"tokenKeyExplicitTag",((e,t)=>({...this.defaultTokenFields,type:p.KeyExplicitTag,prefix:e,key:t}))),(0,r.Z)(this,"tokenKeyAggregateParam",((e,t)=>({...this.defaultTokenFields,type:p.KeyAggregateParam,value:e,quoted:t}))),(0,r.Z)(this,"tokenKeyAggregate",((e,t,a,r)=>({...this.defaultTokenFields,type:p.KeyAggregate,name:e,args:t,argsSpaceBefore:a,argsSpaceAfter:r}))),(0,r.Z)(this,"tokenKeyAggregateArgs",((e,t)=>({...this.defaultTokenFields,type:p.KeyAggregateArgs,args:[{separator:"",value:e},...t.map(d)]}))),(0,r.Z)(this,"tokenValueIso8601Date",(e=>({...this.defaultTokenFields,type:p.ValueIso8601Date,value:i()(e)}))),(0,r.Z)(this,"tokenValueRelativeDate",((e,t,a)=>({...this.defaultTokenFields,type:p.ValueRelativeDate,value:Number(e),sign:t,unit:a}))),(0,r.Z)(this,"tokenValueDuration",((e,t)=>({...this.defaultTokenFields,type:p.ValueDuration,value:Number(e),unit:t}))),(0,r.Z)(this,"tokenValuePercentage",(e=>({...this.defaultTokenFields,type:p.ValuePercentage,value:Number(e)}))),(0,r.Z)(this,"tokenValueBoolean",(e=>({...this.defaultTokenFields,type:p.ValueBoolean,value:["1","true"].includes(e.toLowerCase())}))),(0,r.Z)(this,"tokenValueNumber",((e,t)=>{var a;return{...this.defaultTokenFields,type:p.ValueNumber,value:e,rawValue:Number(e)*(null!==(a=A[t])&&void 0!==a?a:1),unit:t}})),(0,r.Z)(this,"tokenValueNumberList",((e,t)=>({...this.defaultTokenFields,type:p.ValueNumberList,items:[{separator:"",value:e},...t.map(d)]}))),(0,r.Z)(this,"tokenValueTextList",((e,t)=>({...this.defaultTokenFields,type:p.ValueTextList,items:[{separator:"",value:e},...t.map(d)]}))),(0,r.Z)(this,"tokenValueText",((e,t)=>({...this.defaultTokenFields,type:p.ValueText,value:e,quoted:t}))),(0,r.Z)(this,"predicateFilter",((e,t)=>{const a=(0,c.Ck)(t),r=t,{isNumeric:s,isDuration:i,isBoolean:n,isDate:o,isPercentage:l}=this.keyValidation,u=e=>{var t;return null===(t=r.args)||void 0===t?void 0:t.args.some((t=>{var a,r;return e(null!==(a=null==t||null===(r=t.value)||void 0===r?void 0:r.value)&&void 0!==a?a:"")}))};switch(e){case m.Numeric:case m.NumericIn:return s(a);case m.Duration:return i(a);case m.Boolean:return n(a);case m.Date:case m.RelativeDate:case m.SpecificDate:return o(a);case m.AggregateDuration:return u(i);case m.AggregateDate:return u(o);case m.AggregatePercentage:return u(l);default:return!0}})),(0,r.Z)(this,"predicateTextOperator",(e=>this.config.textOperatorKeys.has((0,c.Ck)(e)))),(0,r.Z)(this,"checkInvalidFilter",((e,t,a)=>e===m.Text?this.checkInvalidTextFilter(t,a):e===m.Is||e===m.Has?this.checkInvalidTextValue(a):[m.TextIn,m.NumericIn].includes(e)?this.checkInvalidInFilter(a):null)),(0,r.Z)(this,"checkInvalidTextFilter",((e,t)=>{if(e.type===p.KeyExplicitTag)return this.checkInvalidTextValue(t);const a=(0,c.Ck)(e);if(this.keyValidation.isDuration(a))return{reason:(0,n.t)("Invalid duration. Expected number followed by duration unit suffix"),expectedType:[m.Duration]};if(this.keyValidation.isDate(a)){const e=new Date;e.setSeconds(0),e.setMilliseconds(0);const t=e.toISOString();return{reason:(0,n.t)("Invalid date format. Expected +/-duration (e.g. +1h) or ISO 8601-like (e.g. %s or %s)",t.slice(0,10),t),expectedType:[m.Date,m.SpecificDate,m.RelativeDate]}}return this.keyValidation.isBoolean(a)?{reason:(0,n.t)("Invalid boolean. Expected true, 1, false, or 0."),expectedType:[m.Boolean]}:this.keyValidation.isNumeric(a)?{reason:(0,n.t)("Invalid number. Expected number then optional k, m, or b suffix (e.g. 500k)"),expectedType:[m.Numeric,m.NumericIn]}:this.checkInvalidTextValue(t)})),(0,r.Z)(this,"checkInvalidTextValue",(e=>!e.quoted&&/(^|[^\\])"/.test(e.value)?{reason:(0,n.t)("Quotes must enclose text or be escaped")}:e.quoted||""!==e.value?null:{reason:(0,n.t)("Filter must have a value")})),(0,r.Z)(this,"checkInvalidInFilter",(e=>{let{items:t}=e;return t.some((e=>null===e.value))?{reason:(0,n.t)("Lists should not have empty values")}:null})),this.text=t,this.location=a,this.config=s}get defaultTokenFields(){return{text:this.text(),location:this.location()}}},TermOperator:h,FilterType:m,config:T};function S(e){try{return u().parse(e,k)}catch(e){}return null}},"./app/components/smartSearchBar/types.tsx":(e,t,a)=>{"use strict";let r;a.d(t,{q:()=>r}),function(e){e.DEFAULT="default",e.TAG_KEY="tag-key",e.TAG_VALUE="tag-value",e.TAG_OPERATOR="tag-operator",e.FIRST_RELEASE="first-release",e.INVALID_TAG="invalid-tag",e.RECENT_SEARCH="recent-search",e.PROPERTY="property"}(r||(r={}))},"./app/views/dashboardsV2/utils.tsx":(e,t,a)=>{"use strict";a.d(t,{qk:()=>T,tT:()=>k,y1:()=>E,DW:()=>_,s:()=>Z,Mf:()=>D,z1:()=>w,hS:()=>V}),a("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=a("../node_modules/lodash/cloneDeep.js"),s=a.n(r),i=a("../node_modules/lodash/pick.js"),n=a.n(i),o=a("../node_modules/query-string/index.js"),l=a("./images/dashboard/widget-area.svg"),u=a("./images/dashboard/widget-bar.svg"),c=a("./images/dashboard/widget-big-number.svg"),d=a("./images/dashboard/widget-line-1.svg"),p=a("./images/dashboard/widget-table.svg"),h=a("./images/dashboard/widget-world-map.svg"),g=a("./app/components/arithmeticInput/parser.tsx"),m=a("./app/components/charts/utils.tsx"),f=a("./app/utils.tsx"),v=a("./app/utils/dates.tsx"),y=a("./app/utils/discover/eventView.tsx"),x=a("./app/utils/discover/fields.tsx"),A=a("./app/utils/discover/types.tsx"),b=a("./app/views/dashboardsV2/types.tsx");function T(e){return s()(e)}function k(e,t,a,r){const{start:s,end:i,period:n}=a.datetime,{projects:o,environments:l}=a,u=r!==b.FO.WORLD_MAP||t.columns.includes("geo.country_code")?[...t.columns,...t.aggregates]:["geo.country_code",...t.columns,...t.aggregates],c=r!==b.FO.WORLD_MAP||t.conditions.includes("has:geo.country_code")?t.conditions:`${t.conditions} has:geo.country_code`.trim();return y.ZP.fromSavedQuery({id:void 0,name:e,version:2,fields:u,query:c,orderby:t.orderby,projects:o,range:null!=n?n:void 0,start:s?(0,v.v5)(s):void 0,end:i?(0,v.v5)(i):void 0,environment:l})}function S(e){return"string"==typeof e?[e]:e}function E(e){if(e){const t=S(e.queryNames),a=S(e.queryConditions),r=S(e.queryFields),s=[];if(a&&t&&r&&"string"==typeof e.queryOrderby){const{columns:i,aggregates:n}=(0,x.n0)(r);a.forEach(((a,o)=>{s.push({name:t[o],conditions:a,fields:r,columns:i,aggregates:n,orderby:e.queryOrderby})}))}if(e.title&&e.displayType&&e.interval&&s.length>0)return{...n()(e,["title","displayType","interval"]),widgetType:b.l9.DISCOVER,queries:s}}}function _(e){switch(e){case b.FO.BAR:return u;case b.FO.AREA:case b.FO.TOP_N:return l;case b.FO.BIG_NUMBER:return c;case b.FO.TABLE:return p;case b.FO.WORLD_MAP:return h;case b.FO.LINE:default:return d}}function Z(e,t){let a="bar"===e.displayType?"1d":e.interval;a||(a="5m");const r=(0,v.YJ)(a);if((0,m.Nm)(t)/(60*r)>66){const e=(0,m.ZS)(t,"high");if(r<(0,v.YJ)(e))return e}return a}function D(e){const t=new Set;return e.filter(x.GO).forEach((e=>{const a=(0,g.W9)((0,x.bQ)(e)).tc;a.fields.forEach((e=>{let{term:a}=e;return t.add(a)})),a.functions.forEach((e=>{let{term:a}=e;return t.add(a)}))})),Array.from(t)}function w(e,t,a){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const s=k(e.title,e.queries[r],t,e.displayType),i=s.getResultsViewUrlTarget(a.slug),n=s.getYAxisOptions().map((e=>{let{value:t}=e;return t}));switch(i.query.yAxis=[...new Set(e.queries[0].aggregates.filter((e=>n.includes(e))))].slice(0,3),e.displayType){case b.FO.WORLD_MAP:i.query.display=A.DC.WORLDMAP;break;case b.FO.BAR:i.query.display=A.DC.BAR;break;case b.FO.TOP_N:i.query.display=A.DC.TOP5;const t=e.queries[0].aggregates;i.query.yAxis=t[t.length-1],t.slice(0,-1).includes(t[t.length-1])&&(i.query.field=t.slice(0,-1))}const l=i.query.field,u=e.queries[0],c=(0,f.ri)(u.fields)?u.fields:[...u.columns,...u.aggregates],d=D(c);d.forEach((e=>{Array.isArray(l)&&!l.includes(e)&&l.unshift(e)}));const p=`${i.pathname}?${o.stringify({...i.query})}`;return p}function V(e,t,a){var r,s,i,n;const{start:l,end:u,utc:c,period:d}=t.datetime,p=l&&u?{start:(0,v.v5)(l),end:(0,v.v5)(u),utc:c}:{statsPeriod:d};return`/organizations/${a.slug}/issues/?${o.stringify({query:null===(r=e.queries)||void 0===r||null===(s=r[0])||void 0===s?void 0:s.conditions,sort:null===(i=e.queries)||void 0===i||null===(n=i[0])||void 0===n?void 0:n.orderby,...p})}`}},"./app/views/dashboardsV2/widgetBuilder/issueWidget/fields.tsx":(e,t,a)=>{"use strict";let r;a.d(t,{Sh:()=>r,$L:()=>s,kh:()=>i}),function(e){e.ASSIGNEE="assignee",e.TITLE="title",e.ISSUE="issue",e.LEVEL="level",e.STATUS="status",e.PLATFORM="platform",e.IS_BOOKMARKED="isBookmarked",e.IS_SUBSCRIBED="isSubscribed",e.IS_HANDLED="isHandled",e.LAST_SEEN="lastSeen",e.FIRST_SEEN="firstSeen",e.EVENTS="events",e.USERS="users",e.LIFETIME_EVENTS="lifetimeEvents",e.LIFETIME_USERS="lifetimeUsers",e.PROJECT="project",e.LINKS="links"}(r||(r={}));const s={[r.ASSIGNEE]:"string",[r.TITLE]:"string",[r.ISSUE]:"string",[r.LEVEL]:"string",[r.STATUS]:"string",[r.PLATFORM]:"string",[r.IS_BOOKMARKED]:"boolean",[r.IS_SUBSCRIBED]:"boolean",[r.IS_HANDLED]:"boolean",[r.LAST_SEEN]:"date",[r.FIRST_SEEN]:"date",[r.EVENTS]:"string",[r.USERS]:"string",[r.LIFETIME_EVENTS]:"string",[r.LIFETIME_USERS]:"string",[r.PROJECT]:"string",[r.LINKS]:"string"},i={[r.LIFETIME_EVENTS]:"Lifetime Events",[r.LIFETIME_USERS]:"Lifetime Users"}},"../node_modules/lodash/assign.js":(e,t,a)=>{var r=a("../node_modules/lodash/_assignValue.js"),s=a("../node_modules/lodash/_copyObject.js"),i=a("../node_modules/lodash/_createAssigner.js"),n=a("../node_modules/lodash/isArrayLike.js"),o=a("../node_modules/lodash/_isPrototype.js"),l=a("../node_modules/lodash/keys.js"),u=Object.prototype.hasOwnProperty,c=i((function(e,t){if(o(t)||n(t))s(t,l(t),e);else for(var a in t)u.call(t,a)&&r(e,a,t[a])}));e.exports=c},"./app/components/arithmeticInput/grammar.pegjs":e=>{"use strict";function t(e,a,r,s){this.message=e,this.expected=a,this.found=r,this.location=s,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}!function(e,t){function a(){this.constructor=e}a.prototype=t.prototype,e.prototype=new a}(t,Error),t.buildMessage=function(e,t){var a={literal:function(e){return'"'+s(e.text)+'"'},class:function(e){var t,a="";for(t=0;t<e.parts.length;t++)a+=e.parts[t]instanceof Array?i(e.parts[t][0])+"-"+i(e.parts[t][1]):i(e.parts[t]);return"["+(e.inverted?"^":"")+a+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function s(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}return"Expected "+function(e){var t,r,s,i=new Array(e.length);for(t=0;t<e.length;t++)i[t]=(s=e[t],a[s.type](s));if(i.sort(),i.length>0){for(t=1,r=1;t<i.length;t++)i[t-1]!==i[t]&&(i[r]=i[t],r++);i.length=r}switch(i.length){case 1:return i[0];case 2:return i[0]+" or "+i[1];default:return i.slice(0,-1).join(", ")+", or "+i[i.length-1]}}(e)+" but "+function(e){return e?'"'+s(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:t,parse:function(e,a){a=void 0!==a?a:{};var r,s={},i={term:Q},n=Q,o=function(e,t){return ne.tokenOperation(e,t)},l=U("+",!1),u=U("-",!1),c=U("*",!1),d=/^[\/\xF7]/,p=G(["/","Ã·"],!1,!1),h=W("function"),g=W("number"),m=/^[+\-]/,f=G(["+","-"],!1,!1),v=/^[0-9]/,y=G([["0","9"]],!1,!1),x=U(".",!1),A=W("field"),b=/^[a-zA-Z_.]/,T=G([["a","z"],["A","Z"],"_","."],!1,!1),k=/^[^()\t\n, "]/,S=G(["(",")","\t","\n",","," ",'"'],!0,!1),E=U('"',!1),_='\\"',Z=U('\\"',!1),D=/^[^\t\n"]/,w=G(["\t","\n",'"'],!0,!1),V=/^[a-zA-Z_0-9]/,F=G([["a","z"],["A","Z"],"_",["0","9"]],!1,!1),I=U(",",!1),N=U("(",!1),O=U(")",!1),K=U(" ",!1),L=0,R=0,q=[{line:1,column:1}],j=0,B=[],C=0;if("startRule"in a){if(!(a.startRule in i))throw new Error("Can't start parsing from rule \""+a.startRule+'".');n=i[a.startRule]}function P(){return e.substring(R,L)}function M(){return H(R,L)}function U(e,t){return{type:"literal",text:e,ignoreCase:t}}function G(e,t,a){return{type:"class",parts:e,inverted:t,ignoreCase:a}}function W(e){return{type:"other",description:e}}function z(t){var a,r=q[t];if(r)return r;for(a=t-1;!q[a];)a--;for(r={line:(r=q[a]).line,column:r.column};a<t;)10===e.charCodeAt(a)?(r.line++,r.column=1):r.column++,a++;return q[t]=r,r}function H(e,t){var a=z(e),r=z(t);return{start:{offset:e,line:a.line,column:a.column},end:{offset:t,line:r.line,column:r.column}}}function X(e){L<j||(L>j&&(j=L,B=[]),B.push(e))}function Q(){var e,t,a,r,i;return e=L,(t=Y())!==s&&(a=function(){var e,t;for(e=[],t=$();t!==s;)e.push(t),t=$();return e}())!==s?(R=e,r=t,i=a,e=t=ne.tokenTerm(r,i)):(L=e,e=s),e}function $(){var t,a,r;return t=L,(a=function(){var t,a;return t=L,ie()!==s?((a=function(){var t,a;return t=L,43===e.charCodeAt(L)?(a="+",L++):(a=s,0===C&&X(l)),a!==s&&(R=t,a="plus"),a}())===s&&(a=function(){var t,a;return t=L,45===e.charCodeAt(L)?(a="-",L++):(a=s,0===C&&X(u)),a!==s&&(R=t,a="minus"),a}()),a!==s&&ie()!==s?(R=t,t=a):(L=t,t=s)):(L=t,t=s),t}())!==s&&(r=Y())!==s?(R=t,t=a=o(a,r)):(L=t,t=s),t}function Y(){var e,t;return e=L,ie()!==s?((t=function(){var e,t,a,r,i;return e=L,(t=ee())!==s&&(a=function(){var e,t;if(e=[],(t=J())!==s)for(;t!==s;)e.push(t),t=J();else e=s;return e}())!==s?(R=e,r=t,i=a,e=t=ne.tokenFactor(r,i)):(L=e,e=s),e}())===s&&(t=ee()),t!==s&&ie()!==s?(R=e,e=t):(L=e,e=s)):(L=e,e=s),e}function J(){var t,a,r;return t=L,(a=function(){var t,a;return t=L,ie()!==s?((a=function(){var t,a;return t=L,42===e.charCodeAt(L)?(a="*",L++):(a=s,0===C&&X(c)),a!==s&&(R=t,a="multiply"),a}())===s&&(a=function(){var t,a;return t=L,d.test(e.charAt(L))?(a=e.charAt(L),L++):(a=s,0===C&&X(p)),a!==s&&(R=t,a="divide"),a}()),a!==s&&ie()!==s?(R=t,t=a):(L=t,t=s)):(L=t,t=s),t}())!==s&&(r=ee())!==s?(R=t,t=a=o(a,r)):(L=t,t=s),t}function ee(){var t,a;return t=L,ie()!==s?((a=function(){var e,t;return e=L,re()!==s&&(t=Q())!==s&&se()!==s?(R=e,e=t):(L=e,e=s),e}())===s&&(a=function(){var t,a,r,i,n,o,l;if(C++,t=L,m.test(e.charAt(L))?(a=e.charAt(L),L++):(a=s,0===C&&X(f)),a===s&&(a=null),a!==s){if(r=[],v.test(e.charAt(L))?(i=e.charAt(L),L++):(i=s,0===C&&X(y)),i!==s)for(;i!==s;)r.push(i),v.test(e.charAt(L))?(i=e.charAt(L),L++):(i=s,0===C&&X(y));else r=s;if(r!==s){if(i=L,46===e.charCodeAt(L)?(n=".",L++):(n=s,0===C&&X(x)),n!==s){for(o=[],v.test(e.charAt(L))?(l=e.charAt(L),L++):(l=s,0===C&&X(y));l!==s;)o.push(l),v.test(e.charAt(L))?(l=e.charAt(L),L++):(l=s,0===C&&X(y));o!==s?i=n=[n,o]:(L=i,i=s)}else L=i,i=s;i===s&&(i=null),i!==s?(R=t,t=a=P()):(L=t,t=s)}else L=t,t=s}else L=t,t=s;return C--,t===s&&(a=s,0===C&&X(g)),t}())===s&&(a=function(){var t,a;return C++,t=L,function(){var t,a;if(t=[],V.test(e.charAt(L))?(a=e.charAt(L),L++):(a=s,0===C&&X(F)),a!==s)for(;a!==s;)t.push(a),V.test(e.charAt(L))?(a=e.charAt(L),L++):(a=s,0===C&&X(F));else t=s;return t}()!==s&&re()!==s&&ie()!==s?((a=function(){var e,t,a,r,i,n,o,l;if(e=L,(t=te())!==s){for(a=[],r=L,(i=ie())!==s&&(n=ae())!==s&&(o=ie())!==s&&(l=te())!==s?r=i=[i,n,o,l]:(L=r,r=s);r!==s;)a.push(r),r=L,(i=ie())!==s&&(n=ae())!==s&&(o=ie())!==s&&(l=te())!==s?r=i=[i,n,o,l]:(L=r,r=s);a!==s?e=t=[t,a]:(L=e,e=s)}else L=e,e=s;return e}())===s&&(a=null),a!==s&&ie()!==s&&se()!==s?(R=t,t=ne.tokenFunction(P(),M())):(L=t,t=s)):(L=t,t=s),C--,t===s&&0===C&&X(h),t}())===s&&(a=function(){var t,a,r;if(C++,t=L,a=[],b.test(e.charAt(L))?(r=e.charAt(L),L++):(r=s,0===C&&X(T)),r!==s)for(;r!==s;)a.push(r),b.test(e.charAt(L))?(r=e.charAt(L),L++):(r=s,0===C&&X(T));else a=s;return a!==s&&(R=t,a=ne.tokenField(P(),M())),C--,(t=a)===s&&(a=s,0===C&&X(A)),t}()),a!==s&&ie()!==s?(R=t,t=a):(L=t,t=s)):(L=t,t=s),t}function te(){var t;return(t=function(){var t,a,r,i;if(t=L,34===e.charCodeAt(L)?(a='"',L++):(a=s,0===C&&X(E)),a!==s){for(r=[],e.substr(L,2)===_?(i=_,L+=2):(i=s,0===C&&X(Z)),i===s&&(D.test(e.charAt(L))?(i=e.charAt(L),L++):(i=s,0===C&&X(w)));i!==s;)r.push(i),e.substr(L,2)===_?(i=_,L+=2):(i=s,0===C&&X(Z)),i===s&&(D.test(e.charAt(L))?(i=e.charAt(L),L++):(i=s,0===C&&X(w)));r!==s?(34===e.charCodeAt(L)?(i='"',L++):(i=s,0===C&&X(E)),i!==s?t=a=[a,r,i]:(L=t,t=s)):(L=t,t=s)}else L=t,t=s;return t}())===s&&(t=function(){var t,a;if(t=[],k.test(e.charAt(L))?(a=e.charAt(L),L++):(a=s,0===C&&X(S)),a!==s)for(;a!==s;)t.push(a),k.test(e.charAt(L))?(a=e.charAt(L),L++):(a=s,0===C&&X(S));else t=s;return t}()),t}function ae(){var t;return 44===e.charCodeAt(L)?(t=",",L++):(t=s,0===C&&X(I)),t}function re(){var t;return 40===e.charCodeAt(L)?(t="(",L++):(t=s,0===C&&X(N)),t}function se(){var t;return 41===e.charCodeAt(L)?(t=")",L++):(t=s,0===C&&X(O)),t}function ie(){var t,a;for(t=[],32===e.charCodeAt(L)?(a=" ",L++):(a=s,0===C&&X(K));a!==s;)t.push(a),32===e.charCodeAt(L)?(a=" ",L++):(a=s,0===C&&X(K));return t}const{tc:ne,term:oe}=a;if((r=n())!==s&&L===e.length)return r;throw r!==s&&L<e.length&&X({type:"end"}),function(e,a,r){return new t(t.buildMessage(e,a),e,a,r)}(B,j<e.length?e.charAt(j):null,j<e.length?H(j,j+1):H(j,j))}}}}]);
//# sourceMappingURL=../sourcemaps/app_components_forms_apiForm_tsx-app_components_forms_checkboxField_tsx-app_components_modals-7ad334.da63fcb9b34640afa5a858eb5d96a36c.js.map
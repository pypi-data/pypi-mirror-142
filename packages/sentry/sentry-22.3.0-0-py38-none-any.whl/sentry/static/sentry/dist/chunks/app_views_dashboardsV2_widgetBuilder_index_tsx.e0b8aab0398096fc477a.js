"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_dashboardsV2_widgetBuilder_index_tsx"],{"./app/utils/performance/spanOperationBreakdowns/constants.tsx":(e,t,i)=>{i.d(t,{$:()=>r});const r=["spans.browser","spans.http","spans.db","spans.resource"]},"./app/views/dashboardsV2/widgetBuilder/index.tsx":(e,t,i)=>{i.r(t),i.d(t,{default:()=>ot});var r=i("../node_modules/react/index.js"),s=i("./app/components/acl/feature.tsx"),a=i("./app/components/alert.tsx"),n=i("./app/locale.tsx"),o=i("./app/styles/organization.tsx"),d=i("./app/utils/useOrganization.tsx"),l=i("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),u=(i("../node_modules/core-js/modules/web.dom-collections.iterator.js"),i("../node_modules/core-js/modules/es.string.replace.js"),i("../node_modules/lodash/cloneDeep.js")),c=i.n(u),p=i("../node_modules/lodash/isEmpty.js"),g=i.n(p),m=i("../node_modules/lodash/omit.js"),h=i.n(m),y=i("../node_modules/lodash/set.js"),b=i.n(y),f=i("./app/actionCreators/dashboards.tsx"),v=i("./app/actionCreators/indicator.tsx"),Z=i("./app/components/button.tsx"),w=i("./app/components/dashboards/widgetQueriesForm.tsx"),T=i("./app/components/events/searchBar.tsx"),x=i("./app/components/forms/controls/input.tsx"),S=i("./app/components/forms/controls/radioGroup.tsx"),E=i("./app/components/forms/field/index.tsx"),q=i("./app/components/forms/selectControl.tsx"),O=i("./app/components/layouts/thirds.tsx"),C=i("./app/components/links/externalLink.tsx"),k=i("./app/components/list/index.tsx"),B=i("./app/components/loadingError.tsx"),N=i("./app/components/organizations/pageFilters/container.tsx"),_=i("./app/components/panels/index.tsx"),F=i("./app/components/sentryDocumentTitle.tsx"),L=i("./app/constants/index.tsx"),I=i("./app/icons/index.tsx"),D=i("./app/styles/space.tsx"),A=i("./app/utils.tsx"),V=i("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),R=i("./app/utils/discover/fields.tsx"),j=i("./app/utils/handleXhrErrorResponse.tsx"),z=i("./app/utils/measurements/measurements.tsx"),U=i("./app/utils/metrics/fields.tsx"),P=i("./app/utils/performance/spanOperationBreakdowns/constants.tsx"),W=i("./app/utils/useApi.tsx"),M=i("./app/utils/withPageFilters.tsx"),H=i("./app/utils/withTags.tsx"),$=i("./app/views/dashboardsV2/layoutUtils.tsx"),X=i("./app/views/dashboardsV2/types.tsx"),G=i("./app/views/dashboardsV2/widgetBuilder/issueWidget/utils.tsx"),Y=i("./app/views/eventsV2/utils.tsx"),Q=i("./app/views/issueList/utils.tsx"),K=i("./app/views/dashboardsV2/data.tsx"),J=i("./app/views/dashboardsV2/widgetCard/index.tsx"),ee=i("./app/components/list/listItem.tsx"),te=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function ie(e){let{title:t,description:i,required:r=!1,children:s}=e;return(0,te.BX)(se,{children:[(0,te.BX)(ae,{children:[t,r&&(0,te.tZ)(de,{})]}),(0,te.tZ)(ne,{children:i}),(0,te.tZ)(oe,{children:s})]})}ie.displayName="BuildStep";const re=ie,se=(0,l.Z)(ee.Z,{target:"eweyvbr4"})({name:"vetbs0",styles:"display:grid"}),ae=(0,l.Z)("h5",{target:"eweyvbr3"})("margin-bottom:0;color:",(e=>e.theme.gray500),";"),ne=(0,l.Z)("small",{target:"eweyvbr2"})("color:",(e=>e.theme.gray300),";padding:",(0,D.Z)(.25)," ",(0,D.Z)(2)," ",(0,D.Z)(2)," 0;@media (max-width: ",(e=>e.theme.breakpoints[0]),"){padding-top:",(0,D.Z)(1),";margin-left:-",(0,D.Z)(4),";}"),oe=(0,l.Z)("div",{target:"eweyvbr1"})("display:grid;@media (max-width: ",(e=>e.theme.breakpoints[0]),"){margin-left:-",(0,D.Z)(4),";}"),de=(0,l.Z)("div",{target:"eweyvbr0"})("background:",(e=>e.theme.red300),";opacity:0.6;width:5px;height:5px;border-radius:5px;margin-left:",(0,D.Z)(.5),";display:inline-block;vertical-align:super;");var le=i("./app/views/eventsV2/table/columnEditCollection.tsx"),ue=i("./app/views/dashboardsV2/widgetBuilder/utils.tsx");function ce(e){var t;let{aggregates:i,columns:r,displayType:s,fieldOptions:a,widgetType:n,fields:o,organization:d,errors:l,onChange:u}=e;return(0,te.tZ)(E.Z,{inline:!1,error:null==l||null===(t=l.find((e=>null==e?void 0:e.fields)))||void 0===t?void 0:t.fields,flexibleControlStateSize:!0,stacked:!0,children:s===ue.FO.TABLE?(0,te.tZ)(pe,{columns:o,onChange:u,fieldOptions:a,organization:d,source:n}):(0,te.tZ)(pe,{columns:[...r,...i.slice(0,i.length-1)],onChange:e=>{u([...e,o[o.length-1]])},fieldOptions:a,organization:d,source:n})})}ce.displayName="ColumnFields";const pe=(0,l.Z)(le.Z,{target:"e12ftw8z0"})("margin-top:",(0,D.Z)(1),";");var ge=i("./app/components/forms/selectOption.tsx"),me=i("./app/components/tooltip.tsx");function he(e){let{dashboards:t,disabled:i,onChange:r,error:s}=e;return(0,te.tZ)(E.Z,{inline:!1,flexibleControlStateSize:!0,stacked:!0,error:s,children:(0,te.tZ)(q.Z,{menuPlacement:"auto",name:"dashboard",placeholder:(0,n.t)("Select a dashboard"),options:[{label:(0,n.t)("+ Create New Dashboard"),value:"new"},...t.map((e=>{let{title:t,id:i,widgetDisplay:r}=e;return{label:t,value:i,isDisabled:r.length>=X.ZU}}))],onChange:e=>{e.disabled||r(e)},disabled:i,components:{Option:e=>{let{label:t,data:i,...r}=e;return(0,te.tZ)(me.Z,{disabled:!i.isDisabled,title:(0,n._N)("Max widgets ([maxWidgets]) per dashboard reached.",{maxWidgets:X.ZU}),containerDisplayMode:"block",position:"right",children:(0,te.tZ)(ge.Z,{label:t,data:i,...r})})}}})})}function ye(e){let{displayType:t,onChange:i,error:r}=e;return(0,te.tZ)(E.Z,{error:r,inline:!1,flexibleControlStateSize:!0,stacked:!0,children:(0,te.tZ)(q.Z,{name:"displayType",options:Object.keys(ue.hV).map((e=>({label:ue.hV[e],value:e}))),value:t,onChange:i})})}he.displayName="DashboardSelector",ye.displayName="DisplayTypeSelector";var be=i("./app/components/buttonBar.tsx"),fe=i("./app/components/confirm.tsx");function ve(e){let{goBackLocation:t,onSave:i,onDelete:r,invalidForm:s,isEditing:a}=e;return(0,te.tZ)(we,{children:(0,te.BX)(Ze,{gap:1,children:[(0,te.tZ)(Z.ZP,{to:t,children:(0,n.t)("Cancel")}),a&&r&&(0,te.tZ)(fe.Z,{priority:"danger",message:(0,n.t)("Are you sure you want to delete this widget?"),onConfirm:r,children:(0,te.tZ)(Z.ZP,{priority:"danger",children:(0,n.t)("Delete")})}),(0,te.tZ)(Z.ZP,{priority:"primary",onClick:i,disabled:s,title:s?(0,n.t)("Required fields must be filled out"):void 0,children:a?(0,n.t)("Update Widget"):(0,n.t)("Add Widget")})]})})}ve.displayName="Footer";const Ze=(0,l.Z)(be.ZP,{target:"e1golk021"})("justify-content:flex-end;max-width:1000px;padding:",(0,D.Z)(4)," ",(0,D.Z)(2),";padding-right:calc(",(0,D.Z)(2)," + ",(0,D.Z)(2),");@media (min-width: ",(e=>e.theme.breakpoints[1]),"){padding:",(0,D.Z)(4),";padding-right:calc(",(0,D.Z)(4)," + ",(0,D.Z)(2),");}"),we=(0,l.Z)("div",{target:"e1golk020"})("background:",(e=>e.theme.background),";border-top:1px solid ",(e=>e.theme.gray200),";position:sticky;bottom:0;z-index:",(e=>e.theme.zIndex.initial),";");var Te=i("./app/components/breadcrumbs.tsx"),xe=i("./app/components/editableText.tsx");function Se(e){let{title:t,orgSlug:i,goBackLocation:r,dashboardTitle:s,onChangeTitle:a}=e;return(0,te.BX)(O.h4,{children:[(0,te.BX)(O.oB,{children:[(0,te.tZ)(Te.Z,{crumbs:[{to:`/organizations/${i}/dashboards/`,label:(0,n.t)("Dashboards")},{to:r,label:s},{label:(0,n.t)("Widget Builder")}]}),(0,te.tZ)(O.Dx,{children:(0,te.tZ)(xe.Z,{"aria-label":(0,n.t)("Widget title"),value:t,onChange:a,errorMessage:(0,n.t)("Widget title is required"),maxLength:255})})]}),(0,te.tZ)(O.kP,{children:(0,te.BX)(be.ZP,{gap:1,children:[(0,te.tZ)(Z.ZP,{title:(0,n.t)("How do you like the new widget builder? Send us feedback via email."),href:"mailto:new-widget-builder-experience@sentry.io?subject=New Widget Builder Experience Feedback",children:(0,n.t)("Give Feedback")}),(0,te.tZ)(Z.ZP,{external:!0,href:"https://docs.sentry.io/product/dashboards/custom-dashboards/#widget-builder",children:(0,n.t)("Read the docs")})]})})]})}function Ee(e){let{values:t,sortByOptions:i,onChange:r}=e;return(0,te.BX)(qe,{children:[(0,te.tZ)(q.Z,{name:"sortDirection",menuPlacement:"auto",options:Object.keys(ue.Qj).map((e=>({label:ue.Qj[e],value:e}))),value:t.sortDirection,onChange:e=>{r({sortBy:t.sortBy,sortDirection:e.value})}}),(0,te.tZ)(q.Z,{name:"sortBy",menuPlacement:"auto",placeholder:`${(0,n.t)("Select a column")}â€¦`,value:t.sortBy,options:i,onChange:e=>{r({sortBy:e.value,sortDirection:t.sortDirection})}})]})}Se.displayName="Header",Ee.displayName="SortBySelectors";const qe=(0,l.Z)("div",{target:"e1pfqicr0"})("display:grid;gap:",(0,D.Z)(1),";@media (min-width: ",(e=>e.theme.breakpoints[0]),"){grid-template-columns:200px 1fr;}");var Oe=i("../node_modules/@emotion/react/dist/emotion-element-a8309070.browser.esm.js"),Ce=i("./app/actionCreators/modal.tsx"),ke=i("./app/views/dashboardsV2/widgetLibrary/data.tsx"),Be=i("./app/views/dashboardsV2/widgetBuilder/widgetLibrary/card.tsx");function Ne(e){let{bypassOverwriteModal:t,onWidgetSelect:i}=e;const s=(0,Oe.u)();function a(e,r){return function(){t?i(e):(0,Ce.openWidgetBuilderOverwriteModal)({onConfirm:()=>i(e),widget:e,iconColor:r})}}return(0,te.BX)(r.Fragment,{children:[(0,te.tZ)(Fe,{children:(0,n.t)("Widget Library")}),(0,te.tZ)(_e,{children:ke.c.map(((e,t)=>{const i=s.charts.getColorPalette(ke.c.length-2)[t];return(0,te.tZ)(Le,{onClick:a(e,i),children:(0,te.tZ)(Be.Z,{widget:e,iconColor:i})},e.title)}))})]})}Ne.displayName="WidgetLibrary";const _e=(0,l.Z)("div",{target:"ess72gf2"})({name:"1fttcpj",styles:"display:flex;flex-direction:column"}),Fe=(0,l.Z)("h5",{target:"ess72gf1"})("padding-left:calc(",(0,D.Z)(2)," - ",(0,D.Z)(.25),");"),Le=(0,l.Z)("div",{target:"ess72gf0"})("padding:calc(",(0,D.Z)(2)," - 3px);border:1px solid transparent;border-radius:",(e=>e.theme.borderRadius),";transition:border-color 0.3s ease;cursor:pointer;&:hover{border-color:",(e=>e.theme.gray100),";}");var Ie=i("./app/views/eventsV2/table/queryField.tsx"),De=i("./app/views/eventsV2/table/types.tsx");function Ae(e){let{title:t,onAdd:i}=e;return(0,te.tZ)(Z.ZP,{size:"small",onClick:i,icon:(0,te.tZ)(I.N_,{isCircled:!0}),children:t})}function Ve(e){let{onDelete:t}=e;return(0,te.tZ)(Z.ZP,{size:"zero",borderless:!0,onClick:t,icon:(0,te.tZ)(I.Fz,{}),title:(0,n.t)("Remove this Y-Axis"),"aria-label":(0,n.t)("Remove this Y-Axis")})}function Re(e){var t;let{displayType:i,widgetType:r,aggregates:s,fieldOptions:a,onChange:o,errors:l}=e;const u=(0,d.Z)(),c=r===X.l9.METRICS,p=i===X.FO.BIG_NUMBER;function g(e){if(!p&&e.value.kind===De.L.FUNCTION){const t=(0,R._4)(e.value.meta.name,void 0);if(t)return(0,R.HW)(t)}return r!==X.l9.METRICS||i!==X.FO.TABLE&&i!==X.FO.TOP_N?e.value.kind===De.L.FUNCTION:e.value.kind===De.L.FUNCTION||e.value.kind===De.L.TAG}function m(e){return t=>{if(p)return!0;if(e.kind!==De.L.FUNCTION)return!0;if(c||t.value.kind===De.L.METRICS)return!0;const i=e.function[0],r=(0,R._4)(i,t.value.meta.name);return r?(0,R.HW)(r):t.value.kind!==De.L.FUNCTION&&(0,R.HW)(t.value.meta.dataType)}}const h=null==l||null===(t=l.find((e=>null==e?void 0:e.aggregates)))||void 0===t?void 0:t.aggregates;if(i===X.FO.TOP_N){const e=s[s.length-1];return(0,te.tZ)(E.Z,{inline:!1,flexibleControlStateSize:!0,error:h,stacked:!0,children:(0,te.tZ)(je,{children:(0,te.tZ)(Ie.q,{fieldValue:e,fieldOptions:(0,Y.R0)({organization:u}),onChange:function(e){const t=[...s];t[s.length-1]=e,o(t)},filterPrimaryOptions:g,filterAggregateParameters:m(e)})})})}const y=s.length>1,b=[X.FO.WORLD_MAP,X.FO.BIG_NUMBER].includes(i)&&1===s.length||[X.FO.LINE,X.FO.AREA,X.FO.STACKED_AREA,X.FO.BAR].includes(i)&&3===s.length;return(0,te.BX)(E.Z,{inline:!1,flexibleControlStateSize:!0,error:h,stacked:!0,children:[s.map(((e,t)=>(0,te.BX)(je,{children:[(0,te.tZ)(Ie.q,{fieldValue:e,fieldOptions:a,onChange:e=>function(e,t){const i=[...s];i[t]=e,o(i)}(e,t),filterPrimaryOptions:g,filterAggregateParameters:m(e),otherColumns:s}),s.length>1&&(y||e.kind===De.L.EQUATION)&&(0,te.tZ)(Ve,{onDelete:e=>function(e,t){e.preventDefault();const i=[...s];i.splice(t,1),o(i)}(e,t)})]},`${e}:${t}`))),!b&&(0,te.BX)(ze,{gap:1,children:[(0,te.tZ)(Ae,{title:(0,n.t)("Add Overlay"),onAdd:function(e){e.preventDefault();const t=[...s,{kind:De.L.FIELD,field:""}];o(t)}}),(0,te.tZ)(Ae,{title:(0,n.t)("Add an Equation"),onAdd:function(e){e.preventDefault();const t=[...s,{kind:De.L.EQUATION,field:""}];o(t)}})]})]})}Ae.displayName="AddButton",Ve.displayName="DeleteButton",Re.displayName="YAxisSelector";const je=(0,l.Z)("div",{target:"e1h6dogu1"})("display:flex;align-items:center;justify-content:space-between;:not(:last-child){margin-bottom:",(0,D.Z)(1),";}>*+*{margin-left:",(0,D.Z)(1),";}"),ze=(0,l.Z)(be.ZP,{target:"e1h6dogu0"})({name:"11g6mpt",styles:"justify-content:flex-start"}),Ue="new",Pe=[[ue.qg.EVENTS,(0,n.t)("All Events (Errors and Transactions)")],[ue.qg.ISSUES,(0,n.t)("Issues (States, Assignment, Time, etc.)")]];function We(e){return{[ue.qg.EVENTS]:{name:"",fields:["count()"],columns:[],aggregates:["count()"],conditions:"",orderby:e?"count":""},[ue.qg.ISSUES]:{name:"",fields:["issue","assignee","title"],columns:["issue","assignee","title"],aggregates:[],conditions:"",orderby:e?Q.qh.DATE:""},[ue.qg.METRICS]:{name:"",fields:[`sum(${U.Ol.SESSION})`],columns:[],aggregates:[`sum(${U.Ol.SESSION})`],conditions:"",orderby:""}}}const Me={[X.l9.DISCOVER]:ue.qg.EVENTS,[X.l9.ISSUE]:ue.qg.ISSUES};function He(e){var t,i,s,a,d,l,u,p,m;let{dashboard:y,widget:T,params:x,location:S,organization:O,selection:k,start:D,end:U,statsPeriod:M,tags:H,onSave:ee,router:ie}=e;const{widgetIndex:se,orgId:ae,dashboardId:ne}=x,{source:oe,displayType:de,defaultTitle:le,defaultTableColumns:pe}=S.query,ge=(0,ue.eQ)(S.query.defaultWidgetQuery),me=(0,A.ri)(se),be=O.slug,fe=O.features.includes("new-widget-builder-experience-design"),Ze=M?{...k,datetime:{start:null,end:null,period:M,utc:null}}:D&&U?{...k,datetime:{start:D,end:U,period:null,utc:null}}:k,we=[X.EN.DISCOVERV2,X.EN.ISSUE_DETAILS].includes(oe),Te=(0,W.Z)(),[xe,qe]=(0,r.useState)((()=>{var e;return T?{title:T.title,displayType:T.displayType,interval:T.interval,queries:(0,ue.Zi)({displayType:T.displayType,queries:T.queries,widgetType:null!==(e=T.widgetType)&&void 0!==e?e:X.l9.DISCOVER,widgetBuilderNewDesign:fe}),errors:void 0,loading:!1,dashboards:[],userHasModified:!1,dataSet:T.widgetType?Me[T.widgetType]:ue.qg.EVENTS}:{title:null!=le?le:(0,n.t)("Custom Widget"),displayType:null!=de?de:ue.FO.TABLE,interval:"5m",queries:[ge?fe?{...ge,orderby:ge.orderby||(0,w._4)({widgetType:X.l9.DISCOVER,widgetBuilderNewDesign:fe,columns:ge.columns,aggregates:ge.aggregates})[0].value}:{...ge}:{...We(fe)[ue.qg.EVENTS]}],errors:void 0,loading:!!we,dashboards:[],userHasModified:!1,dataSet:ue.qg.EVENTS}})),[Oe,Ce]=(0,r.useState)(null);(0,r.useEffect)((()=>{we&&async function(){const e=Te.requestPromise(`/organizations/${O.slug}/dashboards/`,{method:"GET",query:{sort:"myDashboardsAndRecentlyViewed"}});try{const t=await e;qe({...xe,dashboards:t,loading:!1})}catch(e){const t=(0,n.t)("Unable to fetch dashboards");(0,v.Iw)(t),(0,j.Z)(t)(e),qe({...xe,loading:!1})}}()}),[oe]);const ke=xe.dataSet===ue.qg.EVENTS?X.l9.DISCOVER:xe.dataSet===ue.qg.ISSUES?X.l9.ISSUE:X.l9.METRICS,Be={title:xe.title,displayType:xe.displayType,interval:xe.interval,queries:xe.queries,widgetType:ke},_e=null!==(t=null===(i=xe.selectedDashboard)||void 0===i?void 0:i.value)&&void 0!==t?t:ne,Fe=h()(S.query,"source"),Le={pathname:_e?`/organizations/${ae}/dashboard/${_e}/`:`/organizations/${ae}/dashboards/new/`,query:g()(Fe)?void 0:Fe};function Ie(e,t){var i;(0,V.Z)("dashboards_views.add_widget_in_builder.change",{from:oe,field:e,value:t,widget_type:ke,organization:O}),qe((i=>{const r=c()(i);return b()(r,e,t),{...r,errors:void 0}})),"displayType"===e&&t!==xe.displayType&&(i=t,qe((e=>{const t=c()(e),r=(0,ue.Zi)({displayType:i,queries:e.queries,widgetType:e.dataSet===ue.qg.EVENTS?X.l9.DISCOVER:X.l9.ISSUE,widgetBuilderNewDesign:fe});if(i===ue.FO.TOP_N&&r.splice(1),e.displayType===ue.FO.TABLE&&null!=T&&T.widgetType&&Me[T.widgetType]===ue.qg.ISSUES)return b()(t,"queries",(0,ue.Zi)({displayType:i,queries:[{...We(fe)[ue.qg.EVENTS]}],widgetType:X.l9.DISCOVER,widgetBuilderNewDesign:fe})),b()(t,"dataSet",ue.qg.EVENTS),{...t,errors:void 0};if(!e.userHasModified){if(i===ue.FO.TABLE&&(null==T?void 0:T.widgetType)===X.l9.ISSUE)return b()(t,"queries",T.queries),b()(t,"dataSet",ue.qg.ISSUES),{...t,errors:void 0};ge&&pe&&(i===ue.FO.TABLE?r.forEach((e=>{e.columns=[...ge.columns],e.aggregates=[...ge.aggregates],e.fields=[...pe]})):i===de&&r.forEach((e=>{e.fields=[...ge.columns,...ge.aggregates],e.aggregates=[...ge.aggregates],e.columns=[...ge.columns],ge.orderby&&(e.orderby=ge.orderby)})))}return e.dataSet===ue.qg.ISSUES&&b()(t,"dataSet",ue.qg.EVENTS),b()(t,"queries",r),{...t,errors:void 0}})))}function De(e,t){qe((i=>{const r=c()(i);return b()(r,`queries.${e}`,t),b()(r,"userHasModified",!0),{...r,errors:void 0}}))}function Ae(e){const t=e.map(R.sN);for(const i in xe.queries){const r=Number(i),s=xe.queries[r],a=s.orderby.startsWith("-"),n=s.orderby.replace("-",""),o=s.aggregates.map(R.LY),d=c()(s);d.aggregates=t,d.fields=[...d.columns,...t],t.includes(n)||""===s.orderby||(o.length===e.length?d.orderby=`${a&&"-"}${t[o.indexOf(n)]}`:d.orderby=""),De(r,d)}}function Ve(e){const{aggregates:t,columns:i}=(0,R.KZ)(e),r=e.map(R.sN),s=r.map(R.LY);for(const a in xe.queries){const n=Number(a),o=xe.queries[n],d=o.orderby.startsWith("-"),l=o.orderby.replace("-",""),u=o.aggregates.map(R.LY),p=c()(o);p.fields=r,p.aggregates=t,p.columns=i,s.includes(l)||""===o.orderby||(u.length===e.length?p.orderby=`${d&&"-"}${s[u.indexOf(l)]}`:p.orderby=""),fe&&0===n&&(p.orderby=s[0]),De(n,p)}}function je(e,t){const i=!g()(Fe)||t?{...Fe,...t}:void 0;e!==Ue?ie.push({pathname:`/organizations/${O.slug}/dashboard/${e}/`,query:i}):ie.push({pathname:`/organizations/${O.slug}/dashboards/new/`,query:i})}function ze(e){return(0,Y.R0)({organization:O,tagKeys:Object.values(H).map((e=>{let{key:t}=e;return t})),measurementKeys:Object.values(e).map((e=>{let{key:t}=e;return t})),spanOperationBreakdownKeys:P.$})}if(me&&se>=y.widgets.length)return(0,te.tZ)(F.Z,{title:y.title,orgSlug:be,children:(0,te.tZ)(o.JH,{children:(0,te.tZ)(B.Z,{message:(0,n.t)("The widget you want to edit was not found.")})})});const He=[ue.FO.LINE,ue.FO.AREA,ue.FO.STACKED_AREA,ue.FO.BAR].includes(xe.displayType)&&xe.queries.length<3,$e=[ue.FO.TABLE,ue.FO.WORLD_MAP,ue.FO.BIG_NUMBER].includes(xe.displayType),{columns:nt,aggregates:ot,fields:dt}=xe.queries[0],lt=nt.map((e=>(0,R.HM)({field:e}))),ut=ot.map((e=>(0,R.HM)({field:e}))),ct=(0,A.ri)(dt)?dt.map((e=>(0,R.HM)({field:e}))):[...lt,...ut],pt=xe.queries[0].orderby;return(0,te.tZ)(F.Z,{title:y.title,orgSlug:be,children:(0,te.tZ)(N.Z,{skipLoadLastUsed:O.features.includes("global-views"),defaultSelection:{datetime:{start:null,end:null,utc:!1,period:K.GY}},children:(0,te.BX)(Xe,{children:[(0,te.tZ)(Se,{orgSlug:be,title:xe.title,dashboardTitle:y.title,goBackLocation:Le,onChangeTitle:e=>{Ie("title",e)}}),(0,te.BX)(it,{children:[(0,te.BX)(at,{children:[(0,te.tZ)(rt,{children:(0,te.BX)(tt,{symbol:"colored-numeric",children:[(0,te.BX)(re,{title:(0,n.t)("Choose your visualization"),description:(0,n.t)("This is a preview of how your widget will appear in the dashboard."),children:[(0,te.tZ)(ye,{displayType:xe.displayType,onChange:e=>{Ie("displayType",e.value)},error:null===(s=xe.errors)||void 0===s?void 0:s.displayType}),(0,te.tZ)(Ge,{displayType:xe.displayType,children:(0,te.tZ)(J.Z,{organization:O,selection:Ze,widget:Be,isEditing:!1,widgetLimitReached:!1,renderErrorMessage:e=>"string"==typeof e&&(0,te.tZ)(_.aU,{type:"error",children:e}),isSorting:!1,currentWidgetDragging:!1,noLazyLoad:!0})})]}),(0,te.tZ)(re,{title:(0,n.t)("Choose your data set"),description:(0,n.t)("This reflects the type of information you want to use. For a full list, read the docs."),children:(0,te.tZ)(Ye,{label:"dataSet",value:xe.dataSet,choices:Pe,disabledChoices:xe.displayType!==ue.FO.TABLE?[[ue.qg.ISSUES,(0,n.t)("This data set is restricted to the table visualization.")]]:void 0,onChange:function(e){qe((t=>{const i=c()(t);return i.queries.splice(0,i.queries.length),b()(i,"dataSet",e),e===ue.qg.ISSUES&&b()(i,"displayType",ue.FO.TABLE),i.queries.push(...null!=T&&T.widgetType&&Me[T.widgetType]===e?T.queries:[{...We(fe)[e]}]),b()(i,"userHasModified",!0),{...i,errors:void 0}}))}})}),[ue.FO.TABLE,ue.FO.TOP_N].includes(xe.displayType)&&(0,te.tZ)(re,{title:(0,n.t)("Choose your columns"),description:xe.dataSet!==ue.qg.ISSUES?(0,n._N)("To group events, add [functionLink: functions] f(x) that may take in additional parameters. [tagFieldLink: Tag and field] columns will help you view more details about the events (i.e. title).",{functionLink:(0,te.tZ)(C.Z,{href:"https://docs.sentry.io/product/discover-queries/query-builder/#filter-by-table-columns"}),tagFieldLink:(0,te.tZ)(C.Z,{href:"https://docs.sentry.io/product/sentry-basics/search/searchable-properties/#event-properties"})}):(0,n._N)("[tagFieldLink: Tag and field] columns will help you view more details about the issues (i.e. title).",{tagFieldLink:(0,te.tZ)(C.Z,{href:"https://docs.sentry.io/product/sentry-basics/search/searchable-properties/#event-properties"})}),children:xe.dataSet===ue.qg.EVENTS?(0,te.tZ)(z.Z,{children:e=>{var t;let{measurements:i}=e;return(0,te.tZ)(ce,{displayType:xe.displayType,organization:O,widgetType:ke,columns:lt,aggregates:ut,fields:ct,errors:null===(t=xe.errors)||void 0===t?void 0:t.queries,fieldOptions:ze(i),onChange:Ve})}}):(0,te.tZ)(ce,{displayType:xe.displayType,organization:O,widgetType:ke,columns:lt,aggregates:ut,fields:ct,errors:null!==(a=xe.errors)&&void 0!==a&&null!==(d=a.queries)&&void 0!==d&&d[0]?[null===(l=xe.errors)||void 0===l||null===(u=l.queries)||void 0===u?void 0:u[0]]:void 0,fieldOptions:(0,G.S)(),onChange:e=>{const t=e.map(R.sN),i=(0,R.KZ)(e),r=c()(xe.queries[0]);r.fields=t,r.aggregates=i.aggregates,r.columns=i.columns,De(0,r)}})}),![ue.FO.TABLE].includes(xe.displayType)&&(0,te.tZ)(re,{title:de===ue.FO.BIG_NUMBER?(0,n.t)("Choose what to plot"):(0,n.t)("Choose what to plot in the y-axis"),description:[ue.FO.AREA,ue.FO.BAR,ue.FO.LINE].includes(de)?(0,n.t)("This is the data you'd be visualizing in the display. You can chart multiple overlays if they share a similar unit."):(0,n.t)("This is the data you'd be visualizing in the display."),children:(0,te.tZ)(z.Z,{children:e=>{var t;let{measurements:i}=e;return(0,te.tZ)(Re,{widgetType:ke,displayType:xe.displayType,aggregates:ut,fieldOptions:ze(i),onChange:Ae,errors:null===(t=xe.errors)||void 0===t?void 0:t.queries})}})}),(0,te.tZ)(re,{title:(0,n.t)("Filter your results"),description:He?(0,n.t)("This is how you filter down your search. You can add multiple queries to compare data."):(0,n.t)("This is how you filter down your search."),children:(0,te.BX)("div",{children:[xe.queries.map(((e,t)=>{var i,r,s;return(0,te.tZ)(et,{inline:!1,flexibleControlStateSize:!0,stacked:!0,error:null===(i=xe.errors)||void 0===i||null===(r=i.queries)||void 0===r||null===(s=r[t])||void 0===s?void 0:s.conditions,children:(0,te.BX)(Qe,{children:[(0,te.tZ)(Ke,{searchSource:"widget_builder",organization:O,projectIds:k.projects,query:e.conditions,fields:[],onSearch:e=>{Ce(window.setTimeout((()=>{Ce(null)}),200));const i={...xe.queries[t],conditions:e};De(t,i)},onBlur:e=>{if(!Oe){const i={...xe.queries[t],conditions:e};De(t,i)}},useFormWrapper:!1,maxQueryLength:L.dI}),!$e&&(0,te.tZ)(Je,{type:"text",name:"name",value:e.name,placeholder:(0,n.t)("Legend Alias"),onChange:e=>{const i={...xe.queries[t],name:e.target.value};De(t,i)}}),xe.queries.length>1&&(0,te.tZ)(Z.ZP,{size:"zero",borderless:!0,onClick:()=>{return e=t,void qe((t=>{const i=c()(t);return i.queries.splice(e,1),{...i,errors:void 0}}));var e},icon:(0,te.tZ)(I.Fz,{}),title:(0,n.t)("Remove query"),"aria-label":(0,n.t)("Remove query")})]})},t)})),He&&(0,te.tZ)(Z.ZP,{size:"small",icon:(0,te.tZ)(I.N_,{isCircled:!0}),onClick:function(){qe((e=>{const t=c()(e),i=c()(We(fe)[ue.qg.EVENTS]);return i.fields=e.queries[0].fields,i.aggregates=e.queries[0].aggregates,i.columns=e.queries[0].columns,t.queries.push(i),t}))},children:(0,n.t)("Add query")})]})}),[ue.FO.TABLE,ue.FO.TOP_N].includes(xe.displayType)&&(0,te.tZ)(re,{title:(0,n.t)("Sort by a column"),description:(0,n.t)("Choose one of the columns you've created to sort by."),children:(0,te.tZ)(E.Z,{inline:!1,error:null===(p=xe.errors)||void 0===p?void 0:p.orderby,flexibleControlStateSize:!0,stacked:!0,children:fe?(0,te.tZ)(Ee,{sortByOptions:xe.dataSet===ue.qg.EVENTS?(0,w._4)({widgetType:ke,widgetBuilderNewDesign:!0,columns:xe.queries[0].columns,aggregates:xe.queries[0].aggregates}):(0,G.W)(O.features.includes("issue-list-trend-sort")),values:{sortDirection:"-"===pt[0]?ue.Sr.HIGH_TO_LOW:ue.Sr.LOW_TO_HIGH,sortBy:"-"===pt[0]?pt.substring(1,pt.length):pt},onChange:e=>{let{sortDirection:t,sortBy:i}=e;De(0,{...xe.queries[0],orderby:t===ue.Sr.HIGH_TO_LOW?`-${i}`:i})}}):(0,te.tZ)(q.Z,{menuPlacement:"auto",value:xe.dataSet===ue.qg.EVENTS?xe.queries[0].orderby:xe.queries[0].orderby||Q.qh.DATE,name:"orderby",options:xe.dataSet===ue.qg.EVENTS?(0,w._4)({widgetType:ke,columns:xe.queries[0].columns,aggregates:xe.queries[0].aggregates}):(0,G.W)(O.features.includes("issue-list-trend-sort")),onChange:e=>{De(0,{...xe.queries[0],orderby:e.value})}})})}),we&&(0,te.tZ)(re,{title:(0,n.t)("Choose your dashboard"),description:(0,n.t)("Choose which dashboard you'd like to add this query to. It will appear as a widget."),required:!0,children:(0,te.tZ)(he,{error:null===(m=xe.errors)||void 0===m?void 0:m.dashboard,dashboards:xe.dashboards,onChange:e=>qe({...xe,selectedDashboard:e,errors:{...xe.errors,dashboard:void 0}}),disabled:xe.loading})})]})}),(0,te.tZ)(ve,{goBackLocation:Le,isEditing:me,onSave:async function(){var e;const t=(0,$.TE)(Be);if(T&&(t.layout=null==T?void 0:T.layout),[ue.FO.TABLE,ue.FO.TOP_N].includes(t.displayType)||t.queries.forEach((e=>{e.orderby=""})),await async function(e){if(we&&(!xe.selectedDashboard||!xe.dashboards.find((e=>{var t,i;let{title:r,id:s}=e;return r===(null===(t=xe.selectedDashboard)||void 0===t?void 0:t.label)&&s===(null===(i=xe.selectedDashboard)||void 0===i?void 0:i.value)}))&&xe.selectedDashboard.value!==Ue))return qe({...xe,errors:{...xe.errors,dashboard:(0,n.t)("This field may not be blank")}}),!1;qe({...xe,loading:!0});try{return await(0,f.QL)(Te,O.slug,e),!0}catch(e){var t;return qe({...xe,loading:!1,errors:{...xe.errors,...(0,ue.wc)(null!==(t=null==e?void 0:e.responseJSON)&&void 0!==t?t:{},{})}}),!1}}(t))if(we)!function(e){var t;if(!xe.selectedDashboard)return;const i={queryNames:[],queryConditions:[],queryFields:[...e.queries[0].columns,...e.queries[0].aggregates],queryOrderby:e.queries[0].orderby};e.queries.forEach((e=>{i.queryNames.push(e.name),i.queryConditions.push(e.conditions)}));const r={displayType:e.displayType,interval:e.interval,title:e.title,...i,project:Ze.projects,environment:Ze.environments,...h()(Ze.datetime,"period"),statsPeriod:null===(t=Ze.datetime)||void 0===t?void 0:t.period};(0,v.S9)((0,n.t)("Added widget.")),je(xe.selectedDashboard.value,r)}(t);else{if(T){let e=[...y.widgets];const i=e.indexOf(T),r={...t,id:T.id};return(0,$.I_)(T.displayType)!==(0,$.I_)(t.displayType)?(e[i]=(0,$.W8)(r),e=(0,$.Bb)(e)):e[i]=r,ee(e),(0,v.S9)((0,n.t)("Updated widget.")),je(null!=ne?ne:Ue),void(0,V.Z)("dashboards_views.edit_widget_in_builder.confirm",{organization:O})}ee([...y.widgets,t]),(0,v.S9)((0,n.t)("Added widget.")),je(null!=ne?ne:Ue),(0,V.Z)("dashboards_views.add_widget_in_builder.confirm",{organization:O,data_set:null!==(e=t.widgetType)&&void 0!==e?e:X.l9.DISCOVER})}},onDelete:function(){if(!me)return;let e=[...y.widgets];e.splice(se,1),e=(0,$.Bb)(e),ee(e),ie.push(Le)},invalidForm:!(!we||xe.selectedDashboard)})]}),(0,te.tZ)(st,{children:(0,te.tZ)(Ne,{onWidgetSelect:e=>qe({...xe,...e,dataSet:e.widgetType?Me[e.widgetType]:ue.qg.EVENTS,userHasModified:!1}),bypassOverwriteModal:!xe.userHasModified})})]})]})})})}He.displayName="WidgetBuilder";const $e=(0,M.Z)((0,H.Z)(He)),Xe=(0,l.Z)(o.JH,{target:"e1rwomk111"})({name:"1hcx8jb",styles:"padding:0"}),Ge=(0,l.Z)("div",{target:"e1rwomk110"})("overflow:",(e=>e.displayType===ue.FO.TABLE?"hidden":"visible"),";padding-right:",(0,D.Z)(2),";"),Ye=(0,l.Z)(S.Z,{target:"e1rwomk19"})("@media (min-width: ",(e=>e.theme.breakpoints[2]),"){grid-auto-flow:column;}"),Qe=(0,l.Z)("div",{target:"e1rwomk18"})("display:flex;align-items:center;>*+*{margin-left:",(0,D.Z)(1),";}"),Ke=(0,l.Z)(T.Z,{target:"e1rwomk17"})({name:"1ff36h2",styles:"flex-grow:1"}),Je=(0,l.Z)(x.Z,{target:"e1rwomk16"})({name:"1f6lq61",styles:"width:33%"}),et=(0,l.Z)(E.Z,{target:"e1rwomk15"})("padding-bottom:",(0,D.Z)(1),";"),tt=(0,l.Z)(k.Z,{target:"e1rwomk14"})("gap:",(0,D.Z)(4),";max-width:100%;"),it=(0,l.Z)(O.uT,{target:"e1rwomk13"})("grid-template-rows:1fr;&&{gap:0;padding:0;}@media (max-width: ",(e=>e.theme.breakpoints[3]),"){grid-template-columns:1fr;}@media (min-width: ",(e=>e.theme.breakpoints[2]),"){grid-template-columns:minmax(100px, auto) calc(325px + ",(0,D.Z)(2)+(0,D.Z)(2),");}@media (min-width: ",(e=>e.theme.breakpoints[3]),"){grid-template-columns:minmax(100px, auto) calc(325px + ",(0,D.Z)(2)+(0,D.Z)(4),");}"),rt=(0,l.Z)(O.or,{target:"e1rwomk12"})("max-width:1000px;flex:1;padding:",(0,D.Z)(4)," ",(0,D.Z)(2),";@media (min-width: ",(e=>e.theme.breakpoints[1]),"){padding:",(0,D.Z)(4),";}"),st=(0,l.Z)(O.MF,{target:"e1rwomk11"})("padding:",(0,D.Z)(4)," ",(0,D.Z)(2),";@media (min-width: ",(e=>e.theme.breakpoints[3]),"){border-left:1px solid ",(e=>e.theme.gray200),";padding-right:",(0,D.Z)(4),";}@media (max-width: ",(e=>e.theme.breakpoints[3]),"){border-top:1px solid ",(e=>e.theme.gray200),";}@media (max-width: ",(e=>e.theme.breakpoints[3]),"){grid-row:2/2;grid-column:1/1;}"),at=(0,l.Z)("div",{target:"e1rwomk10"})({name:"1fttcpj",styles:"display:flex;flex-direction:column"});function nt(e){const t=(0,d.Z)();return(0,te.tZ)(s.Z,{features:["new-widget-builder-experience","dashboards-edit"],organization:t,renderDisabled:()=>(0,te.tZ)(o.JH,{children:(0,te.tZ)(a.Z,{type:"warning",children:(0,n.t)("You don't have access to this feature")})}),children:(0,te.tZ)($e,{...e,organization:t})})}nt.displayName="WidgetBuilderContainer";const ot=nt},"./app/views/dashboardsV2/widgetBuilder/issueWidget/utils.tsx":(e,t,i)=>{i.d(t,{S:()=>n,W:()=>d}),i("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=i("./app/views/eventsV2/table/types.tsx"),s=i("./app/views/issueList/utils.tsx"),a=i("./app/views/dashboardsV2/widgetBuilder/issueWidget/fields.tsx");function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.$L;const t=Object.keys(e).sort(),i={};return t.forEach((t=>{i[`field:${t}`]={label:t,value:{kind:r.L.FIELD,meta:{name:t,dataType:e[t]}}}})),i}const o=[s.qh.DATE,s.qh.NEW,s.qh.FREQ,s.qh.PRIORITY,s.qh.USER];function d(e){const t=[...o];return e&&t.push(s.qh.TREND),t.map((e=>({label:(0,s._k)(e),value:e})))}},"./app/views/dashboardsV2/widgetBuilder/widgetLibrary/card.tsx":(e,t,i)=>{i.d(t,{Z:()=>o});var r=i("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=i("./app/styles/space.tsx"),a=i("./app/views/dashboardsV2/widgetLibrary/widgetCard.tsx"),n=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function o(e){let{widget:t,iconColor:i}=e;const{title:r,description:s,displayType:o}=t,g=(0,a.T)(o);return(0,n.BX)(d,{children:[(0,n.tZ)(p,{backgroundColor:i,children:(0,n.tZ)(g,{color:"white"})}),(0,n.BX)(l,{children:[(0,n.tZ)(u,{children:r}),(0,n.tZ)(c,{children:s})]})]})}o.displayName="Card";const d=(0,r.Z)("div",{target:"e1kr3ej04"})("display:flex;flex-direction:row;gap:",(0,s.Z)(1),";"),l=(0,r.Z)("div",{target:"e1kr3ej03"})({name:"1fttcpj",styles:"display:flex;flex-direction:column"}),u=(0,r.Z)("div",{target:"e1kr3ej02"})("font-size:",(e=>e.theme.fontSizeLarge),";font-weight:500;margin-bottom:0;color:",(e=>e.theme.gray500),";"),c=(0,r.Z)("small",{target:"e1kr3ej01"})("color:",(e=>e.theme.gray300),";"),p=(0,r.Z)("div",{target:"e1kr3ej00"})("display:flex;justify-content:center;align-items:center;padding:",(0,s.Z)(1),";min-width:40px;height:40px;border-radius:",(e=>e.theme.borderRadius),";background:",(e=>e.backgroundColor),";")},"./app/views/dashboardsV2/widgetLibrary/data.tsx":(e,t,i)=>{i.d(t,{c:()=>a});var r=i("./app/locale.tsx"),s=i("./app/views/dashboardsV2/types.tsx");const a=[{id:void 0,title:(0,r.t)("Duration Distribution"),description:(0,r.t)("Compare transaction durations across different percentiles."),displayType:s.FO.LINE,widgetType:s.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"event.type:transaction",fields:["p50(transaction.duration)","p75(transaction.duration)","p95(transaction.duration)"],aggregates:["p50(transaction.duration)","p75(transaction.duration)","p95(transaction.duration)"],columns:[],orderby:""}]},{id:void 0,title:(0,r.t)("High Throughput Transactions"),description:(0,r.t)("Top 5 transactions with the largest volume."),displayType:s.FO.TOP_N,widgetType:s.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"event.type:transaction",fields:["transaction","count()"],aggregates:["count()"],columns:["transaction"],orderby:"-count"}]},{id:void 0,title:(0,r.t)("LCP by Country"),description:(0,r.t)("Density map showing page load times by country."),displayType:s.FO.WORLD_MAP,widgetType:s.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"has:geo.country_code",fields:["p75(measurements.lcp)"],aggregates:["p75(measurements.lcp)"],columns:[],orderby:""}]},{id:void 0,title:(0,r.t)("Miserable Users"),description:(0,r.t)("Unique users who have experienced slow load times."),displayType:s.FO.BIG_NUMBER,widgetType:s.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"",fields:["count_miserable(user,300)"],aggregates:["count_miserable(user,300)"],columns:[],orderby:""}]},{id:void 0,title:(0,r.t)("Slow vs. Fast Transactions"),description:(0,r.t)("Percentage breakdown of transaction durations over and under 300ms."),displayType:s.FO.BAR,widgetType:s.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"event.type:transaction",fields:["equation|(count_if(transaction.duration,greater,300) / count()) * 100","equation|(count_if(transaction.duration,lessOrEquals,300) / count()) * 100"],aggregates:["equation|(count_if(transaction.duration,greater,300) / count()) * 100","equation|(count_if(transaction.duration,lessOrEquals,300) / count()) * 100"],columns:[],orderby:""}]},{id:void 0,title:(0,r.t)("Issues For Review"),description:(0,r.t)("Most recently seen unresolved issues for review."),displayType:s.FO.TABLE,widgetType:s.l9.ISSUE,interval:"5m",queries:[{name:"",conditions:"is:unresolved is:for_review",fields:["issue","assignee","events","title"],aggregates:[],columns:["issue","assignee","events","title"],orderby:"date"}]},{id:void 0,title:(0,r.t)("Top Unhandled Error Types"),description:(0,r.t)("Most frequently encountered unhandled errors."),displayType:s.FO.TOP_N,widgetType:s.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"error.unhandled:true",fields:["error.type","count()"],aggregates:["count()"],columns:["error.type"],orderby:"-count"}]},{id:void 0,title:(0,r.t)("Users Affected by Errors"),description:(0,r.t)("Footprint of unique users affected by errors."),displayType:s.FO.LINE,widgetType:s.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"event.type:error",fields:["count_unique(user)","count()"],aggregates:["count_unique(user)","count()"],columns:[],orderby:""}]}]},"./app/views/dashboardsV2/widgetLibrary/widgetCard.tsx":(e,t,i)=>{i.d(t,{T:()=>p,Z:()=>f});var r=i("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=(i("../node_modules/core-js/modules/web.dom-collections.iterator.js"),i("../node_modules/react/index.js")),a=i("./app/components/panels/index.tsx"),n=i("./app/icons/index.tsx"),o=i("./app/icons/iconGraphArea.tsx"),d=i("./app/icons/iconGraphBar.tsx"),l=i("./app/styles/space.tsx"),u=i("./app/views/dashboardsV2/types.tsx"),c=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function p(e){switch(e){case u.FO.TABLE:return n.dc;case u.FO.WORLD_MAP:return n.vc;case u.FO.BIG_NUMBER:return n.A8;case u.FO.BAR:return d.U;case u.FO.TOP_N:return n.CC;case u.FO.AREA:return o.g;case u.FO.LINE:default:return n.TX}}function g(e){let{selectedWidgets:t,widget:i,setSelectedWidgets:r,"data-test-id":n}=e;const[o,d]=(0,s.useState)(t.includes(i)),l=p(i.displayType);return(0,c.tZ)(b,{"data-test-id":n,selected:o,onClick:()=>{if(o){const e=t.filter((e=>i!==e));r(e)}else{const e=t.slice().concat(i);r(e)}d(!o)},children:(0,c.BX)(a.N,{children:[(0,c.BX)(h,{children:[(0,c.tZ)(l,{size:"xs"}),(0,c.tZ)(m,{children:i.title})]}),(0,c.tZ)(y,{children:i.description})]})})}g.displayName="WidgetLibraryCard";const m=(0,r.Z)("div",{target:"e11j9f793"})("padding-left:",(0,l.Z)(1),";font-size:16px;line-height:140%;color:",(e=>e.theme.gray500),";"),h=(0,r.Z)("div",{target:"e11j9f792"})("padding:",(0,l.Z)(1.5)," ",(0,l.Z)(2),";padding-bottom:",(0,l.Z)(.5),";display:flex;align-items:center;"),y=(0,r.Z)("div",{target:"e11j9f791"})("padding:0 ",(0,l.Z)(1)," ",(0,l.Z)(1.5)," 36px;font-size:14px;line-height:21px;color:",(e=>e.theme.gray300),";"),b=(0,r.Z)(a.s_,{target:"e11j9f790"})("border:",(e=>e.selected?`2px solid ${e.theme.active}`:`1px solid ${e.theme.border}`),";margin:",(e=>e.selected?"-1px":0),";box-sizing:border-box;box-shadow:0px 2px 1px rgba(0, 0, 0, 0.08);cursor:pointer;"),f=g}}]);
//# sourceMappingURL=../sourcemaps/app_views_dashboardsV2_widgetBuilder_index_tsx.36cb69d23641d3b43c6821132324eb3f.js.map